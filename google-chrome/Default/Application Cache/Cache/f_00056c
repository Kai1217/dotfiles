r2c.prototype.d_=W(1355,function(a){ky(this.fb.bw(this.D),"docs-icon-comment-blank-highlighted",a)});v2c.prototype.d_=W(1354,function(a){var b=FI(this.D);this.C.Xe(function(c){var d=a&&c.qp().gb()==b;c.d_(d)})});o_b.prototype.OLa=W(1222,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||IG(h)&&d||mPe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||IG(c)&&d||mPe(c)))return c;return null});
Nla.prototype.Ifa=W(7,function(){throw Hca("setValue not supported").C;});Sca.prototype.H=W(2,function(){throw Hca("remove").C;});uda.prototype.H=W(1,function(){this.J.splice(this.F,1);this.F--});Mla.prototype.H=W(0,function(){Zca(0<=this.F);Tla(this.J,this.L[this.F]);Ula(this.J);--this.F});function b5g(a,b){a.$T=b.$T;return a}function c5g(a,b,c){for(a=a.jj();a.C();){var d=a.D();if(yb(b,d))return c&&a.H(),!0}return!1}function d5g(a,b,c){return a.$Y(b)?a.Mxa(b,c):null}
function e5g(a,b){var c=b.Tq();b=b.Uq();var d=a.get(c);return!yb(b,d)||null==d&&!a.$Y(c)?!1:!0}function f5g(a){return a?a.Uq():null}function g5g(a){if(a.F.C())return!0;if(!Sa(a.F,a.R))return!1;a.F=a.L.C.jj();return a.F.C()}function h5g(a,b){return(a=a.C.get(b))?a:[]}function i5g(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(yb(a,d.Tq()))return d}return null}function j5g(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}
function k5g(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function l5g(a,b){for(b=b.jj();b.C();){var c=b.D().Uq();if(yb(a,c))return!0}return!1}function m5g(){this.J=this.F=0}t(m5g,Qa);m5g.prototype.C=function(){return this.F<this.L.size()};m5g.prototype.D=function(){this.C();return this.L.oqa(this.J=this.F++)};m5g.prototype.H=function(){this.L.yia(this.J);this.F=this.J;this.J=-1};function n5g(){m5g.call(this)}t(n5g,m5g);function o5g(){this.J=!1}t(o5g,Qa);
o5g.prototype.C=g("J");o5g.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=g5g(this);return a};o5g.prototype.H=function(){this.O.H();this.O=null;this.J=g5g(this)};function p5g(){}t(p5g,Qa);p5g.prototype.C=function(){return this.F.C()};p5g.prototype.D=function(){return this.F.D().Uq()};p5g.prototype.H=function(){this.F.H()};function q5g(){}t(q5g,Qa);q5g.prototype.C=function(){return this.F.C()};q5g.prototype.D=function(){return this.F.D().Tq()};q5g.prototype.H=function(){this.F.H()};
function r5g(){this.F=this.J=0}t(r5g,Qa);r5g.prototype.C=function(){return this.J<this.L.C.length};r5g.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};r5g.prototype.H=function(){this.L.yia(this.J=this.F);this.F=-1};function s5g(a){var b;null==a?b=0:b=Bb(a)|0;return b}function t5g(a,b){for(var c=s5g(b),d=h5g(a,c),e=0;e<d.length;e++){var f=d[e];if(yb(b,f.Tq()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Uq()}return null}
function u5g(){this.F=0}t(u5g,Qa);u5g.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};u5g.prototype.D=function(){return this.L=this.J[this.F++]};u5g.prototype.H=function(){t5g(this.O,this.L.Tq());0!=this.F&&this.F--};function v5g(){this.D=0}t(v5g,Qa);v5g.prototype.jj=function(){var a=new u5g;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function w5g(a){var b=0;for(a=a.jj();a.C();){var c=a.D();b+=Xba(c);b|=0}return b}function x5g(){}t(x5g,Qa);x5g.prototype.equals=function(a){return null!=a&&a.F_?yb(this.Tq(),a.Tq())&&yb(this.Uq(),a.Uq()):!1};x5g.prototype.nk=function(){return Xba(this.Tq())^Xba(this.Uq())};x5g.prototype.toString=function(){return Ta(this.Tq())+"="+Ta(this.Uq())};x5g.prototype.F_=!0;function y5g(){this.F=0}t(y5g,x5g);y5g.prototype.Tq=function(){return this.C.value[0]};
y5g.prototype.Uq=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};y5g.prototype.Ifa=function(a){return k5g(this.D,this.C.value[0],a)};function z5g(){}t(z5g,Qa);z5g.prototype.C=function(){return!this.J.done};z5g.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new y5g,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};z5g.prototype.H=function(){j5g(this.F,this.O.value[0])};function A5g(){this.D=this.F=0}t(A5g,Qa);
A5g.prototype.jj=function(){var a=new z5g;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function B5g(a){var b=new v5g;b.C=new Map;b.F=a;a.C=b;b=new A5g;b.C=new Map;b.H=a;a.D=b}function C5g(a,b){return Sa(b,a)?"(this Map)":Ta(b)}function D5g(){}t(D5g,Qa);D5g.prototype.toString=function(){return this.C?Vb(this.D)?this.C.toString():Ta(this.C.toString())+Ta(this.D):this.J};function E5g(a,b){var c=new D5g;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ta(c.F)+Ta(c.D);return c}
function F5g(a,b){a.C?Gb(a.C,a.H):a.C=dca(a.F);a=a.C;a.ep=Ta(a.ep)+Ta(b)}function G5g(){}t(G5g,Qa);m=G5g.prototype;m.Tq=g("D");m.Uq=g("C");m.Ifa=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.F_?yb(this.D,a.Tq())&&yb(this.C,a.Uq()):!1};m.nk=function(){return Xba(this.D)^Xba(this.C)};m.toString=function(){return Ta(this.D)+"="+Ta(this.C)};m.F_=!0;function H5g(){}t(H5g,G5g);function I5g(a,b){var c=new H5g;c.D=a;c.C=b;return c}
function J5g(a,b,c){var d=s5g(b),e=h5g(a,d);if(0==e.length)a.C.set(d,e);else if(d=i5g(b,e))return d.Ifa(c);e[e.length]=I5g(b,c);a.D++;return null}function K5g(a,b,c){for(a=a.$H().jj();a.C();){var d=a.D();if(yb(b,d.Tq()))return c&&(d=I5g(d.Tq(),d.Uq()),a.H()),d}return null}function L5g(){}t(L5g,Qa);m=L5g.prototype;m.add=function(){throw Hca("Add not supported on this collection").C;};m.clear=function(){for(var a=this.jj();a.C();)a.D(),a.H()};m.contains=function(a){return c5g(this,a,!1)};
m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return c5g(this,a,!0)};m.Kc=function(a){for(var b=!1,c=this.jj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Qf=function(){return this.JTa(Array(this.size()))};m.JTa=function(a){var b=this.size();a.length<b&&(a=b5g(Array(b),a));for(var c=a,d=this.jj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};
m.toString=function(){for(var a=E5g("[","]"),b=this.jj();b.C();){var c=b.D();F5g(a,Sa(c,this)?"(this Collection)":Ta(c))}return a.toString()};function M5g(){}t(M5g,L5g);M5g.prototype.clear=function(){this.C.clear()};M5g.prototype.contains=function(a){return this.C.Pu(a)};M5g.prototype.jj=function(){var a=this.C.$H().jj(),b=new p5g;b.F=a;return b};M5g.prototype.size=function(){return this.C.size()};function N5g(){}t(N5g,L5g);
N5g.prototype.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.mDa)return!1;if(a.size()!=this.size())a=!1;else a:{for(a=a.jj();a.C();){var b=a.D();if(!this.contains(b)){a=!1;break a}}a=!0}return a};N5g.prototype.nk=function(){return w5g(this)};N5g.prototype.Kc=function(a){var b=this.size();if(b<a.size())for(var c=this.jj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.jj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};N5g.prototype.mDa=!0;function O5g(){}t(O5g,N5g);m=O5g.prototype;
m.clear=function(){this.C.clear()};m.contains=function(a){return null!=a&&a.F_?e5g(this.C,a):!1};m.jj=function(){var a=new o5g;a.L=this.C;a.R=a.L.D.jj();a.F=a.R;a.J=g5g(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Tq()),!0):!1};m.size=function(){return this.C.size()};function P5g(){}t(P5g,N5g);m=P5g.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.$Y(a)};m.jj=function(){var a=this.C.$H().jj(),b=new q5g;b.F=a;return b};
m.remove=function(a){return this.C.$Y(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function Q5g(){}t(Q5g,Qa);m=Q5g.prototype;m.clear=function(){this.$H().clear()};m.$Y=function(a){return!!K5g(this,a,!1)};m.Pu=function(a){for(var b=this.$H().jj();b.C();){var c=b.D().Uq();if(yb(a,c))return!0}return!1};m.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.s4a||this.size()!=a.size())return!1;for(a=a.$H().jj();a.C();){var b=a.D();if(!e5g(this,b))return!1}return!0};
m.get=function(a){return f5g(K5g(this,a,!1))};m.nk=function(){return w5g(this.$H())};m.isEmpty=function(){return 0==this.size()};m.mPb=function(){var a=new P5g;a.C=this;return a};m.Mxa=function(){throw Hca("Put not supported on this map").C;};m.remove=function(a){return f5g(K5g(this,a,!0))};m.size=function(){return this.$H().size()};m.toString=function(){for(var a=E5g("{","}"),b=this.$H().jj();b.C();){var c=b.D();c=Ta(C5g(this,c.Tq()))+"="+Ta(C5g(this,c.Uq()));F5g(a,c)}return a.toString()};
m.values=function(){var a=new M5g;a.C=this;return a};m.replace=function(a,b){return d5g(this,a,b)};m.s4a=!0;function R5g(){}t(R5g,Q5g);m=R5g.prototype;m.clear=function(){B5g(this)};m.$Y=function(a){var b;Xb(a)?b=null==a?!!i5g(null,h5g(this.C,s5g(null))):void 0!==this.D.C.get(a):b=!!i5g(a,h5g(this.C,s5g(a)));return b};m.Pu=function(a){return l5g(a,this.D)||l5g(a,this.C)};m.$H=function(){var a=new O5g;a.C=this;return a};
m.get=function(a){var b;Xb(a)?b=null==a?f5g(i5g(null,h5g(this.C,s5g(null)))):this.D.C.get(a):b=f5g(i5g(a,h5g(this.C,s5g(a))));return b};m.Mxa=function(a,b){var c;Xb(a)?c=null==a?J5g(this.C,null,b):k5g(this.D,a,b):c=J5g(this.C,a,b);return c};m.remove=function(a){var b;Xb(a)?b=null==a?t5g(this.C,null):j5g(this.D,a):b=t5g(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return d5g(this,a,b)};function S5g(){}t(S5g,R5g);
S5g.prototype.replace=function(a,b){return d5g(this,a,b)};function T5g(){}t(T5g,L5g);m=T5g.prototype;m.add=function(a){this.PEa(this.size(),a);return!0};m.PEa=function(){throw Hca("Add not supported on this list").C;};m.clear=function(){this.ITa(0,this.size())};m.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.lDa||this.size()!=a.size())return!1;a=a.jj();for(var b=this.jj();b.C();){var c=b.D(),d=a.D();if(!yb(c,d))return!1}return!0};
m.nk=function(){for(var a=1,b=this.jj();b.C();){var c=b.D();a=31*a+Xba(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(yb(a,this.oqa(b)))return b;return-1};m.jj=function(){var a=new m5g;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(yb(a,this.oqa(b)))return b;return-1};m.yia=function(){throw Hca("Remove not supported on this list").C;};
m.ITa=function(a,b){var c=new n5g;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.lDa=!0;function U5g(){}t(U5g,T5g);m=U5g.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.PEa=function(a,b){this.C.splice(a,0,b)};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.oqa=function(a){return this.C[a]};m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(yb(a,this.C[b])){a=b;break a}a=-1}return a};
m.jj=function(){var a=new r5g;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(yb(a,this.C[b])){a=b;break a}a=-1}return a};m.yia=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.yia(a);return!0};m.size=function(){return this.C.length};m.Qf=function(){var a=this.C;return b5g(a.slice(0,this.C.length),a)};
m.JTa=function(a){var b=this.C.length;a.length<b&&(a=b5g(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.ITa=function(a,b){this.C.splice(a,b-a)};m.lDa=!0;function V5g(a){var b=new rta;return Oj(b,6,a)}function W5g(){var a=nx.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function X5g(a){a.y0a=!1;a.x0a=!1}function Y5g(a){var b=new bm;a.C.forEach(function(c){c.isEmpty()||cm(b,c.Jd())});return b.Jd()}
function Z5g(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new Km(k,h));return!0});return e}function $5g(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new Km(h,f),!0):!1});return d}function a6g(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?Z5g(a,!!b,d,e):$5g(a,d,e)}function b6g(a,b){a.C.V=b;a.xa&&a.D&&(P(a.D,0<b),Ap(a.D.childNodes[1],b))}function c6g(a,b,c){a.C.highlightDoco(zR(a.D,b),null==c?void 0:c)}
function d6g(a,b){var c={},d;for(d in b){var e=zR(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function e6g(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,u(ba(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function c5(a){return a.C.hasUnpostedDocos()}function f6g(a,b){return!(!a.D[b]&&!a.J[b])}var g6g={};function d5(a){J(this,a,0,1,null,null)}v(d5,I);d5.prototype.ea=function(){var a=new E;h6g(this,a);return Y(a)};
function h6g(a,b){Bj(a,b,g6g,d5.prototype.getExtension)}function i6g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&rj(b,2,c);c=K(a,3);null!=c&&rj(b,3,c)}function j6g(a){J(this,a,0,-1,null,null)}v(j6g,I);m=j6g.prototype;m.ea=function(){var a=new E;i6g(this,a);return Y(a)};m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};
function k6g(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)}function l6g(a){J(this,a,0,-1,null,null)}v(l6g,I);l6g.prototype.ea=function(){var a=new E;k6g(this,a);return Y(a)};
function m6g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,j6g,3);null!=c&&b.C(3,c,i6g);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,l6g,7);null!=c&&b.C(7,c,k6g);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}function n6g(a){J(this,a,0,-1,null,null)}v(n6g,I);m=n6g.prototype;m.ea=function(){var a=new E;m6g(this,a);return Y(a)};
m.getName=function(){return K(this,1)};m.bd=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Jc=function(a){return L(this,9,a)};var o6g=[8],p6g=[5];function q6g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function e5(a){J(this,a,0,-1,null,null)}v(e5,I);m=e5.prototype;m.ea=function(){var a=new E;q6g(this,a);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};
m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function r6g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,d5,3);null!=c&&b.C(3,c,h6g);c=K(a,4);null!=c&&b.D(4,c)}function s6g(a){J(this,a,0,-1,null,null)}v(s6g,I);m=s6g.prototype;m.ea=function(){var a=new E;r6g(this,a);return Y(a)};
m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function t6g(a,b){a=N(a,BY,1);null!=a&&b.C(1,a,pff)}function u6g(a){J(this,a,0,-1,null,null)}v(u6g,I);u6g.prototype.ea=function(){var a=new E;t6g(this,a);return Y(a)};
function f5(a){return N(a,s6g,9)}function v6g(a,b){var c=N(a,BY,1);null!=c&&b.C(1,c,pff);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&sj(b,3,c);c=K(a,4);null!=c&&sj(b,4,c)}function w6g(a){J(this,a,0,-1,null,null)}v(w6g,I);w6g.prototype.ea=function(){var a=new E;v6g(this,a);return Y(a)};w6g.prototype.D=function(a){L(this,2,a)};
function x6g(a,b){var c=K(a,1);null!=c&&sj(b,1,c);c=K(a,2);null!=c&&sj(b,2,c);c=K(a,3);null!=c&&sj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Nj(a,w6g,5);0<c.length&&xj(b,5,c,v6g)}function y6g(a){J(this,a,0,-1,p6g,null)}v(y6g,I);y6g.prototype.ea=function(){var a=new E;x6g(this,a);return Y(a)};function z6g(a){J(this,a,0,-1,o6g,null)}v(z6g,I);m=z6g.prototype;m.ea=function(){var a=new E;A6g(this,a);return Y(a)};
function A6g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,q6g);c=N(a,e5,4);null!=c&&b.C(4,c,q6g);c=N(a,BY,5);null!=c&&b.C(5,c,pff);c=N(a,n6g,14);null!=c&&b.C(14,c,m6g);c=K(a,6);null!=c&&sj(b,6,c);c=K(a,7);null!=c&&sj(b,7,c);c=g5(a);0<c.length&&xj(b,8,c,A6g);c=f5(a);null!=c&&b.C(9,c,r6g);c=N(a,OT,21);null!=c&&b.C(21,c,Fke);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&sj(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,u6g,18);null!=c&&b.C(18,c,t6g);c=N(a,y6g,19);null!=c&&b.C(19,c,x6g);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.getContent=function(){return N(this,e5,3)};m.setContent=function(a){return Oj(this,3,a)};m.Ls=function(){return null!=K(this,3)};function g5(a){return Nj(a,z6g,8)}
m.getOrigin=function(){return K(this,17)};function h5(a){return N(a,z6g,2)}function i5(a){J(this,a,0,-1,null,null)}v(i5,I);function B6g(a){J(this,a,0,-1,null,null)}v(B6g,I);m=i5.prototype;m.ea=function(){var a=new E;C6g(this,a);return Y(a)};
function C6g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=h5(a);null!=c&&b.C(2,c,A6g);c=K(a,3);null!=c&&sj(b,3,c);c=K(a,4);null!=c&&sj(b,4,c);c=a.Pp();null!=c&&b.C(5,c,D6g);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.Pp=function(){return N(this,B6g,5)};m.yu=function(a){return Oj(this,5,a)};m=B6g.prototype;m.ea=function(){var a=new E;D6g(this,a);return Y(a)};
function D6g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,q6g);c=N(a,i5,3);null!=c&&b.C(3,c,C6g)}m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,e5,2)};m.setTitle=function(a){return Oj(this,2,a)};function E6g(a){J(this,a,"gs",-1,null,null)}v(E6g,I);E6g.prototype.ea=function(){var a=new E;var b=this.np();null!=b&&a.C(1,b,rff);return Y(a)};E6g.re="gs";E6g.prototype.np=function(){return N(this,qff,1)};
var F6g=[1,2],G6g=[1];function H6g(a){J(this,a,"sr",-1,G6g,null)}v(H6g,I);H6g.prototype.ea=function(){var a=new E;var b=Nj(this,i5,1);0<b.length&&xj(a,1,b,C6g);b=K(this,2);null!=b&&sj(a,2,b);b=K(this,3);null!=b&&sj(a,3,b);return Y(a)};H6g.re="sr";function I6g(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function J6g(a){J(this,a,0,-1,null,null)}v(J6g,I);J6g.prototype.ea=function(){var a=new E;I6g(this,a);return Y(a)};J6g.prototype.getId=function(){return K(this,1)};
J6g.prototype.Jc=function(a){return L(this,1,a)};function K6g(a){J(this,a,"u",-1,F6g,null)}v(K6g,I);K6g.prototype.ea=function(){var a=new E;var b=Nj(this,i5,1);0<b.length&&xj(a,1,b,C6g);b=Nj(this,J6g,2);0<b.length&&xj(a,2,b,I6g);return Y(a)};K6g.re="u";
function L6g(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new Fnf(c,a.H):Gnf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||Enf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new fnf(d.D.metadata,d.F):lnf),e=b(d.C));if(e)return d.getUrl()}}return null}function M6g(a){null===a.F&&(a.F=L6g(a.C,function(b){return!!b&&!gnf(b)}),null===a.F&&(a.F=Xnf(a,L6g)));return a.F}function N6g(){}t(N6g,N5g);m=N6g.prototype;m.add=function(a){return null==this.C.Mxa(a,this)};m.clear=function(){this.C.clear()};
m.contains=function(a){return this.C.$Y(a)};m.isEmpty=function(){return this.C.isEmpty()};m.jj=function(){return this.C.mPb().jj()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.mDa=!0;function O6g(a,b,c,d){PB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(O6g,PB);O6g.prototype.Lw=function(){this.uA=[this.C?o9a(this.element):this.element.offsetLeft,this.element.offsetTop];O6g.Ta.Lw.call(this)};function P6g(a,b){A.call(this);this.Mg=a;this.C=b}
v(P6g,A);m=P6g.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.Af=function(a,b,c){this.Mg.D.Af(this.C+":"+a,u(this.jIa,this,b),c)};m.HI=function(a){this.D=u(this.jIa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Mg.D.send(this.C+":"+a,b)};m.jIa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ia=function(){this.Mg=this.Mg.C[this.C]=null};
function Q6g(a){A.call(this);this.D=a;this.C={};this.D.HI(u(this.F,this))}v(Q6g,A);function R6g(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new P6g(a,b);return a.C[b]=c}Q6g.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};
Q6g.prototype.Ia=function(){Id(this.C,function(a){Jf(a)});Jf(this.D);delete this.C;delete this.D};var S6g={Eb:!0,Fb:!0,Gb:!0,Hb:!0,Lb:!0,Mb:!0},T6g={w4a:"all",Kyc:"important",NONE:"none"};function U6g(){return T('<div class="'+U("docs-docos-activitybox")+'"><div class="'+U("docs-docos-activitybox-inner")+'"></div></div>')}function V6g(a,b,c){Q.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}t(V6g,Q);m=V6g.prototype;
m.Aa=function(){Q.prototype.Aa.call(this);var a=this.oa(),b=Ty(U6g,{},{},a);this.jb(b);this.D=a.getElement("docs-docos-caret");this.H=a.bb("docs-docos-activitybox-inner",b);this.L&&(Zx(b,"docos-enable-new-header"),Zx(this.D,"docos-enable-new-header"));this.O?Zx(b,"docos-streampanesize"):Zx(b,"docos-streampanesize-legacy")};
m.Ga=function(){gA(this.getElement(),"docos");this.F=new mB(this.getElement());this.F.ij("close-box",27);this.C=new ry(this.getElement(),"toggle_display");sy(this.C,!0);bhe(this.C,!1);this.C.cJa=!1;this.getHandler().listen(this.F,"shortcut",this.PSb).listen(this.C,"show",this.W7b).listen(this.C,"hide",this.V7b).listen(this.C,"beforeshow",this.U7b).listen(this.C,"beforehide",this.T7b)};m.Db=g("H");m.W7b=function(){P(this.D,!0);this.dispatchEvent("show")};m.V7b=function(){P(this.D,!1)};m.U7b=function(){return this.dispatchEvent("beforeshow")};
m.T7b=function(){return this.J?!1:this.dispatchEvent("hide")};m.setVisible=function(a){this.C&&this.C.setVisible(a)};m.isVisible=function(){return!!this.C&&this.C.isVisible()};m.PSb=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};m.Ia=function(){Jf(this.F);delete this.F;delete this.D;delete this.H;Jf(this.C);delete this.C;Q.prototype.Ia.call(this)};
function W6g(a,b){tS.call(this,void 0,b,!0,!0);this.H=a;this.setTitle("Comment limit");vy(this,Fe("You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy."));this.C.setContent("Make a copy");TTe(this,"Reload");this.Jr=!0}t(W6g,tS);W6g.prototype.Aa=function(){tS.prototype.Aa.call(this);Zx(this.getElement(),"docs-error-dialog")};W6g.prototype.Fz=function(){(Rt(),hv).pb(!0);tS.prototype.Fz.call(this)};
W6g.prototype.iX=function(){qF(this.H,!0)};
function X6g(a,b,c,d,e,f,h,k){e=void 0===e?!1:e;f=void 0===f?new To:f;h=void 0===h?(Rt(),a3a):h;Oo.call(this);this.F=null;this.V=!1;this.$a=f;this.C=a;this.Na=new W6g(b,this.$a);this.Pa=c;this.Ja=d;this.Ha=e;this.D=new V6g(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.$a);this.La=new Po(this);this.L=new GA(this);this.xa=new IA(void 0,void 0,!0,qC.getInstance());this.O=h;this.ma=!1;this.Ba=z(y(),
"docs-edll");this.R=(this.J=Uy())&&z(y(),"docs-ehspc");this.Da=k||null;this.H=null;this.C.onReady(u(this.i8b,this))}t(X6g,Oo);m=X6g.prototype;m.render=ba();
m.i8b=function(){var a=this;if(!this.J||this.R)var b=Y6g(this);this.L.Ob((Rt(),$v),nt,this.pdc);b=this.J?Vo("docs-chrome"):b.parentNode.parentNode;this.D.render(b);P(this.D.getElement(),!1);$v.Ma(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.Db());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,this.Ba);this.Pa&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");
Z6g(this)?$6g(this):this.C.isLinkedDocoDeleted()&&a7g();this.C.setListener(Docos.OptionName.DIALOG_OPENED,u(this.VUa,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,u(this.VUa,this));this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&this.C.setListener(Docos.EventType.UNSEEN_DOCOS_UPDATED,function(){var c=a.C.hasUnseenDocos();a.H&&P(a.H,c)});Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,u(this.e9b,this));this.C.setOption(Docos.OptionName.SORT_PANE,
!0);this.L.Ob(this.O,lt,this.AYa);this.AYa(new kXa("enabled",this.O.isEnabled(),!1));this.Ha||this.C.setListener(Docos.EventType.NETWORK_ERROR,u(this.VSb,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,u(this.Y7b,this));this.La.listen(this.D,["show","hide"],this.C5b)};
function Y6g(a){var b=a.$a.getElement("docs-docos-commentsbutton");a.F=ST(null);lz(a.F,16,!1);a.F.Va(b);a.C.isBadgingEnabled&&a.C.isBadgingEnabled()&&(a.H=a.$a.Aa("SPAN","docs-docos-commentsbutton-badge"),a.H&&P(a.H,!1),a.$a.appendChild(b,a.H));KA(a.xa,a.F,(Rt(),$v),MA);a.C.setOption(Docos.OptionName.STREAM_BUTTON,b);return b}m.VUa=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};
m.e9b=function(a){if(!this.J||this.R)a=a.getArgs(),this.VAa(a.getDisplay(),!1),this.Da&&this.Da(dx(this.D.Db()))};m.AYa=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};function Z6g(a){if(a.J||!a.Ba)return!0;var b=a.C.getLinkedDoco();return!!b&&(!a.C.hasDoco(b)||a.C.isDocoResolved(b)||!a.C.getDocoPosition(b))}m.pdc=function(){$6g(this);var a=this.D;a.C&&!a$a(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
m.VSb=function(){if(!this.V&&yq(this.Ja,0)){if(this.C.hasPendingContent()){var a=bB("Failed to post comment due to a network error.","warning",!0);$A.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);(Rt(),a3a).Ma(!1,"docos-fatal-reason");this.V=!0}};m.Y7b=function(){this.Na.setVisible(!0);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);(Rt(),a3a).Ma(!1,"docos-fatal-reason")};
function a7g(){var a=bB("This comment has been deleted.","info",!0);$A.getInstance().postMessage(a)}m.C5b=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a);this.F&&this.F.dc(a);a||this.dispatchEvent("activity-box-closed")};m.VAa=function(a,b){b=void 0===b?!0:b;a&&$6g(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function $6g(a){a.ma||(a.ma=!0,a.C.renderPaneSurface())}
m.Ia=function(){Jf(this.F);Jf(this.La);Jf(this.D);Jf(this.xa);Jf(this.L);Oo.prototype.Ia.call(this)};function j5(a,b,c){Ao.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}t(j5,Ao);function b7g(){Oo.call(this);this.F=new bm;this.D=this.H=this.J=null;this.L=this.C=!1}t(b7g,Oo);function c7g(a,b,c){k5(a);a.D=b;a.H=c;a.dispatchEvent(new j5("ge",[b],c))}b7g.prototype.R=function(a,b){k5(this);this.D=a;this.H=b;this.dispatchEvent(new j5("ee",[a],b))};
function d7g(a){a.C||a.D||k5(a);a.dispatchEvent("oe")}b7g.prototype.O=function(){k5(this);this.dispatchEvent("je")};b7g.prototype.reset=function(){k5(this);this.dispatchEvent("me")};function k5(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}b7g.prototype.Ia=function(){delete this.J;delete this.F;delete this.H;delete this.D;Oo.prototype.Ia.call(this)};function e7g(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}
function f7g(a){var b=new qta,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new XBd(b)}function g7g(a,b){return(a=CI(a,b))?a.Hc():null}function h7g(a,b){return b?(b=fCd(b))&&gCd(hCd(b))?g7g(a,b.gb()):null:null}var i7g=[1];function j7g(a){J(this,a,0,-1,null,null)}v(j7g,I);
j7g.prototype.ea=function(){var a=new E;var b=this.np();null!=b&&a.C(1,b,rff);return Y(a)};j7g.prototype.np=function(){return N(this,qff,1)};function k7g(a){J(this,a,0,-1,null,null)}v(k7g,I);k7g.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};k7g.prototype.Pf=function(){return K(this,1)};function l7g(a){J(this,a,0,-1,i7g,null)}v(l7g,I);
l7g.prototype.ea=function(){var a=new E;var b=Nj(this,i5,1);0<b.length&&xj(a,1,b,C6g);b=K(this,2);null!=b&&sj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&sj(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};
var m7g=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,n7g=/^(.*?)([':;,\.?}\]\)!]+)$/;
function o7g(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Ee(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(m7g,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,r){return Dd(n[2],r)&&Dga(n[1],q)>Dga(n[1],r)},l||(e="http://"),l=h.match(n7g),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Ge("a",b,h));d.push(l);return""});return He(d)}function p7g(a,b,c){RJ.call(this,35);this.fd=a;this.C=b;this.F=c}t(p7g,RJ);p7g.prototype.Kd=function(){var a=new lG,b=fo(this.F,this.C);D(a,1,this.fd);D(a,2,b);return a};p7g.prototype.Cg=ea(!1);function l5(){}l5.prototype.getType=ea("ApiEventArgs");l5.prototype.getType=l5.prototype.getType;function q7g(a){this.C=a}v(q7g,l5);pa("docos.api.FindSelectionArgs",q7g,void 0);function r7g(a){return"FindSelectionArgs"===a.getType()}q7g.isFindSelectionArgs=r7g;q7g.prototype.getType=ea("FindSelectionArgs");q7g.prototype.getVerticalOffset=g("C");q7g.prototype.getVerticalOffset=q7g.prototype.getVerticalOffset;function s7g(a){this.F=a}s7g.prototype.C=function(){if(!JI(this.F.C))return[];var a=MI(this.F.C),b=sJ(a);if(zhc(iL(this.F.Ja,a),b).length){var c=SI(a,b);a=a.$b();var d=b.x;b=b.y;c=[RM(this.F)?H1b(c,a,d,b):ritz_api.RitzModelApi.getA11yDisplayValue(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};s7g.prototype.D=ea(0);function t7g(a,b){this.F=a;this.J=b;this.H=iBd()}t7g.prototype.C=function(){if(!JI(this.F.C))return[];var a=MI(this.F.C),b=sJ(a);a=zhc(iL(this.F.Ja,a),b);if(!a.length)return["Not on a comment"];a=this.H.qb(a[0]);b=this.J;b.C.verbalizeDoco(zR(b.D,a));return[]};t7g.prototype.D=ea(0);function u7g(a,b,c,d,e,f,h,k,l,n,q,r,w){A.call(this);this.D=a;this.R=b;this.ma=c;this.Na=d;this.H=e;this.Sa=f;this.Ja=h;this.Oa=k;this.C=l;this.L=n;this.J=b.Ja;this.F=b.C;this.O=iBd();this.V={};this.Ba=new bm;this.xa=new JCa(0);a=[this.xa];kd(q.F,a);khb(q,a);q.C=ihb(q.F);jhb(q);this.Da=r;this.Ha=new Ekf(w,this.Da.F);this.qa(this.Ha);this.Ua=new Po(this);this.qa(this.Ua);this.Pa=!1;v7g(this)}t(u7g,A);
function v7g(a){var b=Tc(LSb,function(d){return!S6g[d]});a.Ua.listen(a.Na,"activity-box-closed",a.nBb).listen(a.H,"mouseover",m5(a,a.QLb)).listen(a.H,"click",m5(a,a.MZb)).listen(a.H,"selectionChange",m5(a,a.RLb)).listen(a.H,"inputBoxActivate",m5(a,a.NLb)).listen(a.H,"hide_docos",m5(a,a.PLb)).listen(a.F,"oa",m5(a,a.LZb)).listen(a.Ja,"nd",a.eIb).listen(a.Ja,"od",a.cIb).listen(a.Ja,"pd",a.bIb).listen(a.H,"insert_doco",a.JZb).listen(new IP(a.Oa),rOc(),a.ULb).listen(a.R,"docos_change",a.bMb).listen(a.L,
"Ci",a.hpb).listen(a.F,"na",a.NQa).listen(a.H,"overlay-redraw",a.BDb);var c=UG(a.F);a.Ua.listen(c,b,a.OLb);a.Ua.listen(c,["Kb"],m5(a,a.KZb));AR(a.D,Docos.EventType.HOVER,m5(a,a.zub));AR(a.D,Docos.EventType.SELECTED,m5(a,a.IZb));AR(a.D,Docos.EventType.CREATED,a.EOa,a);AR(a.D,Docos.EventType.UNRESOLVED,a.EOa,a);AR(a.D,Docos.EventType.DELETED,a.FOa,a);AR(a.D,Docos.EventType.RESOLVED,a.FOa,a);AR(a.D,Docos.EventType.POSTED,a.bvb,a);AR(a.D,Docos.EventType.PENDING,a.fEb,a);AR(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.pyb,a);SD.Ob(lt,u(a.gzb,a));(Rt(),$v).Ob(lt,u(a.Nob,a));aw.subscribe("action",u(a.WBb,a));mw.subscribe("action",u(a.cCb,a));nw.subscribe("action",u(a.dCb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Da.C(Gv,new Fw(b));a.Ha.bind(Gv.getId(),new t7g(a.R,a.D));a.Da.C(Hv,new Fw(b));a.Ha.bind(Hv.getId(),new s7g(a.R));a.NQa()}m=u7g.prototype;m.NQa=function(){var a=JI(this.F);(Rt(),aw).Ma(a);mw.Ma(a);nw.Ma(a)};m.BDb=function(){w7g(this.L)};
m.gzb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.R.hP())};function m5(a,b){return function(c){a.Pa||b.call(a,c)}}m.JZb=function(){var a=MI(this.F),b=sJ(a);if(b&&!c5(this.D)&&!x7g(this,a,b)){var c=ritz_api.RitzModelApi.getNewWorkbookRangeId();a=new p7g(c,a.$b(),fn(b));b=u(this.hzb,this,c,b);a.D=b;this.Sa.C(a)}};m.hzb=function(a,b,c){c&&(a=y7g(this,this.O.qb(new fBd(a))))&&(this.C.dispatchEvent(new j5("ie",[a],b)),this.ma.Ub(2))};
function x7g(a,b,c){b=zhc(iL(a.J,b),c);return b.length?(c6g(a.D,a.O.qb(b[0]),!0),!0):!1}m.EOa=function(a){var b=this;Qc(a.D,function(c){z7g(b,!0,c);b.Ba.add(c)})};m.FOa=function(a){var b=this;Qc(a.D,function(c){z7g(b,!1,c);b.Ba.remove(c)})};
function z7g(a,b,c,d,e){c=y7g(a,c);d=d||h7g(a.F,c);e=e||zS(c);if(c&&d&&e){var f=iL(a.J,d);if(b){var h=f.C.Uf(e.y,e.x)||new bm;h.add(c);f.J++;dTb(f.C,e.y,e.x,h)}else(h=f.C.Uf(e.y,e.x))&&h.remove(c)&&f.J--;dTb(f.D,e.y,e.x,!0);f.H.Vb()||f.H.start();a.F.getActiveGrid()&&(d=d==MI(a.F),b?(a=a.C,(b=d?e:null)&&Lm(b,a.J)&&a.F.add(c),a.dispatchEvent(new j5("ae",[c],b))):(a=a.C,(b=d?e:null)&&Lm(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new j5("le",[c],b))))}else a.C.dispatchEvent("ne")}
function y7g(a,b){if(!b)return null;if(!a.V[b]){var c=a.O.D(b);c&&(a.V[b]=c)}return a.V[b]}m.LZb=function(){this.C.reset()};m.zub=function(a){a=A7g(this,a);var b=zS(a);this.C.dispatchEvent(new j5("fe",[a],b))};m.bvb=ba();m.fEb=function(){eQe(this.xa,this.D.C.hasPendingContent())};m.pyb=function(a){this.Na&&(a.J||this.C&&!this.C.D)&&this.Na.VAa(!0)};m.nBb=function(){this.ma.Ub(3)};
m.IZb=function(a){if(!(a.C&&r7g(a.C)||c5(this.D))){var b=A7g(this,a),c=zS(b);b&&c?(this.Pa=!0,c7g(this.C,b,c)):b||a.J?this.C.reset():b||this.ma.Ub(3)}};m.hpb=function(){this.Pa=!1};m.PLb=function(){this.C.dispatchEvent("he")};m.RLb=function(){if(!this.L.isEmpty()&&!c5(this.D)){this.ma.Ub(3);var a=this.C,b=sJ(MI(this.F));Lm(a.H,b)||!a.D&&!a.C&&Lm(a.J,b)||(k5(a),a.dispatchEvent(new j5("de",[],b)))}};
m.MZb=function(){var a=MI(this.F);if(!c5(this.D)&&a){var b=iL(this.J,a),c=(a=sJ(a))?zhc(b,a):[];c.length&&(b=this.C,c=c[0],Lm(b.H,a)?(k5(b),b.dispatchEvent(new j5("be",[],a))):b.dispatchEvent(new j5("be",[c],a)))}};m.NLb=function(){c5(this.D)||this.C.reset()};m.KZb=function(){d7g(this.C)};m.OLb=function(){d7g(this.C)};
m.bMb=function(a){a=a.O||[];md(a);for(var b=0;b<a.length;b++){var c=this.O.qb(new fBd(a[b]));if(c){var d=y7g(this,c);(d=ESe(this.J,d))?(z7g(this,!1,c,d.model,d.Qna),z7g(this,!0,c),this.C.dispatchEvent("ne")):this.Ba.contains(c)&&z7g(this,!0,c)}}};m.QLb=function(a){var b=MI(this.F);if(b){if((a=a.yk)&&zqc(a)){var c=tI(b,a.y,a.x);a=c?zn(c):a}else a=null;b=iL(this.J,b);b=a?zhc(b,a):[];c=this.C;c.F.clear();cm(c.F,b);c.J=a;c.dispatchEvent(new j5("ce",b,a))}};
m.eIb=function(){if(!c5(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;k5(a);a.C=b;a.dispatchEvent("ke")}}};m.cIb=function(){if(!c5(this.D)){var a=this.C;a.C||(k5(a),a.L=!0,a.C=!0,a.dispatchEvent("ke"))}};m.bIb=function(){if(!c5(this.D)){var a=this.C;a.C&&a.L&&(k5(a),a.dispatchEvent("ke"))}};m.ULb=function(a){a.stopPropagation()};function A7g(a,b){b=b.D;return y7g(a,b.length?b[0]:null)}
m.HZb=function(a){var b=y7g(this,a);a=h7g(this.F,b);if(!b||!a)return"";b=zS(b);a=ZI(SI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};m.Nob=function(){var a=this.D;if(a=atd(a.D,a.C.getLinkedDoco())||"")if(a=y7g(this,a)){var b=zS(a);c7g(this.C,a,b)}else(Rt(),$v).pb()};m.WBb=function(){var a=MI(this.F);x7g(this,a,sJ(a))};m.cCb=function(){B7g(this,!1)};m.dCb=function(){B7g(this,!0)};
function B7g(a,b){var c=C7g(a,b),d=EI(a.F),e=MI(a.F),f=sJ(e),h=iL(a.J,e);f=a6g(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.Hc(),h=iL(a.J,e),f=a6g(h,null,b),k=k.vg(),k!=d););f&&null!==k&&(b=zhc(h,f)[0],HI(a.F,k,u(a.NZb,a,e,b,f)))}function C7g(a,b){var c=b?u(a.F.OLa,a.F):u(a.F.kra,a.F);return function(d){return c(d,0,!0,!0)}}m.NZb=function(a,b,c){c7g(this.C,b,c);vJ(a,c)};
m.Ia=function(){delete this.H;delete this.Oa;delete this.O;delete this.V;delete this.D;delete this.J;delete this.Ua;delete this.Sa;delete this.F;delete this.R;Jf(this.xa);delete this.xa;Jf(this.L);delete this.L;Jf(this.C);delete this.C;A.prototype.Ia.call(this)};var D7g={MAc:"docos-insert-discussion",rlc:"docos-cancel-insert-discussion",gIc:"docos-new-doco",hIc:"docos-new-reply",Qoc:"docos-delete-doco",Soc:"docos-delete-reply",Dsc:"docos-edit-doco",Fsc:"docos-edit-reply",Esc:"docos-edit-draft",vkc:"docos-before-highlight-doco",jyc:"docos-highlight-doco",iQc:"docos-speak-doco",zNc:"docos-resolve-doco",mkc:"docos-back-to-document",bic:"docos-accept-suggestion",qNc:"docos-reject-suggestion",Ymc:"docos-convert-doco",Roc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",kUc:"docos-update-sort",KUc:"docos-vote-doco",LUc:"docos-vote-reply",JHc:"mouse-hover-doco-view"};function E7g(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function n5(){return new E7g("")}function o5(a){return new F7g(a)}function F7g(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function p5(a,b){a.L=b;return a}function G7g(a){a.J=!0;return a}function H7g(a){a.F=!1;return a}function I7g(a,b){a.D=b;return a}
function J7g(a){a.H=!0;return a}function q5(a){return new E7g(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function r5(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}pa("docos.Event",r5,void 0);pa("docos.api.Event",r5,void 0);r5.prototype.getType=g("type");r5.prototype.getType=r5.prototype.getType;r5.prototype.getAnchors=g("anchors");r5.prototype.getAnchors=r5.prototype.getAnchors;
r5.prototype.getDocos=g("docos");r5.prototype.getDocos=r5.prototype.getDocos;r5.prototype.isNonAnchored=g("nonAnchored");r5.prototype.isNonAnchored=r5.prototype.isNonAnchored;r5.prototype.isUserInitiated=g("userInitiated");r5.prototype.isUserInitiated=r5.prototype.isUserInitiated;r5.prototype.getArgs=g("args");r5.prototype.getArgs=r5.prototype.getArgs;r5.prototype.canPreventDefault=ea(!1);r5.prototype.canPreventDefault=r5.prototype.canPreventDefault;
r5.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};r5.prototype.preventDefault=r5.prototype.preventDefault;r5.prototype.getAnchorIds=g("D");r5.prototype.getAnchorIds=r5.prototype.getAnchorIds;r5.prototype.getDocoHandles=g("F");r5.prototype.getDocoHandles=r5.prototype.getDocoHandles;function K7g(a){return new s5(a)}r5.builder=K7g;function s5(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}pa("docos.api.Event.Builder",s5,void 0);
s5.prototype.addAnchorId=function(a){this.C.push(a);return this};s5.prototype.addAnchorId=s5.prototype.addAnchorId;s5.prototype.setAnchorIds=function(a){this.C=a;return this};s5.prototype.setAnchorIds=s5.prototype.setAnchorIds;s5.prototype.addDocoHandle=function(a){this.D.push(a);return this};s5.prototype.addDocoHandle=s5.prototype.addDocoHandle;s5.prototype.setDocoHandles=function(a){this.D=a;return this};s5.prototype.setDocoHandles=s5.prototype.setDocoHandles;
s5.prototype.setNonAnchored=function(a){this.F=a;return this};s5.prototype.setNonAnchored=s5.prototype.setNonAnchored;s5.prototype.setUserInitiated=function(a){this.H=a;return this};s5.prototype.setUserInitiated=s5.prototype.setUserInitiated;s5.prototype.setApiEventArgs=function(a){this.args=a;return this};s5.prototype.setApiEventArgs=s5.prototype.setApiEventArgs;s5.prototype.isEmpty=function(){return ad(this.C)&&ad(this.D)&&!this.args};s5.prototype.isEmpty=s5.prototype.isEmpty;
s5.prototype.build=function(){return new r5(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new l5)};s5.prototype.build=s5.prototype.build;function L7g(a,b){r5.call(this,a,[],[],!1,!1,new l5);this.interval=this.interval=b}v(L7g,r5);pa("docos.api.TimedEvent",L7g,void 0);function M7g(){this.C={};this.D={}}function N7g(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Io(c,"end",function(){delete f[b];delete h[b];e()})}function O7g(a,b){(a=a.C[b])&&a.stop()}M7g.prototype.getDuration=function(a){return this.D[a]};function P7g(a){var b=a.Zh,c=a.FB,d=a.Ge;a=a.xR;return T('<div class="'+U("docos-icon")+" "+U("goog-inline-block")+(d?" "+U(d):"")+" "+U(c)+'"><div class="'+U("docos-icon-img")+" "+U("docos-icon-img-container")+" "+U(b)+(a?" "+U("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function Q7g(a){var b=a.size,c=a.Ge,d=a.Ycb,e=a.uoa;a=a.I1;return T('<img class="'+U("docos-avatar")+(c?" "+U(c):"")+'" width="'+U(b)+'" height="'+U(b)+'" alt=""'+(d?' src="'+U(Hx(d))+'"':"")+(e?' data-hovercard-id="'+U(e)+'"':"")+(a?' data-name="'+U(a)+'"':"")+"/>")};function R7g(a,b,c){b=c||b;c=a.EFa;var d=a.zj,e=a.ao;a='<div class="'+U("docos-assigneeview")+'"><table><tr><td class="'+U("docos-assigneeview-avatar-container")+'">'+R(Q7g({size:32,Ge:"docos-assigneeview-avatar"}))+'</td><td class="'+U("docos-assigneeview-assigneeinfo")+'"><div class="'+U("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+U("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+U("hide-on-readonly")+'">';e=e={zj:d,ao:e};d=e.zj;e=e.ao;var f='aria-label="'+
Fx("Mark as done and hide discussion.");b=""+R(OA({dd:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:Ex(f+'"'),style:e?4:0,content:Dx(""+R(P7g({Zh:"docos-icon-accept-checkmark-black",FB:"docos-icon-accept-checkmark-size",Ge:"docos-icon-checkmark jfk-button-img"}))),lO:d},b));b=T(b);return T(a+(c+b+"</td></tr></table></div>"))};function S7g(a,b){return a?T7g(t5(a),b):!1}function U7g(a,b){return a?S7g(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function V7g(a,b){a=t5(a);return W7g(a,b)}function X7g(a,b,c){a=W7g(a,b,!0);return c?(new wB("Reassign to {user}")).format({user:a}):(new wB("Assign to {user}")).format({user:a})}function W7g(a,b,c){return T7g(a,b)?c?"you":"You":u5(a)}function T7g(a,b){return null!=a.getEmail()&&null!=b.Tg().getEmail()&&a.getEmail()==b.Tg().getEmail()};function v5(a,b){Q.call(this,b);this.Tc=Y7g(a);this.C=w5(a)}v(v5,Q);v5.prototype.yd=!1;v5.prototype.Ga=function(){v5.Ta.Ga.call(this);this.yd&&(this.Gd(),Z7g(this))};function $7g(a){a.yd||(a.yd=!0,a.getHandler().listen(a.C,"r",a.Gd),a.Gd(),Z7g(a))}v5.prototype.Gd=function(){if(this.sb()){var a=this.getElement(),b=this.C.D;ky(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));ky(this.getElement(),"docos-offline",this.C.R)}};
function x5(a,b,c,d){a.Tc&&(d=a.Tc.Ua.C(d));a.getHandler().listen(b,c,d,void 0);return a}function Z7g(a){a.sb()&&x5(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.oi)}v5.prototype.oi=function(a){a.stopPropagation()};function a8g(a,b,c){this.C=a;this.D=b;this.F=c};function b8g(a,b,c,d){v5.call(this,a,b);this.H=a;this.Jc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new PA(null);this.qa(this.R)}t(b8g,v5);m=b8g.prototype;
m.Aa=function(){var a=this.oa(),b=y5(c8g(this)),c=Ty(R7g,{EFa:V7g(b,this.C),zj:this.C.zj(),ao:"legacy"!=this.C.F});this.jb(c);this.L=a.bb("docos-icon-checkmark",c);this.O=a.bb("docos-icon-img-container",c);this.J=a.bb("docos-mark-done-button",c);this.R.Va(this.J);x5(this,this.R,"action",this.uRb);this.F=a.bb("docos-assigneeview-assignee-text",c);this.D=HV(a,"IMG","docos-assigneeview-avatar",c);a=t5(b);d8g(z5(this.H),this.D,a.D,u5(a));e8g(this,b)};
m.Ga=function(){v5.prototype.Ga.call(this);var a=y5(c8g(this));a=t5(a);f8g(this,a,this.F);f8g(this,a,this.D)};
function e8g(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!S7g(b,a.C)||"black"==fA()&&wf||"material_yellow"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=U7g(b,a.C);jy(a.getElement(),["docos-assignee-you","docos-assignee-other"]);jy(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);jy(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
jy(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);Zx(a.L,d);Zx(a.O,e);Zx(a.J,c);Zx(a.getElement(),b)}function c8g(a){return A5(a.H).ud(a.getId())}m.update=function(){var a=y5(c8g(this)),b=V7g(a,this.C)||"";Ap(this.F,b);B5(z5(this.H),this.D);b=t5(a);d8g(z5(this.H),this.D,b.D,u5(b));e8g(this,a);f8g(this,b,this.F);f8g(this,b,this.D)};
function f8g(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.uRb=function(a){a&&a.stopPropagation();(a=c8g(this))&&!a.isResolved()&&(a=C5(this.H),this.dispatchEvent("br"),a.xf("docos-resolve-doco").pb(new a8g(this.getId(),!0,g8g(this.V))),this.dispatchEvent("ar"))};m.vd=function(){v5.prototype.vd.call(this)};
m.Ia=function(){v5.prototype.Ia.call(this);delete this.F;delete this.D;delete this.L};function h8g(a,b){void 0!==b.getId()&&a.Jc(b.getId());var c=h5(b);if(void 0!==c){var d=h5(a);c?d?i8g(d,c):Oj(a,2,c):Oj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.Pp();if(void 0!==d)if(c=a.Pp(),d)if(c){void 0!==d.getId()&&c.Jc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?j8g(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,i5,3);void 0!==d&&(e=N(c,i5,3),d?e?h8g(e,d):Oj(c,3,d):Oj(c,3,void 0))}else a.yu(d);else a.yu(void 0);void 0!==Dj(b,
6)&&(c=Dj(b,6),L(a,6,c));void 0!==Dj(b,7)&&(c=Dj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Dj(b,9)&&(b=Dj(b,9),L(a,9,b))}
function i8g(a,b){void 0!==b.getId()&&a.Jc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?j8g(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,e5,4);void 0!==c&&(d=N(a,e5,4),c?d?j8g(d,c):Oj(a,4,c):Oj(a,4,void 0));c=N(b,BY,5);void 0!==c&&(c?Oj(a,5,c):Oj(a,5,void 0));d=N(b,n6g,14);if(void 0!==d)if(c=N(a,n6g,14),d)if(c){void 0!==d.getName()&&c.bd(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,j6g,3);if(void 0!==e){var f=
N(c,j6g,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else Oj(c,3,e);else Oj(c,3,void 0)}void 0!==Dj(d,4)&&(e=Dj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,l6g,7);void 0!==f&&(e=N(c,l6g,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):Oj(c,7,f):Oj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else Oj(a,14,d);else Oj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));g5(b)&&(c=id(g5(a),g5(b)),Qj(a,8,c));d=f5(b);void 0!==d&&(c=f5(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,d5,3)&&(e=N(d,d5,3),
Oj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):Oj(a,9,d):Oj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Dj(b,12)&&(c=Dj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Dj(b,15)&&(c=Dj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,u6g,18);void 0!==c&&(e=N(a,u6g,18),c?e?(d=N(c,BY,1),void 0!==d&&(c=N(e,BY,1),d?c?(void 0!==
d.getName()&&c.bd(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Jc(d.getId()),void 0!==Dj(d,5)&&(e=Dj(d,5),L(c,5,e)),void 0!==Dj(d,6)&&(e=Dj(d,6),L(c,6,e)),void 0!==Dj(d,7)&&(e=Dj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):Oj(e,1,d):Oj(e,1,void 0))):Oj(a,18,c):Oj(a,18,void 0));d=N(b,y6g,19);void 0!==d&&(c=N(a,y6g,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),L(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),L(c,4,e)),void 0!==Nj(d,w6g,5)&&(d=Nj(d,w6g,5),Qj(c,5,d))):Oj(a,19,d):Oj(a,19,void 0));void 0!==N(b,OT,21)?(c=N(b,OT,21),Oj(a,21,c)):void 0!==b.getContent()&&Oj(a,21,void 0);void 0!==Dj(b,22)&&(c=Dj(b,22),L(a,22,c));void 0!==Dj(b,23)&&(b=Dj(b,23),L(a,23,b))}function j8g(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function k8g(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Ad(b)?Cd(b.toLowerCase()):null;this.L=c;this.D=d;this.fd=e;this.H=f;this.C=h}k8g.prototype.getName=g("J");k8g.prototype.getEmail=g("F");k8g.prototype.getId=g("fd");function u5(a){a=Ad(ff(a.getName()))?a.getEmail():a.getName();return ff(a)}function l8g(a){var b=m8g(n8g(o8g(p8g((new D5).bd(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Jc(a.getId()||""),!!Dj(a,5));a=!!Dj(a,7);b.D=a;return q8g(b)}
function r8g(a){var b=(new BY).Jc(a.getId()||""),c=a.getName();null!==c&&b.bd(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function D5(){}D5.prototype.bd=function(a){this.H=a;return this};function p8g(a,b){a.C=b&&!Ad(b)?Cd(b.toLowerCase()):null;return a}function o8g(a,b){a.L=b;return a}function n8g(a,b){a.J=b;return a}D5.prototype.Jc=function(a){this.fd=a;return this};function m8g(a,b){a.F=b;return a}
function q8g(a){return new k8g(a.H,a.C,a.L,a.J,a.fd,a.F,a.D)};function s8g(a){N(a,BY,1);this.C=a}function t5(a){a=N(a.C,BY,1);return l8g(a)}s8g.prototype.equals=function(a){return Tj(this.C,a.C)};function t8g(a){var b=new u6g;a=r8g(a);b=Oj(b,1,a);return new s8g(b)};function u8g(a){N(a,BY,1);K(a,2);this.C=a};function v8g(a){this.C=a}function w8g(a,b){var c=[];a=Nj(a.C,w6g,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new u8g(e))}return c}function E5(a){return null!=K(a.C,4)?K(a.C,4):0};function x8g(){var a=y8g;this.C=[];this.D={};this.F=a}x8g.prototype.text=function(a){this.C.push(a)};function z8g(a,b){if(a.D[b])a.C.push(b);else{var c=new A8g(b,a.C.length);a.C.push(c);a.D[b]=c}}function B8g(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Tc(Nd(a.D),function(e){return e.D>c.D});pd(d,function(e,f){return od(e.D,f.D)});a.C.push(new C8g(a.F[b].close,d,a.F))}else a.C.push(b)}x8g.prototype.getResult=function(){return this.C.join("")};
function A8g(a,b){this.F=a;this.D=b;this.C=null}A8g.prototype.getName=g("F");A8g.prototype.toString=function(){return null!==this.C?this.C:this.F};function C8g(a,b,c){this.F=a;this.C=b;this.D=c}C8g.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function D8g(a){a=De(o7g(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new E8g(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new F8g(a.substring(0,c))),a=a.substring(c);b.push(new E8g(a));return new G8g(b)}function H8g(a){var b=new x8g;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=I8g.test(d);d=J8g.test(d);f?d?(f=b,f.D[e]?B8g(f,e):z8g(f,e)):z8g(b,e):d?B8g(b,e):b.text(e)}return new E8g(b.getResult())}
function K8g(a){return new E8g(a.replace(L8g,"<br>"))}var L8g=/\r\n|\n|\r/g,y8g={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},I8g=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,J8g=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function E8g(a){this.Ye=a}E8g.prototype.C=function(a){return a(this.Ye)};E8g.prototype.toString=g("Ye");function F8g(a){this.Ye=a}F8g.prototype.C=function(){return this};F8g.prototype.toString=g("Ye");
function G8g(a){this.xi=a}G8g.prototype.C=function(a){var b=Uc(this.xi,function(c){return c.C(a)});return new G8g(b)};G8g.prototype.toString=function(){return this.xi.join("")};function M8g(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=M8g.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),Oj(a,4,void 0),Oj(a,9,void 0));if(void 0!==N(a,OT,21)||void 0!==a.getContent())this.D=null;i8g(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return Tj(this.C,a.C)};
m.Gw=function(){var a=N(this.C,BY,5)||new BY;return l8g(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.Xt=function(){this.H||(this.H=sW(K(this.C,6)));return this.H};m.qQ=function(){if(void 0===K(this.C,7))return this.Xt();this.J||(this.J=sW(K(this.C,7)));return this.J};function N8g(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=sW(K(a.C,13))),b=a.F;if(!b||a.qQ()>b)b=a.qQ();return b}
function O8g(a){if(void 0!==f5(a.C)&&("text/html"==f5(a.C).getType()||"text/plain"==f5(a.C).getType())){var b=f5(a.C).getValue();b="text/html"==f5(a.C).getType()?b:$e(b)}return b||""}m.x3=function(){if(void 0!==f5(this.C)){var a=N(f5(this.C),d5,3);if(a)return a.Qf()}return null};m.aga=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};m.bga=function(){if(null!=N(this.C,OT,21)&&!this.D){var a=N(this.C,OT,21);this.D=Je(K(a,2)||"",null)}return this.D};
m.yx=function(){return null!=N(this.C,e5,4)?N(this.C,e5,4).getValue()||"":""};m.Nwa=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.uR=function(){return!!Dj(this.C,12)};m.pq=function(){return!!K(this.C,13)};m.RB=function(){var a=N(this.C,u6g,18);return null!=a?new s8g(a):null};m.Tz=function(){var a=N(this.C,y6g,19);return null!=a?new v8g(a):null};m.Yj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
m.dI=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function P8g(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.kva=function(){return!!Dj(this.C,22)};m.eva=function(){return 2==this.getOrigin()};function F5(a,b){this.C=new z6g;L(this.C,11,a);b&&b!=a&&this.C.Jc(b)}function Q8g(a,b){var c=g5(a.C);c.push(b.C);Qj(a.C,8,c);return a}function R8g(a,b){L(a.C,16,b);return a}
function G5(a){L(a.C,12,!0);return a}function S8g(a,b){L(a.C,6,b);return a}function T8g(a){var b=Na();L(a.C,13,b);return a}function U8g(a){L(a.C,13,0);return a}function V8g(a,b){Oj(a.C,18,b.C);L(a.C,10,4);return a}function W8g(a,b){b=r8g(b);Oj(a.C,5,b);return a}function X8g(a){L(a.C,20,1);return a}function H5(a,b,c){b=Cd(b);var d=(new e5).setType("text/plain").setValue(b);Oj(a.C,4,d);b=(new e5).setType("text/html").setValue(D8g(b).C(H8g).C(K8g).toString());a.C.setContent(b);L(a.C,7,c);return a};function Y8g(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function Z8g(a,b){return a.F.getId()==b.Gw().getId()}function $8g(a,b){return Z8g(a,b)&&!!b.yx()&&("suggest"==a.C||"full"==a.C)}function a9g(a,b){return b instanceof M8g&&void 0!==b.aga()?!1:(a.H||Z8g(a,b))&&(!!b.yx()||b.Yj())&&("suggest"==a.C||"full"==a.C)}function b9g(a,b){return a.D&&!b.Yj()&&("suggest"==a.C||"full"==a.C)}Y8g.prototype.Bva=g("D");function c9g(a){return"suggest"==a.C||"full"==a.C};function d9g(a){J(this,a,0,-1,null,null)}v(d9g,I);d9g.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function e9g(a,b){this.D=a;this.C=b||null}e9g.prototype.Ro=function(a,b,c){this.D(a,b,c)};e9g.prototype.hBa=function(a){this.C&&this.C(a)};function f9g(a,b,c,d,e){d=d?d.Qf():void 0;e=e?e.Qf():void 0;a(b,c,d,e)};function g9g(a){Oo.call(this);this.U1(a)}v(g9g,Oo);m=g9g.prototype;
m.U1=function(a){var b=a.kd;this.Di=b;if(void 0===b.Tg())throw Error("Invalid or missing user.");var c=b.Tg();this.oIa=q8g(m8g(n8g(o8g(p8g((new D5).bd(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Jc(c.getId()||""),!!Dj(c,5)));this.wea=!!Dj(b,40);this.faa=!Dj(b,20);this.haa=K(b,11);this.mKa=!!Dj(b,12);this.Xoa=K(b,6);this.nIa=void 0!==a.l?!!a.l:!!Dj(b,25);this.qZa=K(b,21);this.Zoa=K(b,23);this.pIa=K(b,24);this.GSa=K(b,31);void 0!==a.i?this.Yoa=a.i:this.Yoa=void 0;if(a=CY(b))this.V1=K(a,1);this.dispatchEvent("r")};
m.Xoa=null;m.GSa=null;m.Yoa=void 0;m.haa=null;m.nIa=!1;m.wea=!1;m.qZa=null;m.Zoa=null;m.pIa=null;m.faa=!0;m.mKa=!1;m.oIa=null;m.V1=null;m.Di=null;m.Tg=g("oIa");function h9g(a,b,c){function d(f){return c?jd(f):f}var e=null;a&&xa(a)&&(e=d(a),xa(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function i9g(a){this.C=a};function j9g(){}j9g.prototype.install=function(a){a=a&&So(a);kbb(a)};j9g.prototype.C=function(a,b){dA(a,b,void 0)};j9g.prototype.cf=function(a){a=a&&So(a);pbb(a)};j9g.prototype.D=function(a,b){pW(a,b)};function k9g(a,b){b=void 0===b?function(){return Lme()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));xa(c)&&(c=h9g(c,"kd",!0),c.unshift("kd"),a.kd=new sff(c));g9g.call(this,a);this.nj=b}t(k9g,g9g);m=k9g.prototype;
m.U1=function(a){g9g.prototype.U1.call(this,a);this.J=this.J||O5b("disco");var b;if(!(b=this.Oa)){b=O5b("usp_dm");var c=new TOd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Oa=b;this.Ib=a["anchor-is-orphaned-fn"]||fe;this.Ba=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new i9g(a.containerdiv));this.xs=b;this.fc=a.storage||null;this.Yc=!!a["storage-ro"];this.Vd=!!a["disable-focus"];this.Qz=!!a.so;this.Of=a.docscroller||null;this.Xn=a["inactive-doco-indent"]||10;this.Wa=
a["instant-docos-div"]||null;this.kb=a["enable-new-delete-ui"]||!1;this.ib=a["delete-dialog-show"]||null;this.O=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.O=new e9g(b,c));this.yl=a["memory-monitor-fn"]||null;this.bk=a.layout||null;this.Qj=!!a.layoutrtl;this.H=a.listeners||{};this.L=a.panediv||null;this.xa=a.panekbdiv||null;this.s2()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.cb=
b;this.Nc=a.quotefn||null;this.yd=a["user-color-provider-fn"]||null;this.cE=a["user-color-provider-from-name-fn"]||null;this.ot=a.quoterenderfn||null;this.Ch=!!a["hide-notification"];this.R=!!a.offline;this.qc=!!a.nocss;this.Ec=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Gd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Dj(this.Di,8);this.D=new Y8g(this.Tg(),c?c:d?"readonly":"full",!!Dj(this.Di,
3),b);this.Sa=!!a.iph;this.ws=a.maxheight||0;this.Tc=!!a.showerrors;this.Ad=a["stream-button"]||null;this.ye=!!a["disable-spfw"];this.Pa=a["anchor-mutate-fn"]||null;l9g(this)||(this.Pa=null);this.jg=!!a["enable-comment-button"];this.Ja=!!a["enable-gsuite-embedding"];this.Yg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.nm=a["acl-fix-fn"]||null;this.Hk=a["load-acl-fixer-fn"]||null;this.Ve=a["intercept-docos-edit-fn"]||null;this.$i=a["is-an-illegal-write-fn"]||null;this.Wd=
!!a["defer-first-sync"];this.Vm=!!a["enable-lazy-loading"];this.Ha=!!a["enable-all-docos-in-anchored-stream"];this.Hz=a["stream-pane-banner-message"]||null;this.pz=a["stream-pane-banner-learn-more-url"]||null;this.yn=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Na=(b=a["impression-recorder-fn"])?Ia(f9g,b):null;this.Ei=a.hidepromofn;this.At=a.showpromofn;this.jm=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new j9g;this.Cm=a["browser-app-clipboard"]||
null;this.Za=a["modal-dialog-z-index"]||null;this.sf=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Da=a["static-input-pane-message"]||null;this.uaa=a["drive-id"]||null;this.rb=!!a["enable-roving-tabindex"];this.oi=a["auto-complete-factories"]||[];this.Wn=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.Rb=a["link-opener"]||null;this.pj=a["last-viewed-timestamp"]||null;this.dispatchEvent("r")};
function m9g(a){return null!=K(a.Di,44)&&null!=K(CY(a.Di),51)&&!!Dj(CY(a.Di),51)}m.XJ=function(){if(this.Ch)return!1;var a=Dj(this.Di,26);return null!=a?!!a:!0};m.bfa=function(){return!!Dj(this.Di,43)};m.rva=function(){var a=!1,b=CY(this.Di);b&&(a=Dj(b,2));return!!Dj(this.Di,43)&&!!a};function n9g(a){return!!CY(a.Di)&&!!Dj(CY(a.Di),32)}m.Pqa=g("uaa");function l9g(a){return a.Di&&!!Dj(a.Di,18)}m.zj=function(){return!!Dj(this.Di,39)};
m.s2=function(){return null!=K(this.Di,44)&&!!Dj(CY(this.Di),53)&&!this.Tg().C};m.fK=function(){return null!=K(this.Di,44)&&!!Dj(CY(this.Di),54)&&!this.Tg().C};function o9g(a){return a.nj()&&!!Dj(a.Di,10)&&!a.Vd}function p9g(a){return Dj(a.Di,10)?a.oi:[]}function q9g(a){return!!CY(a.Di)&&!!Dj(CY(a.Di),50)};function r9g(a,b,c,d,e,f){v5.call(this,a,c);this.D=w5(a);this.Na=Fm(Kc(y(),"docs-seu")||this.D.sf||window.location.href);this.Oc=new Qz(c,new s9g(d));this.F=new aA("",this.Oc,void 0,c);this.F.MI=!0;this.Fa(this.F);this.J=null;$c(e,"edit")&&(this.J=new Lz("Edit"),this.J.Lc("docos-edit-menuitem"),this.Oc.Fa(this.J,!0));this.H=null;$c(e,"delete")&&(this.H=new Lz("Delete"),this.H.Lc("docos-delete-menuitem"),this.Oc.Fa(this.H,!0));this.R=null;$c(e,"reanchor")&&n9g(this.D)&&(this.R=new Lz("Reanchor comment"),
this.R.Lc("docos-reanchor-menuitem"),this.Oc.Fa(this.R,!0));this.xa=null;$c(e,"disable")&&(this.xa=new Lz("Turn off suggested action items"),this.xa.Lc("docos-disable-menuitem"),this.Oc.Fa(this.xa,!0));this.Ha=null;$c(e,"help")&&(this.Ha=new Lz("Learn more"),this.Ha.Lc("docos-help-menuitem"),this.Oc.Fa(this.Ha,!0));d=A5(a).ud(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ja=f?I5(d,f):null;this.V=null;w5(a).D.Bva()&&$c(e,"resolve")&&(this.V=new Lz(""),this.Oc.Fa(this.V,
!0));this.O=this.Ba=this.ma=null;$c(e,"link")&&(this.Ba=new Lz("Link to this comment..."),this.Ba.Lc("docos-link-menuitem"),this.Oc.Fa(this.Ba,!0),this.O=new wkf(c,this.D.Cm||void 0,void 0,null===this.D.Za?void 0:this.D.Za),this.Fa(this.O),Zx(zy(this.O),"docos"),this.O.setTitle("Link to this comment..."),t9g(this,b));this.Da=w5(a).Wn.map(function(h){return{Y9a:h,kMa:new Lz(h.getLabel())}});for(a=0;a<this.Da.length;a++)this.Oc.Fa(this.Da[a].kMa,!0)}t(r9g,v5);m=r9g.prototype;
m.Fc=function(a){v5.prototype.Fc.call(this,a);a=this.oa().bb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Tc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Va(a),this.F.Ma(!0),this.D.C.C(a,"More options..."),this.F.Ee("More options..."))};
m.Ga=function(){var a=this;v5.prototype.Ga.call(this);u9g(this);x5(x5(x5(this,this.Oc.getElement(),"click",this.yUa),this.F.getElement(),"click",this.yUa),this.D,"r",this.Jsb);x5(this,this.F.getElement(),"keyup",this.Mec);v9g(this,this.J,this.Vfc);v9g(this,this.H,this.Tfc);v9g(this,this.Ba,this.J9b);v9g(this,this.R,this.Zfc);v9g(this,this.V,this.$fc);v9g(this,this.xa,this.Ufc);v9g(this,this.Ha,this.Yfc);for(var b={},c=0;c<this.Da.length;b={c9:b.c9},c++)b.c9=this.Da[c],v9g(this,b.c9.kMa,function(d){return function(){d.c9.Y9a.C((a.Ja||
a.L).yx())}}(b))};m.Sh=function(a){this.oa().Pi(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){u9g(this)};function t9g(a,b){if(a.O){var c=a.Na.clone();b=c.D.set("disco",b);a.O.jVa(zm(c,b).toString())}}function v9g(a,b,c){b&&x5(a,b,"action",c)}m.$fc=function(a){b9g(this.D.D,this.L)&&(this.dispatchEvent(new w9g("r")),x9g(this,a))};m.Vfc=function(a){y9g(this)&&(this.dispatchEvent(new w9g("e")),x9g(this,a))};
m.Ufc=function(a){this.dispatchEvent(new w9g("i"));x9g(this,a)};m.Tfc=function(a){z9g(this)&&(this.F.Ed(!1),this.dispatchEvent(new w9g("d")),x9g(this,a))};m.Zfc=function(a){this.dispatchEvent(new w9g("ra"));x9g(this,a)};m.Yfc=function(a){this.dispatchEvent(new w9g("h"));x9g(this,a)};m.J9b=function(a){x9g(this,a);this.O.setVisible(!0)};function x9g(a,b){b.stopPropagation();a.F.Ed(!1)}m.Mec=function(a){27==a.keyCode&&a.stopPropagation()};m.yUa=function(a){a.stopPropagation()};m.Jsb=function(){u9g(this)};
function y9g(a){return $8g(a.D.D,a.Ja||a.L)&&!a.ma}function z9g(a){return a9g(a.D.D,a.Ja||a.L)&&!a.D.ma}function u9g(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=A9g(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Ma(b9g(a.D.D,a.L))}a.J&&(b=y9g(a),a.J.Ma(b),a.J.setVisible(b));a.H&&(b=z9g(a),a.H.Ma(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Ma(b),a.R.setVisible(b))}function w9g(a){Ao.call(this,a)}t(w9g,Ao);
function s9g(a){a=void 0===a?"docos-docomenu":a;Oz.call(this);this.D=a}t(s9g,Oz);s9g.prototype.hc=function(){return(new Wq("goog-menu"," ","docos"," ",this.D)).toString()};function B9g(){ZC.call(this,!1)}t(B9g,ZC);B9g.prototype.oN=function(a){ZC.prototype.oN.call(this,a)};function C9g(){this.C=!1;this.D=new Df;this.qa(this.D)}v(C9g,A);function D9g(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.yy=e;this.C=f;this.D=h}D9g.prototype.ud=g("F");function E9g(){}function J5(a){var b=new E9g;b.D=a;return b}function K5(a,b){a.C=b;return a}function F9g(a,b){a.yy=b;return a}function L5(a){return new D9g(a.D,a.C,a.J||!1,a.L||null,a.yy||null,a.F||null,a.H||null)};function G9g(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Br=h}function H9g(){}function I9g(a){var b=new H9g;b.H=a;return b}function J9g(a,b){a.D=b;return a}function K9g(a,b){a.Br=b;return a}function L9g(a){return new G9g(a.H,a.L||!1,a.F||null,a.J||null,a.C||null,a.D||null,a.Br||null)};function M9g(a,b,c){var d=h5(a);this.F=a;this.O=b;this.Xs=c||null;this.R=null;this.J={};this.D={};this.C=new M8g(d);this.H=void 0;this.yR=!!N(d,u6g,18);b=this.getId();if(a=h5(a)){a=g5(a);for(c=0;c<a.length;c++)d=new M8g(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,P8g(d)&&(this.H=P8g(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=M9g.prototype;m.Gw=function(){return this.C.Gw()};m.getId=function(){return this.C.getId()};
function M5(a){return K(a.C.C,11)||""}m.qQ=function(){var a=K(this.F,4);if(void 0===a)return this.Xt();this.V||(this.V=sW(a));return this.V};m.getContent=function(){return this.C.getContent()};m.Nwa=function(){return this.C.Nwa()};m.aga=function(){return this.C.aga()};m.yx=function(){return this.C.yx()};function N5(a){return K(a.F,8)||""}m.bga=function(){return this.C.bga()};m.x3=function(){return this.C.x3()};m.ey=function(){return void 0!==K(this.F,8)};
m.isResolved=function(){return!!Dj(this.F,6)};function O5(a,b){var c=Nd(a.D);b&&c.push(a.C);rd(c,function(d,e){return rW(d.Xt(),e.Xt())});return c}function I5(a,b){return a.D[b]||null}m.Xt=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=sW(a)):this.L=null;return this.L};m.getNewDocoType=g("Xs");m.Ew=function(){return"draft"==this.Xs||"client-integrated-draft"==this.Xs||"instant-doco"==this.Xs};function N9g(a){return O9g(a)}function O9g(a){return a.Ew()||"smart-todo"==a.Xs}
m.ZX=function(){return"smart-todo"==this.Xs};m.uR=function(){return!!Dj(this.F,9)};m.pq=function(){return this.C.pq()};m.Tz=function(){return this.C.Tz()};m.RB=function(){return this.C.RB()};function y5(a){var b=a.C.RB()?a.C.RB():null;a=O5(a);for(var c=0;c<a.length;c++){var d=a[c];d.RB()&&(d=d.RB(),b?(b=new s8g(Uj(b.C)),d=t5(d),d=r8g(d),Oj(b.C,1,d)):b=new s8g(Uj(d.C)))}return b}function A9g(a){return a.C.RB()?a.C:null}m.Yj=function(){return this.C.Yj()};
m.isTodo=function(){return null!=this.yR?this.yR:this.yR=!!A9g(this)};m.dI=function(){return this.C.dI()};function P9g(a){if(void 0!==a.H)return a.H;if(!a.Yj())return a.H=null;for(var b in a.D){var c=P8g(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.kva=function(){return this.C.kva()};m.eva=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=O5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};
function Q9g(a){this.C=a;this.Xs=null}function P5(a){var b=new i5;a=a.C;Oj(b,2,a);a.getId()||K(a,11);b.Jc(a.getId()||K(a,11));return new Q9g(b)}function R9g(a,b){L(a.C,8,b);return a}function Q5(a,b){L(a.C,9,b);return a}function S9g(a,b){a.Xs=b;return a}Q9g.prototype.getNewDocoType=g("Xs");function T9g(a,b){L(a.C,3,b);return a}Q9g.prototype.getId=function(){return h5(this.C).getId()};function U9g(a,b,c,d,e,f,h,k){Ao.call(this,a);this.L=b;this.C=c;this.O=d;this.Br=e;this.D=f;this.R=h;this.F=k}t(U9g,Ao);function V9g(){this.Br=this.D=this.F=this.L=this.Vv=null;this.H=this.C=0;this.J=!1}function W9g(a){var b=new V9g;b.Vv=a;return b}function X9g(a,b){a.L=b;return a}function Y9g(a,b){a.F=b;return a}function Z9g(a,b){a.H=b;return a}function $9g(a,b){a.J=b;return a}function a$g(a){return new U9g(a.Vv,a.L,a.F,a.D,a.Br,a.C,a.H,a.J)};function b$g(a){A.call(this);this.C=a;this.F=w5(a);this.D=c$g(this.C);this.H={}}v(b$g,A);function d$g(a,b,c,d,e,f){var h=jf(),k=new F5(h);d&&H5(k,d,Na());f&&X8g(k);e&&(d=q8g(m8g(p8g(new D5,e).Jc(""),!1)),d=t8g(d),V8g(k,d));c=S9g(T9g(Q5(R9g(P5(k),b),!1),Date.now()),c);e$g(A5(a.C),c);A5(a.C).flush();f$g(a.D,L9g(K9g(J9g(I9g(43008),h),b)));return R5(A5(a.C),h)}
function g$g(a,b,c,d,e){d=m8g(p8g(new D5,d).Jc(""),!1);Ad(ff(e))||d.bd(e);e=q8g(d);d=t8g(e);e=jf();var f=Na();c=X8g(V8g(H5(W8g(new F5(e),a.F.Tg()),c,f),d));c=S9g(Q5(R9g(P5(c),b),!1),"smart-todo");e$g(A5(a.C),c);A5(a.C).flush();f$g(a.D,L9g(K9g(J9g(I9g(43023),e),b)));return R5(A5(a.C),e)}
function h$g(a,b,c,d,e){var f=jf(),h=Na();c=H5(W8g(S8g(G5(new F5(f)),h),a.F.Tg()),c,h);e&&X8g(c);d&&(d=q8g(m8g(p8g(new D5,d).Jc(""),!1)),d=t8g(d),V8g(c,d));b=S9g(R9g(T9g(Q5(P5(c),!0),h),b),"discussion");e$g(A5(a.C),b);A5(a.C).flush();b=A5(a.C).ud(f);S5(a.D,L5(K5(J5(43009),b)));return R5(A5(a.C),f)}m=b$g.prototype;m.Udb=function(a){i$g(A5(this.C),a);A5(this.C).flush()};
m.Qdb=function(a,b,c,d){if(a=A5(this.C).ud(a)){if(d&&!a.RB())throw Error("Cannot reassign a doco with no existing assignment");if(a.Yj()&&d)throw Error("Cannot reassign a suggestion.");var e=jf(),f=Na();b=W8g(S8g(H5(G5(new F5(e)),b,f),f),this.F.Tg());c&&R8g(b,c);d&&V8g(b,d);c=Q8g(new F5(M5(a),a.getId()),b);c=Q5(P5(c),!0);T5(A5(this.C),c);A5(this.C).flush();S5(this.D,L5(K5(J5(d?43020:43010),a)))}};
m.Wdb=function(a,b){if(a=A5(this.C).ud(a)){var c=new F5(M5(a),a.getId()),d=null!=a.Tz()?new v8g(a.Tz().C.clone()):new v8g(new y6g);L(d.C,4,b?1:0);Oj(c.C,19,d.C);G5(c);c=Q5(P5(c),!0);T5(A5(this.C),c);A5(this.C).flush();S5(this.D,L5(K5(J5(b?43040:43041),a)))}};
m.Xdb=function(a,b,c){if(a=A5(this.C).ud(a)){var d=new F5(M5(a),a.getId());if(c=I5(a,c)){var e=null!=c.Tz()?new v8g(c.Tz().C.clone()):new v8g(new y6g),f=new F5(M5(a),c.getId());L(e.C,4,b?1:0);Oj(f.C,19,e.C);Q8g(d,G5(f));d=Q5(P5(d),!0);T5(A5(this.C),d);A5(this.C).flush();S5(this.D,L5(F9g(K5(J5(b?43042:43043),a),c)))}}};
m.Gib=function(a,b,c){if(a=A5(this.C).ud(a))if(b=I5(a,b)){var d=Na();c=H5(G5(new F5(K(b.C,11)||"",b.getId())),c,d);c=Q8g(new F5(M5(a),a.getId()),c);c=Q5(P5(c),!0);T5(A5(this.C),c);A5(this.C).flush();S5(this.D,L5(F9g(K5(J5(43021),a),b)))}};m.G6b=function(a,b){if(a=A5(this.C).ud(a)){var c=Na();b=H5(new F5(M5(a),a.getId()),b,c);b=Q5(P5(b),!1);T5(A5(this.C),b);A5(this.C).flush()}};
m.Vdb=function(a,b,c){if(a=A5(this.C).ud(a)){if(a.Yj())throw Error("Cannot resolve a suggestion.");var d=jf(),e=Na();d=W8g(S8g(G5(new F5(d)),e),this.F.Tg());L(d.C,10,b?0:1);c&&H5(d,c,e);c=Q8g(new F5(M5(a),a.getId()),d);c=Q5(P5(c),!0);L(c.C,6,b);T5(A5(this.C),c);A5(this.C).flush();S5(this.D,L5(K5(J5(b?43014:43015),a)))}};
m.Rdb=function(a,b){var c=A5(this.C),d=c.ud(a);d&&(this.H[R5(c,a)]=Od(Zd(d.D)),a=T8g(G5(new F5(M5(d),d.getId()))),a=Q5(P5(a),!0),d.ZX()||(d=K5(J5(43017),d),null!=b&&(d.F=b),S5(this.D,L5(d))),T5(c,a),c.flush())};
function j$g(a,b){var c=A5(a.C);if(U5(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Da[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=U8g(G5(new F5(M5(d),d.getId()))),f=a.H[b];delete a.H[b];a=Zd(d.J);b=Zd(d.D);for(var h=0;h<f.length;h++){var k=f[h];Q8g(e,U8g(G5(new F5(K((b[k]||a[k]).C,11)||"",k))))}e=Q5(P5(e),!0);T5(c,e);c.flush();return R5(c,d.getId())}
m.qIa=function(a,b){if(a=U5(A5(this.C),a)){var c=a.dI();if(!a.Yj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=G5(new F5(M5(a),a.getId()));c=(new s6g).setType("application/vnd.google-apps.docs.mds");b=Oj(c,3,b);Oj(a.C,9,b);b=Q5(P5(a),!0);T5(A5(this.C),b);A5(this.C).flush()}};m.Eib=function(a,b){if(a=A5(this.C).ud(a)){var c=Na();b=H5(G5(new F5(M5(a),a.getId())),b,c);b=Q5(P5(b),!0);T5(A5(this.C),b);A5(this.C).flush();S5(this.D,L5(K5(J5(43022),a)))}};
m.edb=function(a,b){(a=A5(this.C).ud(a))&&(b=I5(a,b))&&k$g(this,a,b)};function k$g(a,b,c){S5(a.D,L5(F9g(K5(J5(43016),b),c)));T5(A5(a.C),l$g(b,c));A5(a.C).flush()}function l$g(a,b){b=T8g(G5(new F5(K(b.C,11)||"",b.getId())));a=Q8g(new F5(M5(a),a.getId()),b);return Q5(P5(a),!0)}m.Tdb=function(a){var b=U5(A5(this.C),a,!0);a=m$g(A5(this.C),a);b&&a&&k$g(this,b,a)};
m.Sdb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=U5(A5(this.C),d,!0);d=m$g(A5(this.C),d);e&&d&&b.push(l$g(e,d))}n$g(A5(this.C),b,"c")};function o$g(a,b,c,d){b=U5(A5(a.C),b);if(!p$g(a,b))return 0;var e=jf();T5(A5(a.C),q$g(a,b,e,c));d||(d=a.D,c=K5(J5(c?43027:43028),b),c.J=!0,S5(d,L5(c)));return R5(A5(a.C),b.getId(),e)}function p$g(a,b){if(!b)return!1;if(!b.Yj()||!b.dI())throw Error("Attempting to accept/reject a non-suggestion.");return r$g(A5(a.C),b)?!0:!1}
function q$g(a,b,c,d){a=R8g(W8g(S8g(G5(new F5(c)),Na()),a.F.Tg()),b.dI());L(a.C,10,d?2:3);b=Q8g(new F5(M5(b),b.getId()),a);return Q5(P5(b),!0)}function s$g(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=U5(A5(a.C),b[h]);if(p$g(a,k)){var l=jf();d.push(q$g(a,k,l,c));e.push(k.getId());f.push(l)}}n$g(A5(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(R5(A5(a.C),e[h],f[h]));return b};function t$g(){Oo.call(this)}v(t$g,Oo);function u$g(a,b){Ao.call(this,a);this.ym=b||null}v(u$g,Ao);function v$g(){Eq.call(this,"",void 0,!0);this.Ua=new Aq(u(this.C,this));this.qa(this.Ua);this.F=null}t(v$g,Eq);v$g.prototype.L=function(a,b,c,d){if(this.F&&!vd(a,"Error in protected function: ")){var e=new k7g;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);w$g(this.F,"rjse",c,void 0,ta,!0,1)}};v$g.prototype.Ia=function(){Eq.prototype.Ia.call(this);delete this.Ua};function x$g(a){Oo.call(this);var b=this;this.F=null;this.H=new qo;this.qa(this.H);this.C=a;ro(this.H,this.C.cH(),function(){"hidden"===b.C.getState()&&(b.D=new KC);"visible"!=b.C.getState()||tnb(b.D)||(b.dispatchEvent("Di"),y$g(b))});this.D=new KC;y$g(this)}t(x$g,Oo);x$g.prototype.format=function(a){var b=new KC(a);b=(new KC).getTime()-b.getTime();if(15552E6<b||-864E5>b)return z$g.format(a);b=Eff(a.getTime());return A$g.format(a)+(" "+b)};
function y$g(a){var b=new KC;b.add(new JC(0,0,1));b=b.getTime();cq(a.F);a.F=bq(function(){a.dispatchEvent("Di");y$g(a)},b-Na(),a)}ua(x$g);var A$g=new NC(7),z$g=new NC(2);function B$g(a,b,c){this.Ux=a;this.src=b;this.C=c};function C$g(a){A.call(this);this.D=a;this.C={};this.J={};this.L=this.D.R;this.fd=0;this.H=[];this.La=new Po(this);this.qa(this.La);this.La.listen(this.D,"r",this.O)}t(C$g,A);function D$g(a){return"legacy"===a.D.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}
function E$g(a,b,c,d){if(b){var e="dcs-img-"+a.fd++;b.id=e;b.alt=d;a.C[e]=b;a.J[e]=c||"//ssl.gstatic.com/s2/profiles/images/silhouette96.png";F$g(a,e)}}function d8g(a,b,c,d){b&&a.H.push(new B$g(b,c,d))}function G$g(a){bq(function(){for(;this.H.length;){var b=this.H.pop();E$g(this,b.Ux,b.src,b.C)}},0,a)}function B5(a,b){b&&b.id&&(a.La.Bc(b,H$g,a.F),delete a.C[b.id],delete a.J[b.id])}C$g.prototype.O=function(){var a=this.D.R;if(this.L!=a&&(this.L=a,!a))for(var b in this.C)F$g(this,b)};
C$g.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.D.C.C(b,"")),this.La.Bc(b,H$g,this.F),b.src="//ssl.gstatic.com/s2/profiles/images/silhouette96.png"):B5(this,b)}};function F$g(a,b){a.La.listen(a.C[b],H$g,a.F);a.C[b].src=a.J[b]}var H$g=[pf?"readystatechange":"load","abort","error"];function I$g(){kW.call(this);this.ma=!1}v(I$g,kW);function w5(a){return a.get("config")}function C5(a){var b=lW(a,"action_registry");if(!b){b=new B9g;for(var c=Nd(D7g),d=0;d<c.length;d++){var e=c[d];e=O((new It(e)).Cj("label",e).Cj("visible",!0).Cj("hint",e).Cj("enabled",!0));b.$s(e);b.qa(e)}a.Af("action_registry",b)}return b}function A5(a){return a.get("stream")}function z5(a){return a.get("imageManager")}function J$g(a){return a.get("subscriptionManager")}
function c$g(a){return a.get("impressionRecorder")}function Y7g(a){return lW(a,"errorReporter")}function K$g(a){var b=lW(a,"batchEventTracker");b||(b=new C9g,a.Af("batchEventTracker",b));return b};function L$g(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=w5(a).yn}function M$g(a,b){a.C!=b&&(a.C=b,b={Uj:a.D,tOb:a.O,AOb:b},C5(a.L).xf("mouse-hover-doco-view").pb(b))};function N$g(a){a=a||{};var b=a.xJ,c=a.p0,d=a.BOb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+mW(c)+"><span class="+mW(d)+">"+R(b)+"</span></div>":"<span class="+mW(d)+">"+R(b)+"</span>");return T(a)};function O$g(a){a=a||{};var b=a.Zh,c=a.FB;a=a.xR;return T('<div class="'+U("goog-inline-block")+" "+U("goog-menu-button")+" "+U("docos-docomenu-dropdown")+'">'+(b?R(P7g({Zh:""+b,FB:""+c,xR:a})):"")+"</div>")};function P$g(a,b,c){b=c||b;a=a||{};c=T;var d;if(a.Po){var e=b;a=a||{};var f=a.author,h=a.$g,k=a.QE,l=a.Vma,n=a.Ge;b=a.Dm;var q=a.Oz,r=a.Yj,w=a.Ew,x=a.d7,F=a.xJ,M=a.OX,X=a.zj,S=a.bfa,ca=a.rva,ma=a.isBadgingEnabled,wa=a.timestamp,ya=a.Ucb,Ca=a.ao;f='<div class="'+U("docos-anchoredreplyview")+(n?" "+U(n):"")+(r?" "+U("docos-replyview-suggest"):" "+U("docos-replyview-comment"))+'"><div class="'+U("docos-anchoredreplyview-header")+'"><div class="'+U("docos-anchoredreplyview-avatar-holder")+'">'+R(Q7g({size:32,
Ycb:ya,uoa:k?""+k:"",I1:Cx(f)&&!h?""+f:"",Ge:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(q?'<div class="'+U("docos-user-presence")+'"></div>':"")+(ma?'<span class="'+U("docos-new-tag")+'" style="display:none"></span>':"")+'</div><div class="'+U("docos-anchoredreplyview-authortimestamp")+'"><div class="'+U("docos-anchoredreplyview-author")+" "+U("docos-author")+'"'+(k?' data-hovercard-id="'+U(k)+'"':"")+(Cx(f)&&!h?' data-name="'+U(f)+'"':"")+">"+(f?R(f):"")+'</div><div class="'+U("docos-anchoredreplyview-timestamp")+
" "+U("docos-replyview-timestamp")+'">'+(wa?R(wa):"")+'</div></div><div class="'+U("docos-anchoredreplyview-buttonholder")+" "+U("hide-on-readonly")+'">';Cx(r)&&Cx(q)?(F=F={ao:Ca},F=T(Q$g({dd:"docos-accept-suggestion jfk-button-collapse-right",ao:F.ao},e)),Ca=Ca={zj:X,ao:Ca},X=Ca.zj,Ca=Ca.ao,e=""+R(OA({title:"Reject suggestion",style:Ca?4:0,dd:"docos-reject-suggestion jfk-button-collapse-left",content:Dx(""+(Ca?T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(P7g({Zh:"docos-icon-reject-suggestion-cross",FB:"docos-icon-reject-suggestion-cross-size",Ge:"jfk-button-img"})))),lO:X},e)),e=T(e),e=F+e):w?e="":(X=q?S?T(Q$g({dd:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):T(R(OA({dd:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!Cx(S)||!Cx(M)&&F?e="":ca?(S=(S=a)||{},Ca=S.Oz,F=S.OX,S=S.zj,ca=R(P7g({Zh:"docos-icon-thumb-black",FB:"docos-icon-thumb-size",Ge:"jfk-button-img",
xR:!0}))+'<div class="'+U("like-button-text")+'">',ca+="0</div>",e=""+R(OA({dd:"docos-like-button "+(Cx(Ca)&&!F?"jfk-button-collapse-left":""),title:"Like this",content:Dx(ca),lO:S},e)),e=T(e),e=R(e)):(S=(S=a)||{},Ca=S.Oz,F=S.OX,S=S.zj,ca='<div class="'+U("vote-button-text")+'">',ca+="+1</div>",e=""+R(OA({dd:"docos-vote-button "+(Cx(Ca)&&!F?"jfk-button-collapse-left":""),title:"+1 this comment",content:Dx(ca),lO:S},e)),e=T(e),e=R(e)),e=X+e+'<div class="'+U("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
l=f+e+'</div></div><div class="'+U("docos-collapsible-replyview")+" "+(l?"":U("docos-collapsible-replyview-empty"))+'">'+(q||M?"":R(N$g(Ax({p0:""},a))))+'<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-replyview-body")+" "+U("docos-anchoredreplyview-body")+'">'+(l?R(l):"")+'</div><div class="'+U("docos-show-more")+'" role="button" tabindex="0">';l=l+'Show more</div><div class="'+(U("docos-show-less")+'" role="button" tabindex="0" style="display:none">');l+="Show less";q?d=R(N$g(Ax({p0:"docos-root-reply-action-text-wrapper"},
a))):M?d=R(N$g(Ax({p0:"docos-action-text-bottom-wrapper"},a))):d="";l+="</div></div></div>"+(b?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+U("docos-replyview-origin")+" "+U("docos-anchoredreplyview-origin")+'">'+(x?R(x):"")+"</div></div>";d=T(l)}else d=b,x=a||{},M=x.author,l=x.$g,f=x.QE,e=x.Vma,X=x.Ge,q=x.jna,a=x.Dm,Ca=x.Oz,b=x.d7,F=x.timestamp,S=x.isBadgingEnabled,ca=x.ao,x.Ew?(q=(q=Ax({author:M,QE:f,Ge:X,d7:b},x))||{},d=q.author,a=q.QE,b=
q.Ge,q=q.d7,d=T('<div class="'+U("docos-streamrootreplyview")+(b?" "+U(b):"")+'"><div class="'+U("docos-streamdocoview-authorname")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(a?' data-hovercard-id="'+U(a)+'"':"")+(d?' data-name="'+U(d)+'"':"")+">"+(d?R(d):"")+'</div><div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(q?R(q):"")+"</div></div>")):Ca?(a=(a=x)||{},X=a.author,Ca=a.QE,b=a.Vma,F=a.Ge,q=a.Dm,x=a.bac,M=a.Bva,l=a.d7,f=a.xJ,e=a.OX,S=a.timestamp,d=
'<div class="'+U("docos-streamrootreplyview")+(F?" "+U(F):"")+'"><div class="'+U("docos-streamdocoview-authorname")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(Ca?' data-hovercard-id="'+U(Ca)+'"':"")+(X?' data-name="'+U(X)+'"':"")+">"+(X?R(X):"")+'</div><div class="'+U("goog-inline-block")+" "+U("docos-actionmenu-outer")+'">'+R(O$g(null,d))+'</div><div class="'+U("docos-streamdocoview-details")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-timestamp")+" "+U("docos-replyview-timestamp")+
" "+U("goog-inline-block")+'">'+(S?R(S):"")+'</div><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-streamdocoview-comments-off")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'">',d=d+'Comments off</div><div class="'+(U("docos-streamdocoview-reopen-control")+" "+U("goog-inline-block")+" "+U("hide-on-readonly")+'" style="display: none"><div class="'+U("docos-streamdocoview-bullet")+" "+
U("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-docoview-reopen")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="'),d+=Fx("Mark as open and return discussion to the document view"),d+='">Re-open</div></div></div>',x&&(d+='<div class="'+U("docos-replyview-quote-caption")+'">',d=d+'Selected text:</div><div class="'+(U("docos-replyview-quote")+" "+U("docos-replyview-quote-collapsed")+'">'+R(x)+'<div class="'+U("docos-replyview-quote-collapse")+" "+U("goog-inline-block")+
'" style="display:none">'),d=d+'Collapse</div><div class="'+(U("docos-replyview-quote-expand")+'">'),d+="Show all</div></div>"),d+='<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamdocoview-body")+" "+U("docos-replyview-body")+'">'+R(b)+"</div>"+(f?R(N$g(Ax({p0:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+U("docos-streamdocoview-controls")+" "+U("hide-on-readonly")+'"><div class="'+U("docos-streamdocoview-comment-control")+" "+U("goog-inline-block")+'"><div class="'+
U("docos-docoview-comment")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',d+=Fx("Reply to this comment"),d+='">Reply</div></div>',M&&(d+='<div class="'+U("docos-streamdocoview-resolve-control")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>',e?(d+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',d+=Fx("Mark as done and hide discussion"),
d+='">Mark as done'):(d+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',d+=Fx("Mark as resolved and hide discussion"),d+='">Resolve'),d+="</div></div>"),d+="</div></div>"+(q?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(l?R(l):"")+"</div></div>",d=T(d)):(d='<div class="'+U("docos-streamreplyview")+'">'+R(Q7g({size:ca?
32:24,uoa:f?""+f:"",I1:Cx(M)&&!l?""+M:"",Ge:"docos-replyview-avatar docos-streamreplyview-avatar"}))+(Cx(S)&&!Ca?'<span class="'+U("docos-new-tag")+'" style="display:none"></span>':"")+'<div class="'+U("docos-streamreplyview-content")+'"><div class="'+U("docos-streamreplyview-text")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamreplyview-author")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(f?' data-hovercard-id="'+U(f)+'"':"")+(M?' data-name="'+U(M)+'"':"")+">"+(M?R(M):"")+
"</div>"+R(N$g(x))+' <br><span class="'+U("docos-replyview-body")+" "+U("docos-streamreplyview-body")+" "+U("docos-replyview-static")+'">'+R(e)+'</span></div><div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamreplyview-timestamp")+" "+U("docos-replyview-timestamp")+" "+U("goog-inline-block")+'">'+(F?R(F):"")+"</div>",Cx(q)||Cx(a)?(M=M={Fab:!0,jna:q,Dm:a},q=M.jna,x=M.Dm,M=M.Fab,l='<div class="'+U("docos-replyview-control")+" "+U("docos-replyview-static")+" "+U("goog-inline-block")+
" "+U("hide-on-readonly")+'">',x&&(l+=(M?'<div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-edit")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',l+=Fx("Make changes to your comment"),l+='">Edit</div>'),q&&(l+=(M?'<div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-delete")+" "+U("goog-inline-block")+
'" role="button" tabindex="0" title="',l+=Fx("Permanently delete your comment"),l+='">Delete</div>'),q=T(l+"</div>"),q=R(q)):q="",d=d+q+"</div>"+(a?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(b?R(b):"")+"</div></div></div>"),d=T(d);return c(d)}
function R$g(){return T('<div class="'+U("docos-showrepliesbutton")+'" style="display:none"><div class="'+U("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function Q$g(a,b){a=a||{};var c=a.dd;a=a.ao;var d=T,e;a?e=T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(P7g({Zh:"docos-icon-accept-checkmark-black",FB:"docos-icon-accept-checkmark-size",Ge:"jfk-button-img"}));return d(R(OA({dd:c?""+c:"",style:a?4:0,content:Dx(""+e)},b)))};function S$g(a,b){a=a||{};var c=a.BGa,d=a.dd,e=a.EJa;a=a.FJa;return T('<div class="'+U("goog-inline-block")+(d?" "+U(d):"")+'">'+R(Sld({Sl:c,dd:e},b))+(c?"<label"+(a?' class="'+U(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function T$g(a,b,c){b=c||b;a=a||{};var d=a.Ge;c=a.s$;var e=a.tec,f=a.pna,h=a.GJa,k=a.EFa,l=a.zj,n=a.xJ,q=a.yC;a='<div class="'+U("docos-input")+(d?" "+U(d):"")+'" style="display: none"><textarea class="'+U("docos-input-textarea")+(h?" "+U(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>'+(n?R(N$g(Ax({p0:"docos-edit-pane-action-text-wrapper",BOb:!0},a))):"")+(e?'<div class="'+U("docos-input-sidearrow-outer")+'"></div><div class="'+U("docos-input-sidearrow-inner")+'"></div>':"")+
'<div id="docos-input-assignment-panel" class="'+U("docos-input-assignment-panel")+'" style="display: none">'+R(Sld({dd:"docos-input-assignment-box"},b))+'<div class="'+U("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+U("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+U("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+U("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+
(U("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+(U("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(U("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+U("docos-focusedpresenceindicator-container")+'"></div><div class="'+U("docos-input-buttons")+'">'+R(OA({style:2,
dd:"docos-input-post docos-input-buttons-post"},b)));d="";d=f?d+(""+f):d+"Discard comment";f="";f=c?f+R(c):f+"Cancel";a+=R(OA({dd:"docos-input-cancel",title:d,content:Dx(f),lO:l},b));return T(a+"</div></div>")};function U$g(a,b,c){b=c||b;a=a||{};c=T;if(a.Po){a=a||{};var d=a.author,e=a.ZX,f=a.OX,h=a.zj,k=a.ao;a.Ew?(a=(a=Ax({author:d,zj:h},a))||{},d=a.author,e=a.zj,f=a.yC,b=T('<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-draft")+'">'+R(P$g(Ax({author:d,Po:!0,Oz:!0,Ge:"docos-replyview-first"},a),b))+"</div>"+R(T$g({Ge:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",zj:e,yC:f},b)))):e?(d=(d=Ax({zj:h,ao:k},a))||{},e=d.Qab,a=
d.zj,f=d.ao,h='<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-smarttodoview")+'"><div class="'+U("docos-smarttodoview-container")+'"><div class="'+U("docos-smarttodoview-header")+'"><table><tr><td class="'+U("docos-icon-explore-container")+'">'+R(P7g({Zh:"docos-icon-explore",FB:"docos-icon-explore-size",xR:!0}))+'</td><td class="'+U("docos-smarttodoview-headertext")+'" role="heading"><div class="'+U("docos-smarttodoview-headertext-outer")+'"><div class="'+U("docos-smarttodoview-headertext-inner")+
'">',h=h+'Suggested action item</div></div></td><td><div class="'+(U("docos-overflowmenu-outer")+'">'+R(O$g({FB:"docos-icon-overflow-three-dots-size",Zh:"docos-icon-overflow-three-dots",xR:f},b))+'</div></td></tr></table></div><div class="'+U("docos-smarttodoview-body")+'"></div>'),h+=R(T$g({Ge:"docos-docoview-input-pane",s$:"Dismiss",pna:"Dismiss suggested action item",zj:a},b)),e&&(h+='<div class="'+U("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+U("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Bad suggestion?</div></div>"),a=h,e?(d=d||{},d=d.zj,e='<div class="'+U("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+U("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+"Tell us why you didn't like this</div><div class=\""+(U("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=R(S$g({BGa:"Not an action item",dd:"docos-smarttodoview-feedback-checkbox-container",EJa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
FJa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=R(S$g({BGa:"Wrong assignee",dd:"docos-smarttodoview-feedback-checkbox-container",EJa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",FJa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+U("goog-inline-block")+" "+U("docos-smarttodoview-writefeedback-link")+'" role="button" tabindex="0">',e=e+'Write feedback</div><div class="'+
(U("docos-smarttodoview-feedback-buttonlist")+'">'),e+=R(OA({style:2,dd:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",lO:d},b)),e+=R(OA({dd:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",lO:d},b)),b=T(e+"</div></div>")):b="",b=T(a+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+U("docos-anchoreddocoview-content")+
" "+U("docos-docoview-replycontainer")+'"><div class="'+U("docos-docoview-rootreply")+'"></div></div><div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+U("docos-unfocusedpresenceindicator-container")+'"></div>';b=T('<div class="'+U("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+U("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else{e=a||{};f=e.author;d=e.$g;var l=e.QE;h=e.ao;k=e.zj;var n=e.Ew,q=e.fK;a=T;d='<div class="'+U("docos-docoview-tesla-conflict")+
'">'+R(Q7g({size:h?32:48,uoa:l?""+l:"",I1:Cx(f)&&!d?""+f:"",Ge:"docos-streamdocoview-avatar"}))+(Cx(q)&&!n?'<span class="'+U("docos-root-new-tag")+'" style="display:none"></span>':"")+'<div class="'+U("docos-streamdocoview-content")+'">';n?(e=(e=Ax({author:f,zj:k},e))||{},f=e.author,h=e.zj,k=e.yC,b=T('<div class="'+U("docos-streampane-draft")+'">'+R(P$g(Ax({author:f,Po:!1,Oz:!0,Ew:!0,Ge:"docos-replyview-first"},e),b))+"</div>"+R(T$g({Ge:"docos-streamdocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",
zj:h,yC:k},b)))):b='<div class="'+U("docos-docoview-rootreply")+'"></div><div class="'+U("docos-streamdocoview-replycontainer")+" "+U("docos-docoview-replycontainer")+'"></div><div class="'+U("docos-streamdocoview-inputcontainer")+" "+U("hide-on-readonly")+'">'+R(Q7g({size:h?32:24,Ge:"docos-streamreplyview-avatar"}))+'<div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div></div>';b=a(d+b+"</div></div>")}return c(b)};function V$g(a,b){Ao.call(this,a);this.Uj=b}t(V$g,Ao);function V5(a){V$g.call(this,"rd",a)}t(V5,V$g);function W5(a,b,c,d,e){v5.call(this,a,d);this.R=a;this.Za=c;this.cb=[];this.O=null;this.Pa=new L$g(this.R,b,this.Po());this.Jc(b);this.Na=null;this.Yc=e;this.rb=this.xa=null;this.Fd=!0;this.qc=!1}t(W5,v5);m=W5.prototype;m.xA=ba();m.Jc=function(a){v5.prototype.Jc.call(this,a);this.Pa.D=a};m.getContext=g("R");m.ud=function(){return A5(this.R).ud(this.getId())||null};m.wl=function(){var a=this.getId();return W$g(this.Yc,a)};m.YR=ea(null);m.Pwa=ea(!1);
m.Aa=function(){var a=this.ud(),b=a.Gw();a=y5(a);var c="Unknown"===b.getName();c=Ty(U$g,{author:b.getName(),$g:b.C,QE:this.C.V&&!c?b.getId():null,Po:this.Po(),OX:!!a,zj:this.C.zj(),ao:"legacy"!=this.C.F,fK:this.C.fK()});this.Po()||m9g(this.C)||Zx(c,"docos-streampanemargin-legacy");this.jb(c);this.Ee(b,a||void 0)};
m.Ee=function(a,b){b=b?V7g(b,this.C):void 0;a=a.getName();var c=Md(this.ud().D),d=this.ud().isResolved()?"Resolved":"Open";b=a&&b?(new wB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new wB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new wB("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});Vx(this.getElement(),b)};m.Ga=function(){v5.prototype.Ga.call(this);x5(x5(this,this.getElement(),["click","keypress","keyup"],this.qRb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.C7b);Bp(this.getElement(),!0)};m.vd=function(){v5.prototype.vd.call(this);M$g(this.Pa,!1)};m.q$=ea(!1);
m.Nza=ba();m.Qfa=function(){if("legacy"==this.C.F&&this.Po()&&(!this.xa||!this.rb)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");Zx(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");Zx(c,"docos-anchoreddocoview-arrow-outer");this.rb=c;a.Os(b,this.xa,0);a.Os(b,this.rb,0)}};m.Xc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Fd;a||this.setVisible(!0);this.O=new Rm(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Xc();return this.O.height};m.qRb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.xUa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.C7b=function(a){var b=this.Pa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||M$g(b,"mouseenter"==a.type);a.stopPropagation()};m.uY=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new V5(this.getId()))};m.setVisible=function(a){this.Fd=a;P(this.getElement(),a)};m.isVisible=g("Fd");
function X$g(a){var b=["docos-docoview-tesla-conflict"],c=[];Uy()&&z(y(),"docs-ehspc")?(Y$g(a,"docos-anchoreddocoview",!1,b,c),Y$g(a,"docos-streamdocoview",!0,b,c)):(Y$g(a,"docos-anchoreddocoview",a.Po(),b,c),Y$g(a,"docos-streamdocoview",!a.Po(),b,c));Y$g(a,"docos-docoview-active",a.wl(),b,c);m9g(a.C)&&Y$g(a,"docos-docoview-active-experiment",a.wl(),b,c);var d=a.ud();Y$g(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)$x(a.getElement(),b),jy(a.getElement(),c),a.cb=Wx(a.getElement())}
function Y$g(a,b,c,d,e){c&&!$c(a.cb,b)?d.push(b):!c&&$c(a.cb,b)&&e.push(b)}m.mT=da("Na");function Z$g(a){return a.Na?a.Na:a.C.ws}m.getDocoMaxHeight=g("Na");m.Ia=function(){v5.prototype.Ia.call(this);delete this.R};function $$g(a,b){this.C=a;this.$a=b}
function aah(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+U("docos-contact-row")+'" title="';f+=Fx("Contact information.");f+='">'+R(Q7g({size:32,Ge:"docos-contact-row-avatar"}))+'<div class="'+U("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+U("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=T(f);d=yx(d);Le(c,d);d=b.getEmail();d=Ad(ff(b.getName()))?d:b.getName()+" "+d;Vx(c,d);c=HV(a.$a,"IMG","docos-contact-row-avatar",c);B5(a.C,c);E$g(a.C,c,b.D,u5(b));
return c};function bah(a,b,c,d){d=void 0===d?null:d;sA.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new $$g(z5(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.Po());this.D=null}t(bah,sA);m=bah.prototype;m.Ga=function(){sA.prototype.Ga.call(this);this.D=$o("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.NRb).listen(this.getElement(),"focus",this.uy).listen(this.getElement(),["mousedown","blur"],this.v_a)};
m.NRb=function(a){this.C&&this.C.ud()==A5(this.L).R||(this.Ed(!this.qf()),this.v_a());a.stopPropagation()};m.uy=function(){Zx(this.D,"docos-assignee-select-focus")};m.v_a=function(){iy(this.D,"docos-assignee-select-focus")};m.bf=function(a){return this.Qb()&&2>this.Qb().zc()?!1:sA.prototype.bf.call(this,a)};m.hg=function(a){this.C&&this.C.ud()==A5(this.L).R&&(this.Qb()&&2>this.Yh()||sA.prototype.hg.call(this,a))};function cah(a){return(a=a.wf())?a.Tg():null}
m.He=function(a){sA.prototype.He.call(this,a);var b=a.getElement();b&&(Zx(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&Zx(b,"docs-gm"),this.O&&a.render(this.H.L))};m.im=function(){var a=this.Qb().getElement();Ow(a,"width",this.J.offsetWidth+"px");sA.prototype.im.call(this);var b=parseInt(Pw(a,"top"),10)||0,c=Vw(this.J).x;this.O?(c-=Vw(this.H.L).x,b+=-2):b+=-1;Sw(a,c,b)};function dah(a){var b=new bm;if(!a.Qb())return b;a.Qb().Xe(function(c){b.add(c.Tg())});return b}
m.update=function(a,b){if(!dah(this).equals(new bm(a))||cah(this)!=b){for(var c=new Qz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new eah(f,this.R,this.oa());f==b&&(d=h);c.Fa(h,!0)}this.He(c);uA(this,d);P(this.getElement(),1<this.Yh())}};m.reset=function(){this.Qb().qd();uA(this,null)};function eah(a,b,c){var d=c.createElement("div");Lz.call(this,d,void 0,c);this.D=a;this.C=b;this.F=aah(this.C,this.D,d)}t(eah,Lz);m=eah.prototype;m.Aa=function(){Lz.prototype.Aa.call(this);Zx(this.getElement(),"docos-assignee-select-item")};
m.Ga=function(){Lz.prototype.Ga.call(this);this.getHandler().listen(this.getElement(),"click",this.MRb)};m.Tg=g("D");m.Sg=ea("");m.MRb=function(a){a.stopPropagation()};m.Ia=function(){Lz.prototype.Ia.call(this);var a=this.F;a&&B5(this.C.C,a)};function fah(){gah(this)}t(fah,Qa);fah.prototype.kA=function(a){Yca(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};fah.prototype.cleanup=function(){this.D.clear();this.C=null};fah.prototype.iterator=function(){if(!this.C){var a=new U5g,b=this.D;a.C=[];var c=b.Qf();b=c;var d=a.C;c=c.length;var e=0,f=0;Sa(b,d)&&(b=b.slice(f,f+c),f=0);var h=f;for(f+=c;h<f;){var k=Math.min(h+1E4,f);c=k-h;h=b.slice(h,k);h.splice(0,0,e,0);Array.prototype.splice.apply(d,h);h=k;e+=c}this.C=a}return this.C.jj()};
fah.prototype.jj=function(){return this.iterator()};function gah(a){var b=new N6g,c=new S5g;B5g(c);b.C=c;a.D=b;a.C=null};function hah(a){gah(this);this.F=a}t(hah,fah);hah.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();iah(b,this.F)}};hah.prototype.get=g("F");function jah(a,b,c){return new kah(a,b,c)}function kah(a,b,c){this.C=lah(a,b);this.ge=c;this.F=!1;this.D=-1;mah(this,0)}kah.prototype.l5=g("F");kah.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function lah(a,b){for(var c=[],d={},e=0;e<b.length;d={gU:d.gU,e9:d.e9},e++){d.e9=b[e];var f=d;var h=new hah(null);f.gU=h;d.e9.H(a.token,a.t$,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.gU.set(new nah(l,n,r,k.e9.getType(),w,q)):r&&k.gU.set(oah())}}(d))||d.gU.set(oah());c.push(d.gU)}return c}function mah(a,b){if(!a.F)if(b>=a.C.length)a.ge(oah()),a.close();else{a.D=b;var c=a.C[b];cc(a);$ca(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&iah(a,b)}}
function iah(a,b){b.isEmpty()?(a.C[a.D].kA(a),mah(a,a.D+1)):(a.ge(b),b.complete&&a.close())}function pah(a,b,c){this.token=a;this.t$=b;this.C=c}function nah(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}nah.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function oah(){return new nah([],new wBd(!1),!0,0,!1,void 0)};function qah(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function rah(a){this.h$b=a}t(rah,Pfb);function sah(a){this.C=a};function tah(){this.className="docos-ac-highlighted"}tah.prototype.vua=function(a,b,c){Ad(b)||c.C&&/^\W/.test(b)?c=null:(b=cf(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Sx(a,c)};
tah.prototype.Sx=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Sx(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=So(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Kp(b,f)),f=h,h=Kp(b,""),b.Bw(f,a),b.Bw(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function uah(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.gma=!0;a=new vah("\n",null,!0);X5g(a);a.k4a=!1;a.V=null;a.R=null;f=new wah(f,k,this);f.R=!0;f.WCa=!1;f.O=!0;f.className="docos-ac";h&&Vgb(f,h,void 0,h);CB.call(this,this,f,a);this.L.qh=this;this.Ha=c.map(function(n){return new xah(n)});this.Na=new tah;this.gsa(Vo(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Pa=l;this.Da=!1;this.Ba=null}v(uah,CB);var yah=/[\n]$/;m=uah.prototype;
m.OI=function(a,b,c){var d=this,e=Na(),f=this.L.D;this.R&&this.R.Ro("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=zah(this.L,a),l=Aah(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new rah(new qah(e,f,n.getType(),h,x,F,w)),w.yza=!h,w.Zca=r.Kma,c(a,q,w),h=!1)})}else b=jah(new pah(a,k,b),l,function(q){if(!d.isDisposed()){var r=new rah(new qah(e,f,q.type,
h,q.complete,q.F,q.D));r.yza=!h;q.C&&(r.Zca=q.C.Kma);c(a,q.rows,r);h=!1}}),this.C=new Bah(b,this.Pa)}else c(a,[])};function Aah(a,b,c){return a.Ha.filter(function(d){return d.F(b,c)})}
m.Sw=function(a,b){b||(b=new Pfb);uah.Ta.Sw.call(this,a,b);if(b instanceof rah){this.Ba=b.h$b;var c=Cah(this,this.Ba,a.length,!1);b=this.Ba;var d=c,e=Na()-b.startTime,f=Na()-b.J;this.R&&(b.C&&(this.R.Ro("dac",e,d.qb()),this.R.Ro("dact",f,d.qb())),b.D&&(this.R.Ro("dacfr",e,d.qb()),this.R.Ro("dacfrt",f,d.qb())))}else this.Ba=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=Dah[a])&&h.zja;b.C=a}else b.C&&0==d&&(h=(h=Dah[b.C])&&h.aka,b.C=null);h&&Eah(b,
h,c)}};function Cah(a,b,c,d){var e=new XOd;e=L(e,1,c).setType(Fah(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,DB(a,a.J)),L(c,6,b.L));return V5g(c)}function Fah(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}m.jr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.oQ()&&this.Na.vua(c,a.data.oQ().D,new sah(a.data.oQ().C)))};
m.zB=function(){var a=Vfb(this)?this.F[DB(this,this.J)]:null,b;this.Ba&&(b=Cah(this,this.Ba,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=Dah[a.getType()])&&Eah(c,a.Sia,b);c.C=null}this.Da=!0;return uah.Ta.zB.call(this)};m.jh=function(){if(!this.Da&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&Dah[a.C];b&&Eah(a,b.daa);a.C=null}this.Da=!1;uah.Ta.jh.call(this)};function Gah(a){return Vfb(a)?a.F[DB(a,a.J)].getId():null}
m.Ia=function(){uah.Ta.Ia.call(this);Kf(this.Ha);this.C&&(this.C.cancel(),this.C=null)};function vah(a,b,c,d){this.D=0;FB.call(this,a,b,c,d)}v(vah,FB);vah.prototype.hg=function(){this.qh.qf()&&this.qh.jh()};vah.prototype.Pg=function(a){this.D=Na();return(37===a.keyCode||39===a.keyCode)&&this.qh.qf()||38===a.keyCode&&this.qh.qf()&&-1===this.qh.J?(this.qh.jh(),!0):vah.Ta.Pg.call(this,a)};
vah.prototype.eF=function(a,b){var c=null;if(a){c=a.wW();var d=Hah(this,a.getToken());c={start:c.Tk()+d,end:c.hw()+d}}b=vah.Ta.eF.call(this,a,b);if(a){d=c.end;var e=this.Ql;e&&(EB(e,c.start),$fb(e,d));a.S6()}return b};function Hah(a,b){var c=a.Eo();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function zah(a,b){return a.Eo()-Hah(a,b)}function xah(a){this.D=a}
xah.prototype.H=function(a,b,c,d){var e=a.replace(yah,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new Iah(q,a)}),h,k,l,n)})};xah.prototype.getType=function(){return this.D.getType()};xah.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function Iah(a,b){this.C=a;this.D=b}m=Iah.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.C.getType()};m.oQ=function(){return this.C.oQ()};m.wW=function(){return this.C.wW()};m.render=function(a){this.C.render(a)};
m.S6=function(){this.C.S6()};m.getToken=g("D");m.toString=function(){var a=yah.test(this.D)?"\n"[0]:"";return this.wW().C+a};function Bah(a,b){var c=this;this.D=a;this.C=bq(function(){c.C=null;c.D.close()},b)}Bah.prototype.cancel=function(){null!==this.C&&(cq(this.C),this.C=null);this.D.close()};function wah(a,b,c){RB.call(this,a,c);this.Ja=!!b}v(wah,RB);
wah.prototype.Zc=function(){wah.Ta.Zc.call(this);Vx(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Tw(this.getElement()),b=this.Ja?-2:-1;Sw(this.getElement(),a.x,a.y+b)}};function Jah(a){this.C=null;this.D=a}function Eah(a,b,c){if(c){var d=new ik;Oj(d,11,c)}a.D&&a.D(b,void 0,d)}var Kah={},Dah=(Kah[1]={zja:43002,aka:43004,daa:43006,Sia:43E3},Kah[2]={zja:43003,aka:43005,daa:43007,Sia:43001},Kah[3]={zja:43068,aka:43069,daa:43066,Sia:43067},Kah[4]={zja:43072,aka:43073,daa:43070,Sia:43071},Kah);function Lah(a,b,c,d){Oo.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new bC(a);Fo(this.F,"input",this.L,!1,this);Mah(this)}v(Lah,Oo);Lah.prototype.L=function(){Mah(this)};function Mah(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Ap(a.H,String(1==a.J?b:a.D-b))}Lah.prototype.Ia=function(){Lah.Ta.Ia.call(this);delete this.C;this.F.dispose();this.F=null};function Nah(a,b){return Oah(a,b,!1)}function Pah(a,b){return Oah(a,b,!0)}function Oah(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?xd(n,h):zd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function Qah(a,b,c,d,e,f,h){b.getEmail();this.Dc=a;this.D=b;this.fd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(Qah,A);m=Qah.prototype;m.Tg=g("D");m.getId=g("fd");m.getType=g("L");m.oQ=g("H");m.wW=g("J");m.render=function(a){this.C=aah(this.Dc,this.D,a)};m.S6=ba();m.Ia=function(){var a=this.C;a&&B5(this.Dc.C,a)};function Rah(a,b){this.C=a;Sah(this.C);this.D=b}function Tah(a,b){for(var c=0,d=b-1;0<=d;d--)if(Uah.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(Uah.has(a[b])){d=b;break}return{text:a.slice(c,d),Av:c,uG:d}}function Vah(a,b){for(var c=0,d=b-1;0<=d;d--)if(Wah.has(a[d])&&(0==d||Uah.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(Uah.has(a[b])){d=b;break}return{text:a.slice(c,d),Av:c,uG:d}}
function Xah(a,b,c,d,e,f,h,k,l){return a.C.Co(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,sY(M6g(r))?w=(new AY(M6g(r))).setSize(96).Vy():w=M6g(r)||null,w=q8g(n8g(p8g(new D5,r.getEmail()).bd(r.getName()),w).Jc(""))):w=null;return{fcb:r,RC:w}}).filter(function(r){return r.RC}).map(function(r,w){var x=r.RC;w=h+w;r=r.fcb.getType();var F=new uS(d,!0),M=c;x.getName()&&(M=Yah(x.getName(),b,M));var X="+"+x.getEmail(),S=Uah.has(b[M.uG]);return new Qah(a.D,x,w,k,F,new vS(b.slice(0,
M.Av)+X+(S?"":" ")+b.slice(M.uG),M.Av+X.length+1,M.Av+X.length+1),r)});l(n,!q.pk(),a.C.C)},e)}
function Yah(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Zah).filter(function(l){return!!l}),e=b.slice(0,c.uG).split(Zah);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.uG-a,{text:b.slice(a,c.uG),Av:a,uG:c.uG};f++}return c}
var Uah=new Set([" ","\t","\n"]),Wah=new Set(["@","+"]),Zah=/[ ]/;var $ah="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
abh=new bm(["everybody","nobody"]);function bbh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(bbh,A);bbh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Tah(a,b);var f=cbh(this,b.text);a=Xah(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,dbh,f.query.length,k,l)});this.C=a.pk()?a:null;return!0};
bbh.prototype.F=function(a,b){a=Tah(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||$c($ah,a.text.trim().toLowerCase())||abh.contains(a.text.trim().toLowerCase())?!1:!0};function cbh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:ge}:null!=a[2]?{query:a[2],filter:Pah}:null!=a[3]?{query:a[3],filter:Nah}:null}bbh.prototype.getType=ea(2);bbh.prototype.Ia=function(){delete this.C};var dbh=new wBd(!1);function ebh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}v(ebh,A);ebh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Vah(a,b);var f=fbh(this,b.text);a=Xah(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,gbh,f.query.length,k,l)});this.C=a.pk()?a:null;return!0};ebh.prototype.F=function(a,b){a=Vah(a,b);return this.D.test(a.text)};
function fbh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:ge}:null}ebh.prototype.getType=ea(1);ebh.prototype.Ia=function(){delete this.C};var gbh=new wBd(!0);var hbh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,ibh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function jbh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Cd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function kbh(a){this.C=new JL(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");Sah(this.J)}function lbh(a,b){var c=q8g(m8g(p8g(new D5,b).Jc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Co(b,1,u(a.L,a,b)))}kbh.prototype.L=function(a,b){if(null!==b&&0<b.length&&IT(this.C,a)){b=b[0];var c=null;sY(M6g(b))?c=(new AY(M6g(b))).setSize(96).Vy():c=M6g(b)||null;b=q8g(n8g(p8g(new D5,a).bd(b.getName()),c).Jc(""));this.C.set(a,b)}delete this.H[a]};
function mbh(a){return a.C.C.next.value||null}function nbh(a){return a.F?a.D:null};function obh(a,b,c){Ao.call(this,c)}v(obh,Ao);function pbh(a){a=a.INb;return T('<div class="'+U("docos-presenceindicator")+" "+U(a)+'">Someone is typing...</div>')};function qbh(a,b,c){v5.call(this,a,b);this.D=c}t(qbh,v5);qbh.prototype.Aa=function(){this.jb(Ty(pbh,{INb:this.D}))};qbh.prototype.Ga=function(){v5.prototype.Ga.call(this);this.setVisible(!1)};qbh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function rbh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;v5.call(this,a,b);this.Na=a;this.R=new PA("",b);var e=this.C.zj();this.R.mO=e;this.Fa(this.R);this.O=new PA("",b);this.Fa(this.O);this.V=b.Wb().body;this.D=c;this.H=new kbh(this.Na);this.Da=this.Wa=null;this.xa=new bah(b,this.C,this.Na,this.D);this.J=(this.Ad="legacy"!=this.C.F)?new kR(b):new lR(!1,b);this.Za=!1;this.Ja=!d;c=nx.getInstance();this.Ec=ox(c);this.fc=ox(c);this.qc=ox(c);this.Ib=null;z(y(),"docs-edp")&&(this.Ib=new qbh(a,b,"focused-presenceindicator"));
this.Rb=0;this.Ba=null;this.rb="Comment draft";this.Sa=this.Nc=null;this.cb=!0;this.ma=!1;this.kb=this.ib=this.L=this.Oa=this.Pa=null;this.Ha=!1}t(rbh,v5);m=rbh.prototype;m.Aa=function(){this.Fc(Ty(T$g,{zj:this.C.zj(),yC:this.C.Da},void 0,this.oa()))};
m.Fc=function(a){v5.prototype.Fc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.F=b.bb("docos-input-textarea",a);this.Ja||P(this.F,this.Ja);var c=new cC;c.Va(this.F);this.qa(c);this.Sa=b.bb("docos-input-at-reply-message",a);this.Sa.setAttribute("id",this.Ec);this.Pa=b.bb("docos-input-acl-fixer-message",a);this.Pa.setAttribute("id",this.fc);this.Oa=b.bb("docos-input-assignment-message",a);this.Oa.setAttribute("id",this.qc);this.Da=b.bb("docos-input-assignment-panel",a);c=
this.xa;var d=this.Da;c.J=d;Zz(c,new Uz(d,9));this.Wa=b.bb("docos-input-assignee-text",a);c=b.bb("docos-input-assignee-select",a);this.xa.Va(c);this.xa.Ma(!0);if(c=b.bb("docos-input-assignment-box",a))this.J.Va(c),jR(this.J,this.Wa);c=sbh(this);if(0<c.length){d=!this.D||!this.D.Po();var e;d?e=this.C.L:this.D&&(e=this.D.getElement());this.L=new uah(this.C,this.F,c,new Jah(this.C.Na),this.C.O||void 0,e||void 0,this.F||void 0,d);this.qa(this.L)}if(e=b.bb("docos-input-cancel",a))this.O.Va(e),Vx(e,this.O.El());
(a=b.bb("docos-input-post",a))&&this.R.Va(a);this.Ib&&this.D.Po()&&(a=this.oa().bb("docos-focusedpresenceindicator-container",this.getElement()),this.Ib.render(a))};function sbh(a){var b=[],c=new $$g(z5(a.Na),a.oa());c=o9g(a.C)?new Rah(a.Na.get("contactStore"),c):null;if(o9g(a.C)){var d=new ebh(c);a.qa(d);b.push(d)}d=p9g(a.C).map(function(e){return e.F()});kd(b,d);o9g(a.C)&&(c=new bbh(a.C.Yg,c),a.qa(c),b.push(c));return b}
m.Ga=function(){v5.prototype.Ga.call(this);nUe(this.getElement(),!1);this.ib=new Lah(this.F,null,2048);this.qa(this.ib);this.kb=new bC(this.F);this.qa(this.kb);x5(x5(x5(x5(x5(x5(x5(x5(x5(x5(x5(x5(x5(this,this.kb,"input",this.Yyb),this.F,"keydown",this.CE),this.F,"keyup",this.RRb),this.F,"keypress",this.QRb),this.O,"action",this.PRb),this.R.getElement(),["click","keypress","keyup"],this.E2a),this.R,"action",this.CUa),this.Da,"click",this.M5b),this.J,"change",this.O5b),this.J.Xl(),"keypress",this.P5b),
this.Da,["keyup","keypress"],this.N5b),this.xa,"action",this.L5b),this.F,"pointerdown",this.ORb);this.L&&(x5(this,this.L,"update",this.Rpb),x5(this,this.L,"suggestionsupdate",this.D3a));this.F[tbh]=u(this.blur,this);this.F[ubh]=u(this.W6b,this);this.O.getElement()&&(x5(this,this.O.getElement(),["click","keypress","keyup"],this.E2a),this.O.Ma(!0));if(this.D&&y5(this.D.ud())&&O9g(this.D.ud())){var a=this.H,b=t5(y5(this.D.ud())).getEmail();b&&!IT(a.C,b)&&lbh(a,b);a.C.isEmpty();a=this.H;b=mbh(this.H);
$c(a.C.Jd(),b);a.D=b;a.F=!0;this.J.dc(!0)}this.F.value=this.Ba||"";Sx(this.F,"label",this.rb);this.Ha=!0;q9g(this.C)&&(Bp(this.getElement(),!0),Vx(this.getElement(),"This is the input pane."))};m.ORb=function(a){aj&&yf(73)&&a.target.setPointerCapture(a.pointerId)};m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return this.F?this.F.value:""};
m.setValue=function(a){this.F.value=a};m.isEmpty=function(){return Ad(this.getValue())};function X5(a){return!Ad(a.getValue())&&!a.Ha}m.Ee=da("rb");m.reset=function(a){this.ma||this.isDisposed()||(this.F.value=this.Ba||"",Sx(this.F,"label",this.rb),this.Ha=!0,pf?bq(this.DRa,0,this):this.DRa(),Y5(this,a),this.F&&(this.F.style.height=""),a||vbh(this),wbh(this,"none"))};
function wbh(a,b){if(a.Sa&&a.Pa&&a.Oa){P(a.Sa,"atReplyMessage"==b);P(a.Pa,"aclFixerMessage"==b);P(a.Oa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Ec;break;case "assignmentMessage":d=a.qc;break;case "aclFixerMessage":d=a.fc}null!=d?Sx(c,"describedby",d):Tx(c,"describedby")}}}m.ready=function(a,b,c){this.isDisposed()||(this.Ha&&(this.Nc=!b&&a||"",this.F.value=a||"",this.Ha=!1),Zx(this.getElement(),"docos-input-typing"),c||this.focus(),Y5(this))};
m.blur=function(){this.D&&this.dispatchEvent(new Ao("b",this.D))};m.focus=function(){pf||bq(this.BUa,0,this);this.BUa()};m.BUa=function(){this.isDisposed()||fx(this.F)&&this.F.focus()};m.DRa=function(){this.isDisposed()||iy(this.getElement(),"docos-input-typing")};
function Y5(a,b){var c=Cd(a.getValue());c=!a.Ha&&c!=a.Nc;a.R.Ma(!a.ma&&(!a.Ja||c&&!a.isEmpty()));a.D3a();var d=xbh(a),e=a.H.D,f=a.H.C.Jd().length;if(a.Ja){var h=a.H;var k=a.getValue(),l=d?t5(d):void 0;d=jbh(ibh,k);k=h.C;h.C=new JL(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];IT(k,q)?h.C.set(q,k.get(q)):lbh(h,q)}l&&(l=ff(l.getEmail()),!Ad(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=mbh(h))?k.getEmail():null;(h.F||l==n)&&l&&IT(h.C,l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
ybh(a,!1);e=a.C;0!=f||!h||a.ma||!Dj(e.Di,33)||e.R||e.ma||(f=e.Hk,e=mbh(a.H)?mbh(a.H).getEmail():null,f&&e&&f([e]));f=h&&!a.Za&&a.D&&!a.D.ud().isResolved()&&a.Ja&&(a.D.Pwa()||!!A9g(a.D.ud()));Dj(a.C.Di,38)&&(f?(a.J.Ma(!a.ma),a.xa.Ma(!a.ma),a.xa.update(a.H.C.Jd(),d),f=X7g(d,a.C,!!xbh(a)),e=a.xa.getElement(),Ap(a.Wa,f),Vx(e,f+". Choose an assignee."),ky(a.Wa,"docos-input-assignee-text-no-chevron",!fx(e)),P(a.Da,!0),zbh(a,!0)):(ybh(a,!1),a.J.Ma(!1),a.xa.reset(),P(a.Da,!1),zbh(a,!1)));a.ma&&o9g(a.C)&&
!a.H.C.isEmpty()?wbh(a,"aclFixerMessage"):a.cb&&o9g(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?wbh(a,"assignmentMessage"):a.cb?wbh(a,"atReplyMessage"):wbh(a,"none"):wbh(a,"none");(f=nbh(a.H))&&a.D?(e=!!xbh(a),f=X7g(f,a.C,e),e=e?"Reassign":"Assign"):a.Za?(f="Save changes",e="Save"):!a.D||a.D.ud().Ew()?(f="Post Comment",e="Comment"):a.D.ud().ZX()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.R.getElement()&&w5(a.Na).C.C(a.R.Ka(),f);Ap(a.R.getElement(),e);Abh(a);c?(Bbh.contains(a)||
(Bbh.add(a),a.dispatchEvent(new obh(a.D.getId(),1,"pr"))),Zx(a.getElement(),"docos-input-nohide")):(Cbh(a),iy(a.getElement(),"docos-input-nohide"));b||a.dispatchEvent("s")}function Cbh(a){Bbh.contains(a)&&(Bbh.remove(a),a.dispatchEvent(new obh(a.D.getId(),0,"pr")))}
m.D3a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.qf()&&(this.getElement().setAttribute("aria-autocomplete","list"),Vfb(this.L)&&this.getElement().setAttribute("aria-activedescendant",Gah(this.L)))};function zbh(a,b){if(b=b&&a.D)b=a.D,b=b.Po()&&b.qc;b?(a.C.At||fe)("docosTodos",u(a.d8b,a)):(a.C.Ei||fe)("docosTodos")}m.d8b=function(){this.dispatchEvent("ph")};function ybh(a,b){a.J.dc(b);a.H.F=b}
function xbh(a){return a.D&&!a.D.ud().Ew()&&A9g(a.D.ud())?y5(a.D.ud()):null}m.E2a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.PRb=function(){this.dispatchEvent("c");this.reset()};m.CUa=function(){if(this.R.isEnabled()){var a=this.H.C.$e(),b=this.C;if(Dj(b.Di,33)&&!b.R&&!b.ma&&!ad(a)&&(b=this.C.nm)){wbh(this,"aclFixerMessage");this.ma=!0;Y5(this);this.O.getElement()&&this.O.Ma(!1);b(a,u(this.Bob,this));return}Dbh(this)}};
m.M5b=function(){this.ma||(ybh(this,!this.J.isChecked()),Y5(this))};m.O5b=function(){var a=this.J.isChecked();this.H.F=a;Y5(this)};m.P5b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.dc(a.JD?!1:!0),this.J.dispatchEvent("change"),this.R.focus())};m.N5b=function(a){a.stopPropagation()};m.L5b=function(){this.J.dc(!0);var a=this.H,b=cah(this.xa);$c(a.C.Jd(),b);a.D=b;a.F=!0;Y5(this)};
m.Bob=function(a){this.ma&&(this.ma=!1,"continue"==a?Dbh(this):wbh(this,"atReplyMessage"),this.D.getContext()&&(Y5(this),this.O.getElement()&&this.O.Ma(!0)))};function Dbh(a){pf&&a.D&&a.D.ud().Ew()&&Jf(a.ib);a.dispatchEvent("p");a.reset()}m.W6b=function(){this.ready(void 0,void 0,!0);this.D&&this.dispatchEvent(new Ao("f",this.D))};function Abh(a){if(!a.F)return!1;var b=a.F.clientHeight,c=a.F.scrollHeight,d=cx(a.F).height;return b!=c&&0<d?(bx(a.F,d+c-b),!0):!1}
m.CE=function(a){Abh(this)&&this.dispatchEvent("s");this.Rb=a.keyCode;if(13==a.keyCode)Ebh?a.metaKey&&vf&&aj&&Fbh(this,a):Fbh(this,a);else if(27==a.keyCode){sf&&a.preventDefault();if(this.L&&this.L.qf())return;this.isEmpty()&&this.reset();this.D&&this.dispatchEvent(new Ao("e",this.D));vbh(this)}a.stopPropagation()};
m.RRb=function(a){Abh(this)&&this.dispatchEvent("s");var b=this.Rb;this.Rb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Yc){wd(this.getValue(),"\n")?this.CE(a):a.preventDefault();return}this.Yc=!1}a.stopPropagation()};m.QRb=function(a){if(13==a.keyCode&&Ebh)Fbh(this,a);else if(27==a.keyCode){if(this.L&&this.L.qf())return;this.blur();vbh(this)}a.stopPropagation()};function Fbh(a,b){if(b.ctrlKey||b.metaKey)a.Yc=!0,a.R.getElement().focus(),a.CUa()}
function vbh(a){a.V&&(pf&&!yf("9")?a.V.focus():bq(function(){return a.V.focus()}))}m.Yyb=function(){Y5(this)};m.Rpb=function(){Y5(this)};m.Ia=function(){v5.prototype.Ia.call(this);Cbh(this);this.F&&(this.F[tbh]=null,this.F[ubh]=null);delete this.F;delete this.ib;delete this.kb};var Bbh=new bm,tbh=pf?"onfocusout":"onblur",ubh=pf?"onfocusin":"onfocus",Ebh=vf||of||sf;tf&&yf("530");function Gbh(a,b,c,d,e,f,h){d=void 0===d?0:d;V$g.call(this,a,b);this.Xm=c||null;this.Hp=d;this.C=e||null;this.L0=h}t(Gbh,V$g);function Hbh(a){this.C=w5(a)};function Ibh(a,b){b.ZX()?a.V+=1:b.Ew()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Yj()?(b=P9g(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Jbh(a,b,c,d,e){this.Uj=a;this.C=b||null;this.Xm=c||null;this.Hp=d||null;this.flags=e||null};function Kbh(a,b,c,d){Ao.call(this,b,a);this.source=c;this.C=d}t(Kbh,Ao);function Lbh(a,b){this.F=a;this.D=b;this.C=[]}function Mbh(a){return new Kbh(a.F,"bu",a.D,a.C)};function Nbh(){this.D={};this.C={};this.F=0}function Obh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Pbh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Qbh(c,d);a.C[c][d||"$"]=b}Nbh.prototype.bind=function(a,b){if(null!==Obh(this,a,b))return!1;this.F++;Pbh(this,this.F,a,b);return!0};function Rbh(a,b,c){var d=Obh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Sbh(a,b,c,d,e){var f=Obh(a,b,c);if(null===f||null!==Obh(a,d,e))return!1;Rbh(a,b,c||void 0);Pbh(a,f,d,e);return!0}
function Tbh(a,b,c){return Obh(a,b,c)||0}Nbh.prototype.getDocoHandles=function(){for(var a=Od(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Qbh(a,b){this.C=a;this.D=b||null};function Ubh(){this.D={}}Ubh.prototype.C=function(a){O9g(a)||(this.H(a),a.uR()&&(this.D[a.getId()]=!0))};Ubh.prototype.H=function(a){delete this.D[M5(a)];delete this.D[a.getId()]};Ubh.prototype.F=function(){return!Ud(this.D)};function Vbh(a){this.J=a;this.D=new Ubh}Vbh.prototype.C=function(a){this.D.C(a);a=this.J.$i;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Vbh.prototype.H=function(a){this.D.H(a)};Vbh.prototype.F=function(){return this.D.F()};function Wbh(a){Oo.call(this);this.O=a;this.C={};this.R=null;this.F={};this.H=[];this.Ja=[];this.Da={};this.L={};this.Ha=new Map;this.D=new Nbh;this.Na=[];this.ma=!1;this.xa=this.J=null;this.Pa=!1;this.Ba=new Vbh(this.O)}v(Wbh,Oo);function Xbh(a,b){a.Yj();var c="<i>Made a suggestion</i>";(a=a.x3())&&(b=b.ot)&&(b=b(a).C())&&(c=b);return c}function Ybh(a,b){return"n"!=b&&!O9g(a)&&a.uR()}
function Zbh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Lbh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=N5(d);h.C.push(new Jbh(b,c,d,e,f));k&&a.dispatchEvent(Mbh(h))}
function T5(a,b,c,d){c=c||"c";var e=$bh(a),f=ach(a,b.getId(),K(h5(b.C),11)||"");if(f){var h=f.getId(),k=f.pq();b=b.C;var l=Uj(f.F);h5(b);var n=h5(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!f.pq();for(var w=(void 0===K(n,13)||0==K(n,13))&&f.pq(),x=g5(n),F=!1,M=0;M<x.length;M++){var X=x[M],S=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;S||(S=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!S);if(S){var ca=S.getId();S.update(X);if(ca!=S.getId()&&(delete f.D[ca],f.D[S.getId()]=S,Tbh(f.O,
r,ca)&&!Sbh(f.O,r,ca,r,S.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+S.getId());S.pq()?(delete f.D[S.getId()],f.J[S.getId()]=S,Rbh(f.O,r,S.getId())):F&&!S.pq()&&(delete f.J[S.getId()],f.D[S.getId()]=S,f.O.bind(r,S.getId()))}else S=new M8g(X),S.pq()?(f.J[S.getId()]=S,Rbh(f.O,r,S.getId())):(f.D[S.getId()]=S,delete f.J[S.getId()],f.O.bind(r,S.getId())),S=g5(h5(f.F)),S.push(X),X=h5(f.F),Qj(X,8,S)}r=0;void 0!==Dj(b,6)&&Dj(b,6)!=f.isResolved()&&(r=Dj(b,6)?r|2:r|4);q&&!F?r|=16:
w&&(r|=8);Qj(n,8,[]);q&&(n.setContent(void 0),Oj(n,4,void 0),Oj(n,9,void 0));h8g(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.yR=null;Tj(f.F,l)||(r|=1);b=r;a.Ba.C(f);bch(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],a.Ha.delete(h),l=Tbh(a.D,h),delete a.Da[l],a.C[f.getId()]=f,l&&!Sbh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Tbh(a.D,f.getId());f.pq()?(delete a.C[f.getId()],a.Ha.delete(h),Rbh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Da[l]=f),Ybh(f,
c)&&(dd(a.H,f.getId()),dd(a.Ja,f.getId())),d=Y9g(X9g(W9g("dd"),c),f.getId()),k=N5(f),d.Br=k,d.C=l,d=Z9g(d,b),h!=f.getId()&&(d.D=h),a.dispatchEvent(a$g(d))):(k&&(delete a.F[f.getId()],delete a.Da[l],a.C[f.getId()]=f,(a.O.Ha||N5(f))&&a.D.bind(f.getId()),l=Tbh(a.D,f.getId())),0!=b&&(Ybh(f,c)&&dd(a.H,f.getId()),Zbh(a,c,h,f,l,b,d)))}else f=new M9g(b.C,a.D,b.Xs?b.Xs:void 0),a.Ba.C(f),f.pq()?a.F[f.getId()]=f:cch(a,f,c,d);$bh(a)!=e&&(e=$bh(a)?32:0,c=a$g(Z9g(X9g(W9g("p"),c),e)),a.dispatchEvent(c))}
function n$g(a,b,c){for(var d=new Lbh(a,c),e=0;e<b.length;e++)T5(a,b[e],c,d);a.dispatchEvent(Mbh(d))}function e$g(a,b){b.getNewDocoType()||S9g(b,"draft");b=new M9g(b.C,a.D,b.Xs?b.Xs:void 0);a.Ba.C(b);cch(a,b)}
function cch(a,b,c,d){if(Dj(a.O.Di,38)||!b.isTodo()){c=c||"c";var e=null;b.ey()&&(e=dch(a,N5(b)));e&&O9g(e)?(Sbh(a.D,e.getId(),null,b.getId(),null),i$g(a,e.getId(),c)):(a.O.Ha||b.ey())&&a.D.bind(b.getId());a.C[b.getId()]=b;bch(a,b);e=8|(b.isResolved()?2:0);Ybh(b,c)&&dd(a.H,b.getId());var f=Tbh(a.D,b.getId());Zbh(a,c,void 0,b,f,e,d)}}
function i$g(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.ey()){var e=N5(d);delete a.L[N5(d)]}a.Ba.H(d);d=Tbh(a.D,b);delete a.C[b];Rbh(a.D,b);b=Y9g(X9g(W9g("dd"),c),b);b.C=d;b=Z9g(b,16);void 0!=e&&(b.Br=e);a.dispatchEvent(a$g(b))}}function Z5(a,b){var c=null;b&&(c=a.ud(b));a.R=c}function r$g(a,b){b=b.getId();return $c(a.Na,R5(a,b))}Wbh.prototype.V=function(a){return(this.O.Ha||a.ey())&&(!a.isResolved()||this.ma)};function ech(a){var b=Zd(a.C);ae(b,a.F);return b}
function fch(a){var b=new e7g;a=Nd(ech(a));for(var c=0;c<a.length;c++)Ibh(b,a[c]);return f7g(b)}function gch(a){function b(d){return d.uR()}var c=Tc(Nd(a.C),b);a=Tc(Nd(a.F),b);return c.concat(a)}function hch(a,b,c){var d=!1;d=void 0===d?!1:d;a.Ha.set(b,new Set(c));a.dispatchEvent(a$g(Y9g(X9g(W9g("ud"),"c"),b)));d&&ich(a)}function ich(a){(a=a.O.H["unseen-docos-updated"])&&a((new s5("unseen-docos-updated")).setNonAnchored(!0).build())}function $bh(a){return a.Pa?a.Ba.F():!1}
function jch(a){for(var b=0;b<a.H.length;b++){var c=a.H[b],d=a.ud(c);d||(d=a.F[c]);if(d&&d.uR())return!0}return!1}Wbh.prototype.ud=function(a){return this.C[a]};function ach(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}function bch(a,b){N5(b)&&(b.pq()?delete a.L[N5(b)]:a.L[N5(b)]=b)}function dch(a,b){var c=a.L[b]||null;return c&&N5(c)!=b?(delete a.L[b],null):c}
function U5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function m$g(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?I5(a,b):null:null}Wbh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function R5(a,b,c){return Tbh(a.D,b,c)}Wbh.prototype.flush=function(a){this.dispatchEvent(a$g($9g(X9g(W9g("f"),"c"),!!a)));this.dispatchEvent(a$g(X9g(W9g("af"),"c")))};function kch(a,b){a=a.xa;if(!a)return null;b=b.Gc(a.getKey());if(!b)return null;a=b.bb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new Ym(b,b+a.height)}function lch(a,b){return(a=mch(a,b))?new DY(a.getKey().getId(),a.getValue()):null}
function mch(a,b){var c=a.J;if(!c)return null;var d=a.xa;if(!d)return null;var e=d.getKey();e=Zd(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=O5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+nch(h,c,b);if(k>d)return new DY(h,d-a);a=k}return null}function och(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Kq('<span class="%s">%s</span>',d,h));c+=h}return c}
function nch(a,b,c){a=pch(a,c);if(!a)return 0;a=jp(a).textContent.toLowerCase();return Dga(a,b.toLowerCase())}function pch(a,b){var c=a.bga();if(!c){var d=qch();a.Yj()?c=dM(d,Xbh(a,b)):a.getContent()?c=dM(d,a.getContent()):c=null}return c}function qch(){var a=xkc(new skc);a.F=ge;return new rkc(a)};function rch(a,b){this.C=a;this.D=b};function sch(a,b,c){this.C=a;this.D=b;this.F=c};function tch(a,b,c,d){v5.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new PA(null);this.F=this.J=this.H=null;this.qa(this.D)}t(tch,v5);m=tch.prototype;m.Fc=function(a){v5.prototype.Fc.call(this,a);this.H=this.oa().bb("like-button-text",a);this.J=this.oa().bb("docos-icon",a);this.F=this.oa().bb("docos-icon-img",a);this.D.Va(this.getElement())};m.Ga=function(){x5(this,this.D,"action",this.CRb);x5(this,this.getElement(),["click","keypress","keyup"],this.BRb);this.update()};m.zUa=da("L");
m.BRb=function(a){a.stopPropagation()};function uch(a){var b=A5(a.R).ud(a.L);return null!=a.O?I5(b,a.O):b}m.CRb=function(a){a.stopPropagation();a=C5(this.R);var b=uch(this).Tz();b=!b||1!=E5(b);null!=this.O?a.xf("docos-vote-reply").pb(new sch(this.L,b,this.O)):a.xf("docos-vote-doco").pb(new rch(this.L,b))};
m.update=function(){var a=uch(this).Tz(),b=!a||0==w8g(a,1).length&&1!=E5(a);iy(this.H,"no-votes");!b||Zx(this.H,"no-votes");jy(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);jy(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?Zx(this.F,"docos-icon-thumb-black"):1==E5(a)?(Zx(this.J,"current-user-has-up-vote"),Zx(this.F,"docos-icon-thumb-green")):0<w8g(a,1).length&&(Zx(this.J,"post-has-votes-no-current-user-vote"),Zx(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=w8g(a,1),b=E5(a),c=c.length,1==b&&c++);Ap(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==E5(a))&&(b="Unlike this"),a=w8g(a,1),0<a.length))for(b=gf(b,"\n"),c&&(b=gf(b,"\n","You")),c=0;c<a.length;c++)b=gf(b,"\n",u5(l8g(N(a[c].C,BY,1))));this.D.getElement()&&w5(this.R).C.C(this.D.Ka(),b)};function vch(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+U("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+U("docos-shadow-prompt")+'"><td class="'+U("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+U("docos-shadow-contents")+'">';
a+=R(OA({id:"docos-shadow-confirm",content:Dx("Delete")},b));a+=R(OA({id:"docos-shadow-cancel",content:Dx("Cancel")},b));return T(a+"</td></tr></table></td></tr></table></div></div></div>")};function wch(a,b){v5.call(this,a,b);this.D=this.J=this.L=this.V=this.Ba=this.R=this.ge=null;this.H=new PA(null,b);this.Fa(this.H);this.F=new PA(null,b);this.Fa(this.F);this.Ig=this.O=null;this.ma=!1;this.xa=new GA(this);this.qa(this.xa);a=C5(a);this.xa.Ob(a.Qa("docos-highlight-doco"),nt,this.Y0)}v(wch,v5);var xch=null;function ych(a,b){xch||(xch=new wch(a,b),xch.render());return xch}var zch={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};m=wch.prototype;
m.Aa=function(){this.jb(Ty(vch,{},void 0,this.oa()))};
m.Ga=function(){wch.Ta.Ga.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Va(a.getElement("docos-shadow-cancel"));this.H.Ma(!0);this.F.Va(a.getElement("docos-shadow-confirm"));this.F.Ma(!0);this.O=new nC(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);oC(this.O);this.Ig=new qy(a.Wb());this.qa(this.Ig);this.ma=!0}x5(x5(x5(x5(this,this.H,"action",this.geb),this.F,"action",this.ieb),this.getElement(),
["keyup","keydown"],this.jeb),this.Ig,"focusin",this.uy)};m.prompt=function(a,b,c,d,e,f){this.sb()&&this.vd();if(c!=this.V){var h=zch[c];h&&this.oa().Ne(this.L,h);this.V=c}this.ge=b;this.R=a;this.J=e||null;b=cx(a);$w(this.D,b);b=Qw(a,"paddingLeft");c=Qw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?px(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ba=d.getId(),this.getHandler().listen(d,"rd",this.keb))};
m.vd=function(){wch.Ta.vd.call(this);this.J=this.R=this.ge=null};m.Y0=function(){$w(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();rp(this.getElement());this.sb()&&this.vd()};m.ieb=function(){this.ge&&this.ge();this.Y0()};m.jeb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.Y0())};m.geb=function(){this.Y0()};m.keb=function(a){a.target&&a.target.getId()==this.Ba&&this.R&&P(this.getElement(),!0)};
m.uy=function(a){a=a.target;yp(this.getElement(),a)||this.Y0()};function Ach(a,b){return 1==b&&!a.C&&!a.getId()};function Bch(a,b,c,d){v5.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new PA(null);this.F=null;this.qa(this.D)}t(Bch,v5);m=Bch.prototype;m.Fc=function(a){v5.prototype.Fc.call(this,a);this.F=this.oa().bb("vote-button-text",a);this.D.Va(this.getElement())};m.Ga=function(){x5(this,this.D,"action",this.LRb);x5(this,this.getElement(),["click","keypress","keyup"],this.KRb);this.update()};m.zUa=da("H");m.KRb=function(a){a.stopPropagation()};
function Cch(a){var b=A5(a.L).ud(a.H);return null!=a.J?I5(b,a.J):b}m.LRb=function(a){a.stopPropagation();a=C5(this.L);var b=Cch(this).Tz();b=!b||1!=E5(b);null!=this.J?a.xf("docos-vote-reply").pb(new sch(this.H,b,this.J)):a.xf("docos-vote-doco").pb(new rch(this.H,b))};
m.update=function(){var a=Cch(this).Tz();jy(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==E5(a)?Zx(this.F,"current-user-has-up-vote"):0<w8g(a,1).length&&Zx(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=w8g(a,1);b=E5(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Ap(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==E5(a))&&(b="Remove your +1"),a=w8g(a,1),0<a.length))for(b=gf(b,"\n"),c&&(b=gf(b,"\n","You")),c=0;c<a.length;c++)b=
gf(b,"\n",u5(l8g(N(a[c].C,BY,1))));this.D.getElement()&&w5(this.L).C.C(this.D.Ka(),b)};function Dch(a,b,c,d,e,f,h){v5.call(this,a,d);this.F=a;this.kb=w5(this.F).O;this.jg=new Hbh(a);this.O=b;this.H=e;this.Yg=h||"";this.ye=u(this.DRb,this);this.D=null;this.Jc(f||"root");this.Ja=c;this.Ib=!0;this.Wa=2;this.Vd=!1;this.Ve=this.F.get("relativeDateFormatter");this.Nc=this.Oa=this.Da=this.Pa=this.Wd=this.Sa=this.Za=this.cb=this.Ad=this.qc=this.Yc=this.fc=this.xa=this.Of=this.Rb=this.rb=this.Ba=this.sf=this.R=this.L=this.J=this.V=this.ma=this.Na=this.Ec=this.Ha=null;this.ib=new rkc(wkc(xkc(new skc),
["data-rawHref"]));x5(this,this.Ve,"Di",u(this.hUa,this,!0))}t(Dch,v5);m=Dch.prototype;m.ud=function(){return A5(this.F).ud(this.O)};function Ech(a){return I5(a.ud(),a.getId())}function $5(a){return a6(a)?a.ud():Ech(a)}
m.Aa=function(){var a=this.oa(),b=$5(this),c=b.Gw(),d=Fch(this),e=Gch(this);if(a6(this)&&O8g(this.ud().C)){var f=Cd(O8g(this.ud().C));f=f.replace(Hch,"<br>").replace(Ich," ");f=dM(this.ib,f)}else f=null;var h=f;f="legacy"!=this.C.F;var k="Unknown"===c.getName();b=Ty(P$g,{author:c.getName(),$g:c.C,QE:this.C.V&&!k?c.getId():null,Vma:e||"",Ge:this.Yg,Po:this.Ja,jna:Jch(this),Dm:b6(this),Bva:d,Oz:a6(this),Yj:b.Yj(),bac:h?h:"",d7:Kch(this),xJ:Lch(this),OX:!!$5(this).RB(),zj:this.C.zj(),bfa:this.C.bfa(),
rva:this.C.rva(),isBadgingEnabled:this.C.fK(),timestamp:Mch(this),Ucb:"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",ao:f},void 0,a);this.jb(b);d=a.bb("docos-accept-suggestion",b);h=a.bb("docos-reject-suggestion",b);this.fc=a.bb("docos-body-action-text",b);this.qc=a.bb("docos-anchoredreplyview-buttonholder",b);this.Pa=a.bb("docos-author",b);d&&h&&(this.ma=new PA(null,a),k=this.C.zj(),this.ma.mO=k,this.qa(this.ma),this.V=new PA(null,a),this.qa(this.V),this.ma.Va(d),this.V.Va(h));if(k=a.bb("docos-replyview-resolve-button",
b)){this.J=new PA(null,a);var l=this.C.zj();this.J.mO=l;this.qa(this.J);this.J.Va(k)}(k||d&&h)&&Nch(this);d=this.oa();h=d.bb("docos-vote-button",b);k=d.bb("docos-like-button",b);if(h||k)h?(this.R=new Bch(this.F,this.O,d,a6(this)?void 0:this.getId()),this.Fa(this.R),this.R.Va(h)):k&&(this.R=new tch(this.F,this.O,d,a6(this)?void 0:this.getId()),this.Fa(this.R),this.R.Va(k));d=a.bb("docos-overflowmenu-outer",b);(b6(this)||Jch(this)||a6(this))&&d&&(f=Ty(O$g,{Zh:"docos-icon-overflow-three-dots",FB:"docos-icon-overflow-three-dots-size",
xR:f}),a.appendChild(d,f),Ow(d,"visibility",""),f=[],b6(this)&&(f=f.concat(["edit"])),Jch(this)&&(f=f.concat(["delete"])),a6(this)&&(this.C.Ec&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new r9g(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Fa(this.L),this.L.Va(d));this.Ha=a.bb("docos-replyview-body",b);this.sf=a.bb("docos-streamreplyview-text",b)||this.Ha;this.Ba=a.bb("docos-collapsible-replyview",b);this.rb=a.bb("docos-replyview-timestamp",b);a6(this)&&O8g(this.ud().C)&&
(this.xa=a.bb("docos-replyview-quote",b),this.cb=a.bb("docos-replyview-quote-expand",b),this.Sa=a.bb("docos-replyview-quote-collapse",b));(this.Rb=a.bb("docos-show-less",b))&&Och(this);this.Of=a.bb("docos-show-more",b);this.Wd=a.Jg("docos-replyview-static",b);b6(this)&&this.D&&Pch(this);(b6(this)||Jch(this))&&(this.Za=a.bb("docos-replyview-control",b))&&P(this.Za,!this.ud().isResolved());this.Da=HV(a,"IMG","docos-replyview-avatar",b);if(f=a.bb("docos-user-presence",b))d=this.C,c=(h=d.yd)&&c.getId()?
h(c.getId()):(d=d.cE)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Oa=a.bb("docos-replyview-origin",b);Qch(this);!this.C.fK()||!this.Ja&&a6(this)||a.bb("docos-new-tag",b);e&&(this.Na=e,Rch(this,De(e)),Sch(this),Tch(this));Uch(this)};
function Uch(a){if(q9g(a.C)){var b={AUTHOR_NAME:$5(a).Gw().getName(),CREATION_TIME:Mch(a)};if(a.Ha.textContent)if(Lch(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ha.textContent;b.ACTION_TEXT=Lch(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ha.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Lch(a);c=(new wB(c)).format(b);Vx(a.getElement(),c)}}
function Vch(a){var b=a.ud();if(b)if(b.isResolved()){if(a.H.QAa(!1),b=a.ud())b.Yj(),Wch(a,!1,g8g(a.H))}else a.dispatchEvent("br"),a.H.QAa(!1),(b=a.ud())&&(b.Yj()?Xch(a):Wch(a,!0,g8g(a.H))),a.dispatchEvent("ar")}function Ych(a){a.D||(a.D=new rbh(a.F,a.oa(),a.H),a.qa(a.D),a.Fa(a.D),a.D.Ba="Edit your comment...",a.D.cb=!1,x5(x5(x5(a,a.D,"p",a.Sec),a.D,"c",a.qGa),a.D,"s",a.ERb),a.getElement()&&Pch(a))}
function Pch(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.Ja?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):a6(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=Lch(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");d=Ty(T$g,{Ge:c,GJa:d,pna:e,xJ:f,zj:a.C.zj(),yC:a.C.Da});c=a.getElement();e=b.bb("docos-edit-pane-placeholder",c);b.qC(d,e);a.D.Va(d);a.D.setVisible(!1);d=a.H.getElement();a.D.V=d;a.Yc=b.bb("docos-edit-pane-action-text",c)}
m.t8b=function(a){a&&a.stopPropagation();Vch(this)};
m.Ga=function(){v5.prototype.Ga.call(this);x5(this,this.getElement(),["click","keypress","keyup"],this.FRb);this.xa&&(x5(x5(this,this.Sa,"click",this.h3a),this.cb,"click",this.h3a),Zch(this));this.J&&x5(this,this.J,"action",this.t8b);this.ma&&this.V&&x5(x5(x5(this,this.ma,"action",this.B5b),this.V,"action",this.s8b),this.C,"r",this.GRb);this.L&&x5(x5(x5(this,this.L,"d",this.q6b),this.L,"e",this.HRb),this.L,"ra",this.k8b);var a=$5(this).Gw();$ch(this,a);this.Pa&&adh(this,a);bdh(this,a);this.D&&(a=
this.H.getElement(),this.D.V=a);this.collapse();q9g(this.C)&&Bp(this.getElement(),!0)};m.GRb=function(){Nch(this)};
function Nch(a){var b=a.ud();if(b){var c=$5(a);if(c){var d=c.Yj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.dI())return;d=a.C.D;d=c.Yj()&&"full"==d.C&&r$g(A5(a.F),b)&&!a.C.ma;var e=a.C.D;b=c.Yj()&&(Z8g(e,c)||"full"==e.C)&&r$g(A5(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&w5(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&w5(a.F).C.C(a.V.getElement(),f);a.ma.Ma(d);a.V.Ma(b)}else A9g(b)?
(c=!0,a.J.Ma(!1),P(a.J.getElement(),!1)):(c=Fch(a),a.J.Ma(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":A5(a.F).ma?"Mark as resolved":"Mark as resolved and hide discussion",a.C.bfa()||Ap(a.J.getElement(),d),a.J&&a.J.getElement()&&w5(a.F).C.C(a.J.Ka(),b));!a.qc||null!==a.Ad&&a.Ad==c||(P(a.qc,c),a.Ad=c)}}}}function cdh(a){var b=q5(p5(o5(a.H.getId()),a.H.Za)),c=C5(a.F);c.xf("docos-before-highlight-doco").pb(b);Z5(A5(a.F),a.H.getId());c.xf("docos-highlight-doco").pb(b)}
m.HRb=function(){cdh(this);ddh(this)};m.q6b=function(){cdh(this);a6(this)?this.H.W1a():edh(this)};m.k8b=function(a){cdh(this);this.dispatchEvent(new V$g("ra",this.O));a.stopPropagation()};function $ch(a,b){var c=b.D,d=z5(a.F);a.Da&&Ach(b,$5(a).getOrigin())&&(c=D$g(d),Zx(a.Da,"docos-avatar-unverified"),a.C.C.C(a.Da,"Author from imported document"));d8g(d,a.Da,c,u5(b))}function adh(a,b){(b=b.getName())?(b=dM(a.ib,b),Le(a.Pa,b)):(b=dM(a.ib,""),Le(a.Pa,b))}
function bdh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Pa&&a.C.C.C(a.Pa,c),a.Da&&a.C.C.C(a.Da,c))}function fdh(a,b){a.J&&a.oa().Pi(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Pi(a.ma.getElement(),b),a.oa().Pi(a.V.getElement(),b));a.L&&a.L.Sh(b);a.R&&a.oa().Pi(a.R.getElement(),b)}function gdh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.wl()&&this.Ib&&Zch(this);var a=this.D&&b6(this)&&X5(this.D),b=Gch(this),c=De(b),d=!this.Na||De(this.Na)!=c;d&&(this.Na=b,Le(this.Ha,b),Tch(this));Sch(this);Rch(this,c);a6(this)||this.dispatchEvent(new V5(this.getId()));b6(this)&&this.Za&&!a&&P(this.Za,!this.ud().isResolved());b=$5(this).Gw();$ch(this,b);this.Pa&&adh(this,b);bdh(this,b);Qch(this);if(this.Ja&&!a){switch(this.Wa){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.wl()?this.expand():this.collapse()}Och(this)}this.hUa();
d&&(this.D&&this.D.sb()&&this.D.reset(!0),this.qGa());Nch(this);this.R&&this.R.update();this.L&&this.L.update();Uch(this)};m.xA=function(){if(this.Ec){var a=hdh(this,this.Ec);a.Io()!=this.Na.Io()&&(this.Na=a,Le(this.Ha,this.Na),Tch(this))}};function Gch(a){var b=$5(a),c=b.bga();if(!c){c=b.getContent();var d=b.Nwa();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Yj()&&(c=Xbh(b,a.C));c=dM(a.ib,c)}a.Ec=c;return hdh(a,c)}
function hdh(a,b){var c=A5(a.F),d=c.J;if(!d)return b;a=(c=lch(c,a.C))&&c.getKey()==$5(a).getId()?c.getValue():void 0;c=qch();var e=gp("DIV");e.appendChild(jp(dM(c,$e(d))));d=e.innerHTML;e.replaceChild(jp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new Ym(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new Ym(f,r)),f=r):k||((w=zd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new Ym(f,r+1)),h=och(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=och(q,b,h);h+=b.slice(f,b.length);return dM(c,h)}m.hUa=function(a){if(this.rb){var b=Mch(this);b&&(a&&(this.rb.textContent=b),a=$5(this),a6(this)||this.Ja||a.Xt().equals(a.qQ())||(this.rb.textContent=b))}};function Mch(a){var b=a.Ve,c=$5(a),d=c.Xt();return d?a.Ja||a6(a)||!(a=c.qQ())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return fx(this.getElement())};m.ERb=function(a){this.dispatchEvent(new V5(this.O));a.stopPropagation()};function edh(a){var b=a.getElement();b&&(a.C.kb?(b=a.C.ib,b(function(){return a.ye()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):ych(a.F,a.oa()).prompt(b,a.ye,"delete-reply",a,a.H.getElement(),!a.Ja))}
m.FRb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!a6(this)&&Yx(c,"docos-replyview-delete")&&b?(edh(this),a.stopPropagation(),a.preventDefault()):Yx(c,"docos-replyview-edit")&&b?(ddh(this),a.stopPropagation(),a.preventDefault()):Yx(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new V5(this.O)),this.Rb.focus()):Yx(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new V5(this.O)),this.Of.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&yp(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function idh(a,b){var c=a.ud();if(!c||r$g(A5(a.F),c)){var d=$5(a);d&&d.dI()&&(c=a.C.H[b])&&(a=R5(A5(a.F),a.O))&&(d=d.ey&&d.ey()&&!d.isResolved()?N5(d):void 0,b=(new s5(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function Xch(a){var b=a.ud();b&&b.Yj()&&idh(a,"before-suggestion-accepted")}m.B5b=function(){var a=Date.now();Xch(this);this.kb&&this.kb.Ro("dsabb",Date.now()-a)};function Wch(a,b,c){var d=a.ud(),e=a.H;e.D&&X5(e.D)&&e.D.setValue("");d&&!d.Yj()&&d.isResolved()!=b&&C5(a.F).xf("docos-resolve-doco").pb(new a8g(a.O,b,c||null))}m.s8b=function(){var a=Date.now();idh(this,"before-suggestion-rejected");this.kb&&this.kb.Ro("dsrbb",Date.now()-a)};
m.expand=function(){$5(this).Yj()||(iy(this.Ba,"docos-collapsed-replyview"),this.Wa=150>=this.Ba.offsetHeight?2:1,Och(this))};m.collapse=function(){!$5(this).Yj()&&this.Ja&&(iy(this.Ba,"docos-collapsed-replyview"),150>=this.Ba.offsetHeight?this.Wa=2:(this.Wa=0,Zx(this.Ba,"docos-collapsed-replyview")),Och(this))};function Och(a){if(!$5(a).Yj()){var b=1==a.Wa;b!=a.Vd&&(a.Rb.style.display=b?"block":"none",a.Vd=b)}}function a6(a){return"root"==a.getId()}
function Jch(a){var b=$5(a);return b?a9g(a.C.D,b)&&!a.C.ma:!1}function b6(a){var b=$5(a);return b?$8g(a.C.D,b):!1}function Fch(a){var b=a.ud();return b?b9g(a.C.D,b):!1}m.DRb=function(){if(this.isDisposed())return!1;C5(this.F).xf("docos-delete-reply").pb({Uj:this.O,eAa:this.getId()});return!0};function ddh(a){b6(a)&&(Ych(a),jdh(a,!1),a.Ba&&a.expand(),a.D.setVisible(!0),a.D.Za=!0,a.D.ready($5(a).yx()))}
m.qGa=function(){b6(this)&&(jdh(this,!0),this.Ba&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.Za=!1))};m.Sec=function(){if(b6(this)){Ych(this);var a=C5(this.F),b=this.D.getValue();Ad(b)||(a6(this)?a.xf("docos-edit-doco").pb({id:this.O,text:b,tpa:this.D}):(b={Uj:this.O,eAa:this.getId(),text:b,tpa:this.D},a.xf("docos-edit-reply").pb(b)))}};function jdh(a,b){for(var c=0;c<a.Wd.length;++c)P(a.Wd[c],b)}
m.h3a=function(){var a=Yx(this.xa,"docos-replyview-quote-collapsed");P(this.cb,!a);P(this.Sa,a);this.Ib=!a;a?my(this.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):my(this.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function Zch(a){!a.xa||0>=cx(a.xa).height||(my(a.xa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<cx(a.xa).height?(P(a.cb,!0),P(a.Sa,!1),my(a.xa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.cb,!1),P(a.Sa,!1)),a.Ib=!0)}m.vd=function(){v5.prototype.vd.call(this);B5(z5(this.F),this.Da)};function Qch(a){var b=Kch(a);b?(b=dM(a.ib,b),Le(a.Oa,b),P(a.Oa,!0)):P(a.Oa,!1)}
function Kch(a){var b=$5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=CY(a.Di)&&Dj(CY(a.Di),33)&&b.kva()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function Lch(a){var b=a.jg;var c=$5(a),d=a.ud();c&&d?(a=c.aga(),0==a&&y5(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.RB(),c=(d=A9g(d))&&d.getId()!=c.getId(),a=t5(a),b=W7g(a,b.C,!0),b=c?(new wB("Reassigned to {user}")).format({user:b}):(new wB("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Rch(a,b){b=-1==oe(b,!0);if(null===a.Nc||b!=a.Nc)nUe(a.sf,b),a.Nc=b}
function Sch(a){var b=Lch(a);a.fc&&Ap(a.fc,b);a.Yc&&Ap(a.Yc,b)}function Tch(a){if(a.C.Rb)for(var b=Xo("A",a.Ha),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Hf(d,Ko,a.Y5b)}}m.Y5b=function(a){aUe(this.C.Rb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var Ich=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Hch=/[\n-\x0B]/g;function kdh(a,b){v5.call(this,a,b);this.D=!1;this.F=null}t(kdh,v5);kdh.prototype.Aa=function(){var a=this.oa();this.jb(Ty(R$g,{},void 0,a));this.F=a.bb("docos-showrepliesbutton-collapsed",this.getElement())};kdh.prototype.setVisible=function(a){a!=this.D&&this.sb()&&(P(this.getElement(),a),this.D=a)};kdh.prototype.isVisible=g("D");function c6(a,b,c,d,e){W5.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new Dch(a,b,this.Po(),d,this,void 0,"docos-replyview-first");this.Fa(this.F);this.H={};this.Ec=u(this.vRb,this);this.Wd=c$g(a);this.Ha="docos-docoview-input-pane";this.fc="";this.Ib=this.Nc=null;this.kb=!1;this.J=null;q9g(this.C)&&(a=new mB(this),this.qa(a),a.ij("up",38),a.ij("down",40),this.getHandler().listen(a,"shortcut",this.Cub))}t(c6,W5);
function ldh(a){a.D||(a.D=new rbh(a.getContext(),a.oa(),a),a.qa(a.D),a.D.Ba="Reply...",a.D.Ee("Reply"),a.jBa(),a.getElement()&&mdh(a))}m=c6.prototype;m.Cub=function(a){switch(a.identifier){case "down":a=ndh(this);var b=odh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=ndh(this),b=odh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function ndh(a){var b=O5(a.ud(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function odh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Np(e);if(d==f||e.contains(d,f))return c}return-1}
function mdh(a){var b=a.oa(),c=Ty(T$g,{Ge:a.Ha,GJa:"",pna:a.fc,xJ:"",zj:a.C.zj(),yC:a.C.Da}),d=a.getElement(),e=b.bb("docos-input-pane-placeholder",d);b.qC(c,e);a.D.Va(c);a.D.V=d}m.jBa=function(){this.D&&x5(x5(x5(x5(x5(this,this.D,"p",this.ARb),this.D,"c",this.yRb),this.D,"b",this.xRb),this.D,"e",this.zRb),this.D,"s",this.uY)};
m.Aa=function(){W5.prototype.Aa.call(this);var a=this.getElement(),b=this.oa();this.D&&mdh(this);Qx(a,"listitem");this.Ib=b.bb("docos-docoview-replycontainer",a);this.Nc=b.bb("docos-docoview-rootreply",a);this.F.render(this.Nc);pdh(this)};m.Ga=function(){W5.prototype.Ga.call(this);x5(this,this.getElement(),["keydown","keypress","keyup"],this.wRb);if(this.D){var a=this.getElement();this.D.V=a}Bp(this.getElement(),!0)};m.Db=g("Ib");
m.Jc=function(a){W5.prototype.Jc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&t9g(b.L,a);b.R&&b.R.zUa(a)}};m.Po=ea(!1);m.xUa=function(a){if(!Yx(a.target,"docos-noclick")){var b=C5(this.getContext()),c=p5(o5(this.getId()),this.Za);b.xf("docos-before-highlight-doco").pb(q5(c));Z5(A5(this.R),this.getId());b.xf("docos-highlight-doco").pb(q5(J7g(c)));this.ma=!0;this.uYa(a)}};m.uYa=ba();
m.wRb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&B9a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&c9g(this.C.D)&&this.ma&&(ldh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.W1a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ud().Yj())this.Ec("suggestion");else if(b){var c=function(){return a.Ec("discussion")};this.C.kb?(0,this.C.ib)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):ych(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function pdh(a){for(var b=O5(a.ud()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new Dch(a.getContext(),a.getId(),a.Po(),a.oa(),a,e);a.Ff(f,tx(a,c)+1,!0);c=a.H[e]=f}}}m.ARb=function(){if(this.D){var a=this.D.getValue(),b=nbh(this.D.H);b=b?t8g(b):void 0;if(!Ad(a)){var c=R5(A5(this.getContext()),this.getId());this.dispatchEvent(new Gbh("sr",this.getId(),N5(this.ud()),c,a,void 0,b))}}};m.yRb=function(){f$g(this.Wd,L9g(K9g(J9g(I9g(43012),this.ud().getId()),N5(this.ud()))))};
m.xRb=function(){this.wl()&&(this.ma=!0)};m.zRb=function(){this.wl()&&(this.ma=!0)};m.focus=function(){ldh(this);var a=this.wl();a&&fx(this.getElement())&&c9g(this.C.D)&&(this.ma=!0);if(a){var b=this.oa();a=Np(b);(pf&&!a||!b.contains(this.getElement(),a))&&bq(function(){this.sb()&&!b.contains(this.getElement(),Np(b))&&this.getElement().focus()},0,this)}};
function qdh(a){var b=a.ud();if(b){var c=null,d;b:{for(d=tx(a,a.F);d<a.zc();d++){var e=a.Cc(d);if((e=e==a.J?null:e)&&2==(Ech(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.zc();d++)if(e=a.Cc(d),e=e==a.J?null:e){if(2!=(Ech(e)||b).getOrigin())break;P(e.Oa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Oa,!0)}}
m.update=function(){var a=this.ud();this.F.update();this.Ee(a.Gw(),y5(a)||void 0);pdh(this);for(var b in this.H){var c=this.H[b];I5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.kb&&(this.kb=a.isResolved(),ldh(this),this.kb?(this.D.Ba="Adding a comment will re-open this discussion...",this.D.Ee("Adding a comment will re-open this discussion")):(this.D.Ba="Reply...",this.D.Ee("Reply")),!a.isResolved()&&X5(this.D)||this.D.reset(!0));X$g(this);!this.wl()&&
this.D&&this.D.blur();qdh(this);a=this.Pa;b=this.getElement();a.C&&b&&a.F&&(dx(b).contains(new Km(a.H,a.J))||M$g(a,!1))};m.vRb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");C5(this.getContext()).xf("docos-delete-doco").pb({Xm:N5(this.ud()),Uj:this.getId(),Hp:R5(A5(this.getContext()),this.getId()),KS:a});return!0};function rdh(a){C5(a.getContext()).xf("docos-resolve-doco").pb(new a8g(a.getId(),!1,null))}function g8g(a){return a.D&&X5(a.D)?a.D.getValue():null}
function sdh(a){var b=a.getContext(),c=a.ud();c&&S5(c$g(b),L5(K5(J5(43045),c)));a=a.getId();C5(b).xf("docos-speak-doco").pb(a)}m.QAa=ba();m.Ia=function(){W5.prototype.Ia.call(this);this.J&&delete this.J;delete this.Ib;delete this.H;delete this.D};function tdh(a,b,c,d,e){c6.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Da=new b8g(a,d,b,this);this.Ja=this.ib=this.Oa=null;this.Sa=new mB(this);this.qa(this.Sa);b=this.Sa;b.ij("backToDocument",85);b.ij("resolve",69);b.ij("blur",27);b.ij("next",74);b.ij("next",Ct(["N","C"]));b.ij("prev",75);b.ij("prev",Ct(["P","C"]));b.ij("speakComment",Ct(["A","C"]));b.ij("reply",82);this.getHandler().listen(this.Sa,"shortcut",this.rRb);this.getHandler().listen(this,"rd",this.sRb);this.Wa=!1;this.Ha+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Rb=null;z(y(),"docs-edp")&&(this.Rb=new qbh(a,d,"unfocused-presenceindicator"));this.Ad="legacy"!=this.C.F;this.Ba=null}t(tdh,c6);m=tdh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&A5(this.R).J&&this.xA();c6.prototype.setVisible.call(this,a)};m.xA=function(){this.F.xA();for(var a in this.H)this.H[a].xA()};m.Jc=function(a){c6.prototype.Jc.call(this,a);this.Da&&this.Da.Jc(a)};m.Po=ea(!0);m.YR=function(){return this.ud()?N5(this.ud()):null};
m.Aa=function(){c6.prototype.Aa.call(this);var a=this.oa(),b=this.getElement();this.Oa=a.bb("docos-replyview-control",b);this.ib=a.bb("docos-anchoreddocoview-internal",b);this.Ja=a.bb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ud(),d=!!c&&b9g(w5(this.getContext()).D,c);ky(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=y5(c))a=a.bb("docos-anchoreddocoview-assigneecontainer",b),this.Da.render(a),udh(this,c);this.D&&(a=this.getElement(),
this.D.V=a);this.Rb&&(a=this.oa().bb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Rb.render(a))};m.Ga=function(){c6.prototype.Ga.call(this);var a=this.ud();a&&y5(a)&&this.Ff(this.Da,tx(this,this.F));X$g(this);2<=Md(this.ud().D)&&(a=vdh(this))&&wdh(this,a);this.x_(!0);qdh(this);xdh(this);x5(x5(this,this,"show",this.DYa),this,"hide",this.CYa)};
m.vd=function(){var a=this.ud();if(a)if(this.D&&X5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Bc(this,"show",this.DYa);this.getHandler().Bc(this,"hide",this.CYa);c6.prototype.vd.call(this)};m.Sh=function(a){this.oa().Pi(this.getElement(),a)};function ydh(a,b){fdh(a.F,b);for(var c in a.H)fdh(a.H[c],b)}m.tRb=function(){var a=new E7g(this.getId(),this.Za),b=C5(this.getContext());b.xf("docos-before-highlight-doco").pb(a);Z5(A5(this.R),this.getId());b.xf("docos-highlight-doco").pb(a)};
m.sRb=function(){this.O=null;if(Z$g(this)){var a=this.Ja.scrollHeight>this.Ja.offsetHeight,b=this.getElement();a&&!this.Ba&&b?(this.Ba=new uK(b),x5(this,this.Ba,"mousewheel",this.TLb)):!a&&this.Ba&&(this.Ba.dispose(),this.Ba=null);a=a?h8a():0;b=this.Ad?282:240;ax(this.getElement(),b+a);ax(this.Ja,b+a)}};m.DYa=function(a){a.target instanceof Qz&&(Zx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.CYa=function(a){a.target instanceof Qz&&(iy(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.QAa=function(a){this.Oa&&P(this.Oa,a)};m.q$=ea(!0);m.update=function(){c6.prototype.update.call(this);var a=this.wl();this.wl()?this.L||this.C.rb||(this.L=new nC(this.getElement(),this.oa()),this.qa(this.L),oC(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Wa&&zdh(this);this.Wa=a;xdh(this);if(a=y5(this.ud()))this.Da.update(),udh(this,a);this.V&&this.Nza()};
function xdh(a){var b=a.ud();null!=b.R&&(ldh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.x_(!0);qdh(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=vdh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.Db().style.maxHeight="",wdh(this,a),this.x_(!0),qdh(this)}};m.jBa=function(){c6.prototype.jBa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.x_,this,!0)),this.getHandler().listen(this.D,"e",this.ROa),this.getHandler().listen(this.D,"f",this.tRb))};
function vdh(a){var b=w5(a.getContext()).xs;a=Z$g(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function wdh(a,b){var c=a.getElement(),d=Md(a.ud().D);if(!(2>d||c.offsetHeight<b)){var e=tx(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new kdh(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Ff(a.J,f+e);var h=a.J;h.F&&Ap(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Cc(l+e).setVisible(!1)}}}
m.Nza=function(){var a=this.Xc();this.V&&this.expand();this.collapse();var b=this.Xc();Tm(a,b)||this.dispatchEvent(new V5(this.getId()))};m.x_=function(a){var b=Z$g(this);b&&(ldh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.Db().style.maxHeight=b+"px":this.Db().style.maxHeight="",a&&(this.ib.scrollTop=this.ib.scrollHeight))};
m.rRb=function(a){var b=C5(this.getContext());switch(a.identifier){case "backToDocument":b.xf("docos-back-to-document").pb({Uj:this.getId()});break;case "resolve":Vch(this.F);break;case "blur":this.ROa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":sdh(this);break;case "reply":this.D.focus()}};m.ROa=function(){var a=C5(this.getContext());a.xf("docos-before-highlight-doco").pb(n5());Z5(A5(this.R),null);a.xf("docos-highlight-doco").pb(n5())};
m.focus=function(){c6.prototype.focus.call(this);this.Wa=this.wl();zdh(this)};function zdh(a){ldh(a);X5(a.D)||a.Wa||a.D.reset(!0);a.wl()&&(a.expand(),a.Qfa());a.x_(!0);a.dispatchEvent(new V5(a.getId()))}m.mT=function(a){c6.prototype.mT.call(this,a);this.x_(!1)};m.Ia=function(){c6.prototype.Ia.call(this);delete this.Sa;delete this.Oa};function udh(a,b){var c=a.xa;c&&(a=U7g(b,a.C),jy(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),Zx(c,a))}m.TLb=function(a){this.wl()&&a.stopPropagation()};function Adh(a,b,c,d,e){this.Xs=a;this.Ye=void 0===b?null:b;this.v$a=void 0===c?null:c;this.Sha=void 0===d?null:d;this.hhc=void 0===e?!1:e}m=Adh.prototype;m.getNewDocoType=g("Xs");m.getText=g("Ye");m.getAssigneeEmail=g("v$a");m.getOriginatingDocoType=g("Sha");m.getWasSmartTodo=g("hhc");function Bdh(a,b,c,d){return Adh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(Bdh,Adh);function d6(a,b,c,d,e,f,h){W5.call(this,a,b,c,e,f);this.Br=d;this.Da=this.Sa=null;this.D=new rbh(a,this.oa(),this,h);this.Fa(this.D);this.Jc(b)}t(d6,W5);m=d6.prototype;m.Aa=function(){this.Da=new mB(this.getElement());this.qa(this.Da);var a=this.Da;a.ij("backToDocument",85);a.ij("blur",27);a.ij("next",74);a.ij("next",Ct(["N","C"]));a.ij("prev",75);a.ij("prev",Ct(["P","C"]));a.ij("reply",82)};
m.Ga=function(){W5.prototype.Ga.call(this);this.getHandler().listen(this.D,"p",this.UYa).listen(this.D,"c",this.tya).listen(this.D,"s",this.uY).listen(this.D,"b",this.nRb).listen(this.D,"e",this.qta).listen(this.D,"f",this.pRb);this.getHandler().listen(this.Da,"shortcut",this.oRb);var a=this.getElement();this.D.V=a;this.Sa=new nC(this.getElement(),this.oa());this.qa(this.Sa);oC(this.Sa)};m.fkb=function(a,b,c,d,e){C5(this.getContext()).xf("docos-convert-doco").pb({Uj:a,Xm:b,Hp:c,YXa:d,KS:e})};
m.UYa=function(){var a=this.Owa()?this.Owa().getEmail():void 0,b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0,c=this.Bba();var d=this.ud().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new Bdh(c,a,b,1==d);c=R5(A5(this.getContext()),this.getId());bq(u(this.fkb,this,this.getId(),this.YR(),c,a,b))};m.ekb=function(a,b,c,d){C5(this.getContext()).xf("docos-delete-doco").pb({Uj:a,Xm:b,Hp:c,KS:d})};
m.tya=function(){var a=R5(A5(this.getContext()),this.getId()),b=this.ud().getNewDocoType()?this.ud().getNewDocoType():void 0;bq(u(this.ekb,this,this.getId(),this.YR(),a,b))};m.Po=ea(!0);m.YR=g("Br");m.Pwa=ea(!0);m.xUa=function(a){Cdh(this);a.stopPropagation()};function Cdh(a){var b=C5(a.getContext()),c=J7g(p5(o5(a.getId()),a.Za));b.xf("docos-before-highlight-doco").pb(q5(c));Z5(A5(a.R),a.getId());b.xf("docos-highlight-doco").pb(q5(c))}
m.oRb=function(a){var b=C5(this.getContext());switch(a.identifier){case "backToDocument":b.xf("docos-back-to-document").pb({Uj:this.getId()});break;case "blur":b.xf("docos-before-highlight-doco").pb(n5());Z5(A5(this.R),null);b.xf("docos-highlight-doco").pb(n5());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){X$g(this);this.Qfa()};m.nRb=function(a){this.uY(a)};
m.qta=function(){var a=C5(this.getContext());a.xf("docos-before-highlight-doco").pb(n5());Z5(A5(this.R),null);a.xf("docos-highlight-doco").pb(n5())};m.pRb=function(){this.wl()||Cdh(this)};m.focus=function(){this.wl()&&(pf?bq(this.i_a,0,this):this.i_a())};m.uY=function(a){var b=Z$g(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}W5.prototype.uY.call(this,a)};
m.i_a=function(){this.D.ready();var a=this.oa(),b=Np(a);(pf&&!b||!a.contains(this.getElement(),b))&&bq(function(){this.sb()&&this.getElement().focus()},0,this)};function Ddh(a,b,c,d,e,f){d6.call(this,a,b,c,d,e,f);this.D.Ba="Reply...";this.J=!1;this.F=this.H=null}t(Ddh,d6);m=Ddh.prototype;
m.Aa=function(){var a=this.oa(),b=this.C.Tg(),c="Unknown"===b.getName();c=Ty(U$g,{author:b.getName(),$g:b.C,QE:this.C.V&&!c?b.getId():null,Ew:!0,Po:!0,zj:this.C.zj(),yC:this.C.Da},void 0,a);this.jb(c);this.D.Va(a.bb("docos-docoview-input-pane",c));Uy()&&z(y(),"docs-ehspc")&&this.D.focus();this.H=a.bb("docos-author",c);this.F=HV(a,"IMG","docos-replyview-avatar",c);var d=a.bb("docos-replyview-origin",c);P(d,!1);if(a=a.bb("docos-user-presence",c))if(c=this.C.yd)a.style.backgroundColor=c(b.getId());d6.prototype.Aa.call(this)};
m.Ga=function(){d6.prototype.Ga.call(this);X$g(this);var a=this.ud().yx();Ad(a)||this.D.ready(a,!0,!0);a=this.C.Tg();E$g(z5(this.getContext()),this.F,a.D,u5(a))};m.Owa=function(){return nbh(this.D.H)};m.Bba=function(){return this.D.getValue()};m.qta=function(a){X5(this.D)?this.uY(a):d6.prototype.qta.call(this,a)};
m.update=function(){d6.prototype.update.call(this);var a=this.wl();a!=this.J&&(this.wl()||X5(this.D)?this.dispatchEvent(new V5(this.getId())):this.tya());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.J=a};m.vd=function(){d6.prototype.vd.call(this);C5(this.getContext()).xf("docos-edit-draft").pb({Uj:this.getId(),text:this.Bba(),KFa:this.F})};m.Ia=function(){d6.prototype.Ia.call(this);delete this.H;delete this.F};function Edh(a,b,c,d,e,f){Ddh.call(this,a,b,c,d,e,f);this.ud()}t(Edh,Ddh);function Fdh(a,b,c,d,e,f){Ddh.call(this,a,b,c,d,e,f);this.ud()}t(Fdh,Ddh);Fdh.prototype.L=function(a,b,c,d,e,f){this.dispatchEvent(new Gbh("sd",a,b,c,d,e,f))};Fdh.prototype.UYa=function(){var a=R5(A5(this.getContext()),this.getId()),b=nbh(this.D.H);if(null!=b){Dj(this.C.Di,38);var c=t8g(b)}bq(u(this.L,this,this.getId(),this.YR(),a,this.Bba(),"instant-doco"==this.ud().Xs,c))};Fdh.prototype.V=function(a,b,c,d){C5(a).xf("docos-cancel-insert-discussion").pb({Uj:b,Xm:c,Hp:d})};
Fdh.prototype.tya=function(){var a=R5(A5(this.getContext()),this.getId());bq(u(this.V,this,this.getContext(),this.getId(),this.YR(),a))};function Gdh(a,b,c,d,e,f){b=Adh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.od=a||null;return b}t(Gdh,Adh);Gdh.prototype.getPosition=g("od");function Hdh(a){this.Sha=a}Hdh.prototype.getOriginatingDocoType=g("Sha");function Idh(a,b,c){this.Sha=a;this.yR=b;this.ePb=c;return this}t(Idh,Hdh);Idh.prototype.isTodo=g("yR");Idh.prototype.isWrongAssignee=g("ePb");function Jdh(a,b,c,d,e,f){d6.call(this,a,b,c,d,e,f,!0);this.Ja=this.Ha=this.H=this.L=this.ma=this.J=this.F=this.Oa=this.V=this.Ba=null;this.Wa=c$g(a)}t(Jdh,d6);m=Jdh.prototype;
m.Aa=function(){var a=this.C,b=this.oa();a=Ty(U$g,{Po:!0,ZX:!0,Qab:!!Dj(a.Di,41),zj:a.zj(),ao:"legacy"!=a.F},void 0,b);this.jb(a);this.D.cb=!1;this.D.Va(b.bb("docos-docoview-input-pane",a));this.Ba=b.bb("docos-input-assign-to-text",a);this.V=b.Ea("docos-smarttodoview-body",a);this.V.id=qx(this,"body");this.F=b.bb("docos-smarttodoview-feedback",a);this.Ha=b.bb("docos-smarttodoview-showfeedbackdialog-button",a);this.Ja=b.bb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.H=new r9g(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Fa(this.H);this.H.Va(b.Ea("docos-overflowmenu-outer",a));this.F&&(this.J=Kdh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=Kdh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Oa=Ldh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=Ldh(this,"docos-smarttodoview-feedback-submit"))&&this.QCa());
b=b.Ea("docos-smarttodoview-headertext",a);b.id=qx(this,"headertext");Sx(a,"labelledby",b.id);Sx(a,"describedby",this.V.id);d6.prototype.Aa.call(this)};function Kdh(a,b,c){var d=a.oa(),e=a.getElement();b=d.bb(b,e);c=d.bb(c,e);e=null;b&&(e=new lR(!1,d),c&&jR(e,c),e.Va(b),a.qa(e));return e}function Ldh(a,b){var c=a.oa();b=c.bb(b,a.getElement());var d=null;b&&(d=new PA(null,c),d.Va(b),Vx(b,d.El()),a.qa(d));return d}
m.Ga=function(){d6.prototype.Ga.call(this);x5(x5(x5(this,this.H,"e",this.JRb),this.H,"i",this.nub),this.H,"h",this.fyb);this.F&&(this.Ha&&this.getHandler().Hf(this.Ha,Ko,this.FIb),this.Ja&&this.getHandler().Hf(this.Ja,Ko,this.dMb),this.J&&x5(this,this.J,"change",this.QCa),this.L&&x5(this,this.L,"change",this.QCa),this.Oa&&x5(this,this.Oa,"action",this.wwb),this.ma&&x5(this,this.ma,"action",this.IRb));this.D.ready(void 0,void 0,!0);this.update()};
m.Qfa=function(){d6.prototype.Qfa.call(this);this.xa&&Zx(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){d6.prototype.update.call(this);var a=y5(this.ud());a=t5(a);a=W7g(a,this.C,!0);a=(new wB("Assign to {user}?")).format({user:a});Ap(this.Ba,a);P(this.Ba,!0);a=dM(new rkc(new skc),this.ud().getContent());Le(this.V,a);this.resize()};
m.JRb=function(){var a=t5(this.ud().RB()).getEmail();a=new Gdh(void 0,"client-integrated-draft",this.ud().yx(),a,"smart-todo",!0);var b=R5(A5(this.getContext()),this.getId());C5(this.getContext()).xf("docos-convert-doco").pb({Uj:this.getId(),Hp:b,YXa:a,KS:"smart-todo"})};m.nub=function(){C5(this.getContext()).xf("docos-disable-smart-todo-feature").pb()};
m.fyb=function(){ux("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});f$g(this.Wa,L9g(K9g(J9g(I9g(43029),this.ud().getId()),N5(this.ud()))))};m.FIb=function(){this.F&&P(this.F,!0);f$g(this.Wa,L9g(K9g(J9g(I9g(43025),this.ud().getId()),N5(this.ud()))))};m.dMb=function(){C5(this.getContext()).xf("docos-write-feedback").pb({source:"smart-todo"})};m.wwb=function(){this.F&&P(this.F,!1);this.focus()};
m.QCa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Ma(a||b)};m.IRb=function(){C5(this.getContext()).xf("docos-reject-doco-with-feedback").pb({Uj:this.getId(),Xm:this.YR(),Hp:R5(A5(this.getContext()),this.getId()),KS:"smart-todo",Sjb:new Idh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.Owa=function(){return y5(this.ud())?t5(y5(this.ud())):null};m.Bba=function(){return this.ud().yx()};
m.Ia=function(){d6.prototype.Ia.call(this);delete this.Ba;delete this.V;delete this.F;delete this.H;delete this.Ha;delete this.Ja};function Mdh(a,b,c,d){this.C=a;this.H=b;this.$a=c;this.D=d}Mdh.prototype.F=function(a){a=A5(this.C).ud(a);var b=this.H.hk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Fdh(this.C,a.getId(),b,N5(a),this.$a,this.D);case "client-integrated-draft":return new Edh(this.C,a.getId(),b,N5(a),this.$a,this.D);case "smart-todo":return new Jdh(this.C,a.getId(),b,N5(a),this.$a,this.D);default:return new tdh(this.C,a.getId(),b,this.$a,this.D)}};function Ndh(a,b){this.C=a;this.D=b}Ndh.prototype.clone=function(){return new Ndh(this.C,this.D)};Ndh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function e6(a,b){Oo.call(this);this.$a=b;this.L=a;this.D=null;if(a=f6(this).J)this.D=new Ndh(a,!0);this.xa=!a;this.Ba=!a;this.kb=this.H=null}v(e6,Oo);m=e6.prototype;m.MAa=da("O");m.hk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.gQ=function(){return[]};m.Gq=function(){return this.H?this.H.getId():null};m.aW=function(){return this.H?M5(this.H):null};m.bW=function(){var a=this.Gq();return a?this.O.Gc(a):null};
m.oa=g("$a");function f6(a){return w5(a.L)}m.getContext=g("L");m.qG=function(){return this.hk().getId()};m.tba=g("D");m.nja=function(a,b){var c=this.Gq();return a||c?b==this.qG()||this.D&&this.D.C==a?!0:!W$g(this,a):!1};function W$g(a,b){if(a.Gq()==b)return!0;a=a.aW();return!!a&&a==b}
m.cpa=function(a,b,c){if(this.nja(a,b)){var d=W$g(this,a)?null:this.H;this.H=A5(this.L).ud(a)||null;var e=d&&a!=d.getId()&&(!M5(d)||a!=M5(d));if(e){var f=this.O.Gc(d.getId());f&&!d.pq()&&f.update()}d=!d||e;b=b==this.qG()&&(void 0===c||c);a&&(d||b)&&(d&&this.L_a(),(c=this.O.Gc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new Ndh(a,b),d&&this.yya(a))}};m.L_a=ba();
m.LRa=function(a,b){var c=C5(this.L);c.xf("docos-before-highlight-doco").pb(a);Z5(A5(this.L),b.getId());c.xf("docos-highlight-doco").pb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==f6(this).J&&(a=f6(this).H["highlight-initial-doco"]))&&(b=(new s5("highlight-initial-doco")).addAnchorId(N5(b)).addDocoHandle(R5(A5(this.getContext()),c)).setNonAnchored(!(b.ey()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){Odh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){Odh(this,!1,void 0,a,b,c)};m.Cha=ba();m.Aha=ba();function Odh(a,b,c,d,e,f){var h=A5(a.L),k=Pdh(a,h,b,!!d,!!e);k||!c||e||(k=Pdh(a,h,!b,!!d,!1));b=C5(a.L);k&&(a=q5(J7g(I7g(G7g(p5(o5(k.getId()),a.qG())),void 0!==f?f:!0))),b.xf("docos-before-highlight-doco").pb(a),Z5(h,k.getId()),b.xf("docos-highlight-doco").pb(a))}
function Pdh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.hk().zc();if(0==h)return null;a:{var k=a.Gq();if(k){var l=a.hk();if(k=l.Gc(k)){l=tx(l,k);break a}}l=-1}0>l&&(l=0,f=a.hk().Cc(l));for(k=l;!f||d&&!r$g(b,f.ud());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.hk().Cc(l)}return f}
m.yya=function(a){if(a==f6(this).J){var b=this.O.Gc(a);b&&b.wl()&&!this.Ba&&(this.Ba=!0,b=f6(this).H["linked-doco-highlighted"])&&(a=A5(this.L).ud(a),a=K7g("linked-doco-highlighted").addAnchorId(N5(a)).setUserInitiated(!0).build(),b(a))}};m.Qba=function(a){for(var b=this.hk(),c=b.zc(),d=c,e=0;e<c;++e){var f=b.Cc(e);if(f&&0>=this.lV(a,f)){d=e;break}}return d};
function Qdh(a){if(a.A3()){for(var b=a.hk(),c=[],d=b.zc(),e=0;e<d;++e)c.push(b.Cc(e));c.sort(u(a.lV,a));for(e=0;e<d;++e)b.Cc(e)!=c[e]&&b.Ff(c[e],e)}}m.qz=function(){G$g(z5(this.getContext()))};m.HJ=ba();m.bpa=function(){for(var a=this.hk().zc(),b=new e7g,c,d=0;d<a;d++)c=this.hk().Cc(d),null!=c&&(c=c.ud(),null!=c&&Ibh(b,c));return f7g(b)};m.eK=ta;m.laa=fe;m.X1=fe;m.Y1=ba();m.Ia=function(){e6.Ta.Ia.call(this);this.H=null};
m.apa=function(a){a=a.AV()||a;a instanceof e6&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ba=this.Ba)};m.AV=ea(null);m.LAa=da("kb");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof e6){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ba==a.Ba}else a=!1;return a};function Rdh(a,b){Ao.call(this,a);this.lIa=b}v(Rdh,Ao);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function Sdh(a){this.C=[];if(a)a:{if(a instanceof Sdh){var b=a.$e();a=a.Jd();if(0>=this.le()){for(var c=this.C,d=0;d<b.length;d++)c.push(new DY(b[d],a[d]));break a}}else b=Od(a),a=Nd(a);for(d=0;d<b.length;d++)Tdh(this,b[d],a[d])}}function Tdh(a,b,c){var d=a.C;d.push(new DY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=Sdh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)cd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function Udh(a){return a.C[0]&&a.C[0].getKey()}m.Jd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.$e=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Pu=function(a){return Wc(this.C,function(b){return b.getValue()==a})};m.clone=function(){return new Sdh(this)};m.le=function(){return this.C.length};m.isEmpty=function(){return ad(this.C)};m.clear=function(){cd(this.C)};function Vdh(){Sdh.call(this)}v(Vdh,Sdh);Vdh.prototype.enqueue=function(a,b){Tdh(this,a,b)};function Wdh(a,b){e6.call(this,a,b);this.V=A5(this.getContext());this.C={};this.R={};this.cb=new Vdh;this.J=new M7g}v(Wdh,e6);m=Wdh.prototype;m.gQ=function(){var a=Wdh.Ta.gQ.call(this);a.push("docos-layout-anchored");f6(this).Gd&&a.push("docos-layout-anchored-shadows");return a};m.koa=function(a){return(new Mdh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.UO=function(a){if(this.V.V(a)){var b=a.getId(),c=R5(this.V,b),d=this.Hqa(c,!1);if(d){var e=this.koa(a);this.R[c]&&delete this.R[c];c=this.Qba(e);if(c<=this.hk().zc()&&-1<c)for(Xdh(this,e,d,c);!this.cb.isEmpty()&&Udh(this.cb)<=this.hk().zc();)e=this.cb.remove(),Xdh(this,e.view,e.position,e.index);else this.cb.enqueue(c,new Ydh(e,d,c))}else this.R[c]=a;b=I7g(o5(b),!a.ZX());a.Yj()||p5(b,this.qG());d&&a.Ew()&&Ad(a.yx())&&(d=C5(this.getContext()),d.xf("docos-before-highlight-doco").pb(q5(b)),Z5(this.V,
a.getId()),d.xf("docos-highlight-doco").pb(q5(b)));(d=this.tba())&&d.C==a.getId()&&(I7g(b,d.D),bq(u(this.LRa,this,q5(b),a),0))}};function Xdh(a,b,c,d){var e=Na();a.hk().Ff(b,d,!0);a.lha(c.x,c.y,b,!1);b=Na()-e;(a=f6(a).H["doco-rendered"])&&a(new L7g("doco-rendered",b))}m.dT=function(a){var b=this.hk().Gc(a);a==this.Gq()&&(this.H=null);if(b){var c=this.V.ud(a);c&&c.isResolved()&&b.Po()&&f6(this).Ad?Zdh(this,a,b):(this.hk().removeChild(b,!0),Jf(b));this.YJ(this.C)}};
function Zdh(a,b,c){function d(){q||(q=!0,Jf(c),rp(e),Zx(h,"docos-resolve-highlight"),bq(function(){iy(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Vw(e),h=f6(a).Ad,k=cx(h),l=cx(e),n=Vw(h);n.x+=(k.width-l.width)/2;a.hk().removeChild(c);Zx(e,"docos-readonly");c.vd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;pf?$dh(a,e,f,n,d,b):aeh(a,e,c.getId(),f,n,d)}
function aeh(a,b,c,d,e,f){O7g(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";bq(function(){Io(b,lEa,f);bq(f,570);Zx(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function $dh(a,b,c,d,e,f){var h=new PB(b,[c.x,c.y],[d.x,d.y],270),k=new Sgb(b,270);k.play();N7g(a.J,f,h,270,function(){Jf(h);Jf(k);e()})}
function beh(a){var b=[];a.hk().Xe(function(c){var d=c.ud();null!=d&&null!=N5(d)?(d=R5(this.V,c.ud().getId()),this.Hqa(d,!0)||this.R[d]||(this.R[d]=c.ud(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new Rdh("rv",b))}m.jaa=function(a){for(var b=Zd(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.YJ(b)};m.W1=function(a){var b=Zd(this.C),c;for(c in a)b[c]=a[c];this.YJ(b)};m.Hqa=function(a){return this.C[a]||null};
m.laa=function(a){a=ceh(this,a);return a?(a=a?a.getElement():null)?new Km(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=ceh(this,a))?a.getDocoMaxHeight():null};m.$oa=function(a,b){(a=ceh(this,a))&&a.mT(b)};function ceh(a,b){return(b=U5(a.V,b))?a.hk().Gc(b.getId()):null}m.Ia=function(){Wdh.Ta.Ia.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function Ydh(a,b,c){this.Uj=a.getId();this.view=a;this.position=b;this.index=c};function deh(a,b){Wdh.call(this,a,b)}v(deh,Wdh);m=deh.prototype;m.A3=ea(!1);m.lV=ea(0);m.w_=ta;m.ZJ=function(){beh(this)};m.qz=function(){deh.Ta.qz.call(this);this.hk().Xe(function(a){var b=a.ud();b&&null!=N5(b)&&(b=R5(A5(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.lha(b.x,b.y,a,!1))},this)};m.YJ=function(a){this.C=a;beh(this);for(var b in this.C)(a=this.R[b])&&this.UO(a);this.qz()};m.lha=function(a,b,c){(c=c.getElement())&&p9a(c,a,b,w5(this.getContext()).Qj)};function g6(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Ad(f)?f:null}pa("docos.api.Assignee",g6,void 0);g6.prototype.getToken=g("L");g6.prototype.getToken=g6.prototype.getToken;g6.prototype.getEmail=g("F");g6.prototype.getEmail=g6.prototype.getEmail;g6.prototype.getAffinity=g("D");g6.prototype.getAffinity=g6.prototype.getAffinity;g6.prototype.getMatchingMethod=g("H");g6.prototype.getMatchingMethod=g6.prototype.getMatchingMethod;g6.prototype.O=g("C");
g6.prototype.isMatchedOnEmailUserName=g6.prototype.O;g6.prototype.getName=g("J");g6.prototype.getName=g6.prototype.getName;function eeh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function feh(a,b,c,d){return new g6(a.C,b,d,a.L,a.D,c)}function geh(a,b){return a.C.toLowerCase().replace(heh,"")==b?a.D=!0:!1}eeh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&ieh(this,e)){var f=ff(e.getEmail());Ad(f)||c.push(feh(this,f,e.getName(),0))}}a.resolve(c)};
function ieh(a,b){if(b.getEmail())var c=ff(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||abh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if($c($ah,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&$c(f,d[h]))&&
1<d[h].length)return!0;return geh(a,e)}function jeh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new eeh(a[d],"full-query",b));return c}function keh(a,b){for(var c=[],d=0;d<a.length;d++)kd(c,leh(a[d],b));return c}function leh(a,b){return jbh(hbh,a).map(function(c){return new eeh(c,"email",b)})}var heh=/^[@+]|[@+]$/g;function meh(a){this.C=a}pa("docos.api.AssigneeThenable",meh,void 0);meh.prototype.get=g("C");meh.prototype.get=meh.prototype.get;function neh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new bm;this.J=d}function oeh(a,b){var c=Yp();a.C.C?peh(a,b,c):Sah(a.C).then(u(function(d,e,f){f?peh(this,d,e):e.reject()},a,b,c));return new meh(c.C)}function peh(a,b,c){var d=Ia(keh,b,a.D);b=u(a.H,a,Ia(jeh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
neh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=Yp();Ad(f.C)?k.resolve([]):geh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([feh(f,f.F,null,Number.MAX_VALUE)]):h.Co(f.C,5,u(f.O,f,k));f=k.C;kd(d,f)}qeh(this,d,b,c)};function qeh(a,b,c,d){Xp(b).then(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.eQ&&k.value&&kd(f,k.value)}ad(f)?d():reh(a,f,c)})}
function reh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}ad(e)?(seh(a,d),a.J(d).then(function(k){return teh(a,b,c,k)})):ueh(a,e,c)}else ueh(a,b,c)}function ueh(a,b,c){b.sort(Ia(veh,a.D));c.resolve(b[0])}function seh(a,b){var c=a.F;oza(b,c.contains,c)||(cm(a.F,b),f$g(a.L,L9g(I9g(43026))))}
function teh(a,b,c,d){for(var e=[],f={M_:0};f.M_<d.length;f={M_:f.M_},f.M_++){var h=Yc(b,function(k){return function(l){return l.getEmail()==d[k.M_]}}(f));h&&e.push(h)}ad(e)?c.resolve(null):ueh(a,e,c)}function veh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function weh(a){this.Sab=a;return this}t(weh,l5);weh.prototype.getCancelAnchorId=g("Sab");weh.prototype.getCancelAnchorId=weh.prototype.getCancelAnchorId;function xeh(a,b,c,d,e,f){a=r5.call(this,a,b,c,d,e,f||new l5)||this;a.C=!1;return a}t(xeh,r5);xeh.prototype.canPreventDefault=ea(!0);xeh.prototype.preventDefault=function(){this.C=!0};function yeh(a){return s5.call(this,a)||this}t(yeh,s5);yeh.prototype.build=function(){return new xeh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new l5)};function zeh(){this.D=!1}zeh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};zeh.prototype.pk=function(){return!this.D&&(null==this.C||this.C.pk())};function Aeh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Yp();this.L=c}v(Aeh,A);function Sah(a){if(!Lme())return Up(!1);if(a.C)return Up(!0);if(!a.F){var b=Zd(Nkf);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Co(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.O)){var k=new XOd;h=L(k,1,h);h=V5g(h);c.Ro("dacpc",Na()-a.L,h.qb())}})}return a.H.C}
Aeh.prototype.Co=function(a,b,c,d){var e=this;if(!Lme())return new Ikf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Ue(a)&&this.F&&this.F.pk()){var k=new zeh,l=Na();this.H.C.then(function(){var n=e.J.O;if(k.pk()){var q=e.D.Co(h,c);n&&n.Ro("dcrdtdr",Na()-l);k.D||(k.C=q)}else n&&n.Ro("dcrdc",Na()-l)});return k}return this.D.Co(h,c)};Aeh.prototype.Ia=function(){delete this.D};function Beh(a){this.C=a}v(Beh,l5);pa("docos.api.OriginatingDocoTypeArgs",Beh,void 0);Beh.prototype.getOriginatingDocoTypeArgs=g("C");Beh.prototype.getOriginatingDocoTypeArgs=Beh.prototype.getOriginatingDocoTypeArgs;function h6(a,b,c){this.C=c;this.Br=a;this.D=b}v(h6,Beh);pa("docos.api.ConvertDocoArgs",h6,void 0);h6.prototype.getAnchorId=g("Br");h6.prototype.getAnchorId=h6.prototype.getAnchorId;h6.prototype.getNewDocoArgs=g("D");h6.prototype.getNewDocoArgs=h6.prototype.getNewDocoArgs;function i6(a,b,c){this.D=a;this.od=void 0!==b?b:null;this.C=void 0==c?-1:c}v(i6,l5);i6.prototype.isInstantDoco=g("D");i6.prototype.getPosition=g("od");i6.prototype.getInstantDocoSpacerIndex=g("C");i6.prototype.isInstantDoco=i6.prototype.isInstantDoco;i6.prototype.getInstantDocoSpacerIndex=i6.prototype.getInstantDocoSpacerIndex;function Ceh(a){this.F=a}Ceh.prototype.C=function(a,b){return b?(a=this.F.ud(b.Uj))?y5(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};Ceh.prototype.D=ea(0);function Deh(a,b){this.od=a;this.Br=b;return this}t(Deh,l5);Deh.prototype.getPosition=g("od");Deh.prototype.getAnchorId=g("Br");Deh.prototype.getPosition=Deh.prototype.getPosition;Deh.prototype.getAnchorId=Deh.prototype.getAnchorId;function Eeh(a){A.call(this);this.C=a}t(Eeh,A);function f$g(a,b){var c=w5(a.C).Na;if(c){var d=new ik,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);Feh(a,d,b.D);b.J&&(a=fch(A5(a.C)).C.clone(),Oj(d,10,a));a=new d9g;b.Br&&L(a,1,b.Br);c(b.H,b.F||void 0,d,a)}}
function S5(a,b){var c=w5(a.C).Na;if(c){var d=b.ud();var e=new ik;var f=d.eva();e=L(e,2,f);null!=d.Tz()&&(f=w8g(d.Tz()).length,L(e,8,f));null!=b.yy&&(f=b.yy.eva(),L(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new fLd;var k=new bLd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);Oj(f,2,h);Oj(e,5,f);break;case "suggestion":L(e,4,5);break;default:L(e,
4,0)}}null!=b.D&&L(e,7,b.D);null!=w5(a.C).Oa&&(f=w5(a.C).Oa,Oj(e,12,f));null!=w5(a.C).J&&(f=w5(a.C).J==d.getId(),L(e,13,f));f=d.dI();h=y5(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);Feh(a,e,d.getId());b.L&&(a=fch(A5(a.C)).C.clone(),Oj(e,10,a));a=new d9g;d=N5(b.ud());a=L(a,1,d);c(b.J,b.H||void 0,e,a)}}function Feh(a,b,c){a=A5(a.C).R;null!=c&&b.Ng(null!=a&&c==a.getId())}Eeh.prototype.Ia=function(){A.prototype.Ia.call(this)};function Geh(){}Geh.prototype.C=function(){return["Comment changed"]};Geh.prototype.D=ea(0);function Heh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Hp&&a.addDocoHandle(d.Hp),d.Xm&&a.addAnchorId(d.Xm));return a};function Ieh(a,b){this.C=a;this.D=b}v(Ieh,Beh);pa("docos.api.FeedbackArgs",Ieh,void 0);Ieh.prototype.getFeedback=g("D");Ieh.prototype.getFeedback=Ieh.prototype.getFeedback;function Jeh(a){this.C=a}v(Jeh,l5);pa("docos.api.HighlightDocoArgs",Jeh,void 0);Jeh.prototype.isOriginInStreamOrGutter=g("C");Jeh.prototype.isOriginInStreamOrGutter=Jeh.prototype.isOriginInStreamOrGutter;function Keh(a){var b=a.xNb,c=a.kc,d=a.iOb;a=a.yNb;return T('<div id="docs-instant-button-bubble" class="'+U("docs-material")+" "+(c?U("docs-instant-button-bubble-transformation-rtl"):U("docs-instant-button-bubble-transformation-ltr"))+(d?" "+U(d):"")+'" role="button" tabindex="-1"><div class="'+U("docs-instant-button-bubble-icon-container")+(a?" "+U(a):"")+'"><span class="'+U("docs-instant-button-bubble-icon")+(b?" "+U(b):"")+'"></span></div></div>')};function Leh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=gz(fz,0<c.length?c[0]:"docs-instant-button");iz.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;mz(this,2,!0)}t(Leh,iz);m=Leh.prototype;m.Aa=function(){var a=this.oa(),b={kc:!1};b.xNb=this.R.join(" ");ad(this.J)||(b.iOb=this.J.join(" "));ad(this.L)||(b.yNb=this.L.join(" "));this.jb(Ty(Keh,b,void 0,a))};
function Meh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.sb()){var h=0>=c;a.isVisible()||h?(Neh(a),Oeh(a,b,d,f),e&&e()):(a.D=new Peh(b,d,f,e),b=!a.C,h||b||Neh(a),a.C||(a.C=bq(function(){Oeh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.ge;k&&k();a.D=null;a.C=null},c,a)))}}
m.cf=function(a){if(this.sb()){if(void 0===a?0:a)Ow(this.getElement(),"top","0px"),Zx(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(iy(this.getElement(),"docs-instant-button-visible"),ex(this.Ka(),0),this.F=!1);Neh(this)}};m.hg=function(a){this.isVisible()&&(iz.prototype.hg.call(this,a),a.stopPropagation())};m.Im=function(a){this.isVisible()&&(iz.prototype.Im.call(this,a),a.stopPropagation())};m.cR=function(a){this.isVisible()&&a.stopPropagation()};
function Oeh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;iy(a.getElement(),"docs-instant-quick-hide");Zx(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function Neh(a){a.C&&(cq(a.C),a.C=null)}m.isVisible=function(){Yx(this.getElement(),"docs-instant-button-visible");return this.F};function Peh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.ge=d}Peh.prototype.getOpacity=g("C");function Qeh(a,b){v5.call(this,a,b);this.D=null;this.F=a}t(Qeh,v5);Qeh.prototype.Aa=function(){v5.prototype.Aa.call(this);this.D=new Leh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Va(this.D.getElement())};
Qeh.prototype.Ga=function(){v5.prototype.Ga.call(this);w5(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||w5(this.F).C.D(this.getElement(),!0);this.D.Ga();x5(this,this.D,"action",this.H)};function Reh(a,b,c,d){gA(a.D.getElement(),"docos");w5(a.F).C.D(a.getElement(),!1);var e=a.D.H;Meh(a.D,b,c,d,function(){e!=b&&w5(a.F).C.cf(a.getElement())})}Qeh.prototype.cf=function(a){this.D.isVisible()&&w5(this.F).C.D(this.getElement(),!0);this.D.cf(a)};Qeh.prototype.H=function(){this.cf();this.dispatchEvent("create-draft")};function Seh(a,b){A.call(this);this.D=a;this.F=w5(a);this.C=b;this.H=new GA(this);a=C5(this.D);this.H.Ob(a.Qa("docos-edit-reply"),nt,this.J6b).Ob(a.Qa("docos-delete-reply"),nt,this.s6b).Ob(a.Qa("docos-edit-doco"),nt,this.F6b).Ob(a.Qa("docos-edit-draft"),nt,this.I6b)}t(Seh,A);function Teh(a,b,c,d,e,f){return j6(a,u(a.eOb,a,b,c,d,e,void 0===f?!1:f))}m=Seh.prototype;m.eOb=function(a,b,c,d,e,f,h){if(Ueh(h))return a=d$g(this.C,a,b,c,d,e),f.Ah.callback(a),a;f.Ah.callback(0);return 0};
m.gOb=function(a,b,c,d,e,f){if(Ueh(f))return a=g$g(this.C,a,b,c,d),e.Ah.callback(a),a;e.Ah.callback(0);return 0};m.dOb=function(a,b,c,d,e,f){if(Ueh(f))return a=h$g(this.C,a,b,c,d),e.Ah.callback(a),a;e.Ah.callback(0);return 0};function Veh(a,b){return j6(a,u(a.wac,a,b))}m.I6b=function(a){var b=this,c=a.data;qq(j6(this,u(this.H6b,this,c.Uj,c.text)),function(d){d&&c.KFa&&B5(z5(b.D),c.KFa);return d})};m.H6b=function(a,b,c,d){k6(u(this.C.G6b,this.C,a,b),c,d)};
m.wac=function(a,b,c){k6(u(this.C.Udb,this.C,a),b,c)};function Weh(a,b,c,d,e,f,h){return j6(a,u(a.w9a,a,b,c,d,e,f,h))}
m.w9a=function(a,b,c,d,e,f,h,k){if(Ueh(k)){k=this.C;var l,n;a&&(n=dch(A5(k.C),a))&&"instant-doco"==n.Xs&&(l=31);var q=I9g(43009);null!=n&&J9g(q,n.getId());null!=l&&(q.F=l);n&&n.Ew()&&a!=b&&i$g(A5(k.C),n.getId());a=jf();l=Na();n=W8g(S8g(G5(new F5(a)),l),k.F.Tg());c&&H5(n,c,l);d&&(c=(new s6g).setType("text/plain").setValue(d),Oj(n.C,9,c));e&&(R8g(n,e),q.J=e);f&&(V8g(n,f),q.C=f);e=T9g(Q5(P5(n),!0),l);b&&(R9g(e,b),K9g(q,b));T5(A5(k.C),e);A5(k.C).flush();f$g(k.D,L9g(q));b=R5(A5(k.C),a);h.Ah.callback(b);
return b}h.Ah.callback(0);return 0};m.F6b=function(a){var b=a.data;qq(j6(this,u(this.Fib,this,b.id,b.text)),function(c){c||b.tpa.dispatchEvent("c")})};m.Fib=function(a,b,c,d){k6(u(this.C.Eib,this.C,a,b),c,d)};m.s6b=function(a){a=a.data;qq(j6(this,u(this.r6b,this,a.Uj,a.eAa)),ba())};m.r6b=function(a,b,c,d){k6(u(this.C.edb,this.C,a,b),c,d)};m.J6b=function(a){var b=a.data;qq(j6(this,u(this.Hib,this,b.Uj,b.eAa,b.text)),function(c){c||b.tpa.dispatchEvent("c")})};
m.Hib=function(a,b,c,d,e){k6(u(this.C.Gib,this.C,a,b,c),d,e)};m.x9a=function(a,b,c,d,e,f){k6(u(this.C.Qdb,this.C,a,b,c,d),e,f)};m.bhc=function(a,b,c,d){k6(u(this.C.Wdb,this.C,a,b),c,d)};m.chc=function(a,b,c,d,e){k6(u(this.C.Xdb,this.C,a,b,c),d,e)};m.bbc=function(a,b,c,d,e){k6(u(this.C.Vdb,this.C,a,b,c),d,e)};function k6(a,b,c){Ueh(c)?(a(),b.Ah.callback(!0)):b.Ah.callback(!1)}m.adb=function(a,b,c,d){k6(u(this.C.Rdb,this.C,a,b),c,d)};
m.jgc=function(a,b,c){if(Ueh(c))return a=j$g(this.C,a),b.Ah.callback(a),a;b.Ah.callback(0);return 0};m.Ncc=function(a,b,c,d){k6(u(this.C.qIa,this.C,a,b),c,d)};m.ddb=function(a,b,c){k6(u(this.C.Tdb,this.C,a),b,c)};m.cdb=function(a,b,c){k6(u(this.C.Sdb,this.C,a),b,c)};function Xeh(a,b,c,d){return j6(a,u(a.c9a,a,b,c,d))}m.c9a=function(a,b,c,d,e){if(Ueh(e))return a=o$g(this.C,a,b,c),d.Ah.callback(a),a;d.Ah.callback(0);return 0};
m.MEa=function(a,b,c,d){if(Ueh(d))return a=s$g(this.C,a,b),c.Ah.callback(a),a;a=[];c.Ah.callback(a);return a};function j6(a,b){var c=new oq,d={Ah:c};(a=a.F.Ve)?a(d,b):b(d,"edit-not-intercepted");return c}function Ueh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function Yeh(a,b){A.call(this);this.C=[];this.F=new Q6g(a);this.D=R6g(this.F,"user");this.J=R6g(this.F,"control");this.Hd=new aq(b||50);this.Hd.start();Fo(this.Hd,"tick",this.u0a,!1,this);this.J.Af("setPeerReady_",u(this.Rcc,this))}v(Yeh,A);m=Yeh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.u0a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Hd.stop(),a;}};m.Af=function(a,b,c){this.D.Af(a,b,c)};m.HI=function(a){this.D.HI(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({c_:a,ym:b})};m.Rcc=function(a){a?this.Hd.stop():this.Hd.start();if(!this.H){this.H=!0;this.u0a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.c_,b.ym)}this.C=null}};m.Ia=function(){Jf(this.F);Jf(this.Hd);Yeh.Ta.Ia.call(this)};function Zeh(a){Oo.call(this);this.C=a;this.La=new Po(this);this.qa(this.La);this.La.listen(this.C,"u",this.D);this.C.$d(this)}v(Zeh,t$g);Zeh.prototype.D=function(a){var b=h9g(a.ym.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new u$g("u",new K6g(b))));a.stopPropagation()};function w$g(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&xa(n[0])&&d(n[0])});a.C.sIa(b,c?c.Qf():void 0,l,e,f,h,k)};function $eh(a,b,c){Dme.call(this);c&&(this.D=c.Ua.C(this.D));this.C=a;this.qa(this.C);this.C.HI(u(this.D,this));this.F=b}v($eh,Dme);$eh.prototype.send=function(a,b){Da(b)&&(b=Hm(b));this.C.send(a,{t:this.F,p:b})};$eh.prototype.D=function(a,b){Eme(this,a,b)};$eh.prototype.T$=function(a,b,c){b=$eh.Ta.T$.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?$eh.Ta.T$.call(this,a,b.p,c):null};function afh(){Oo.call(this)}v(afh,Oo);function bfh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Oo.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new qo;this.qa(this.J);ro(this.J,this.H.getStatus().C,function(l){l.D.Bk()&&Dl(l.C)?k.dispatchEvent(new u$g("r")):l.C.equals(Yya)?k.dispatchEvent(new u$g("p")):El(l.C)&&k.dispatchEvent(new u$g("e"))});this.F=function(l){l&&k.dispatchEvent(new u$g("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t(bfh,afh);
bfh.prototype.rIa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.faa)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new zMa;var b=this.D.Tg().getId();a.R=b;MLa(a,this.D.haa,this.O,this.D.Zoa);this.C=a;this.C.subscribe("9",this.F)}};
bfh.prototype.sIa=function(a,b,c,d,e,f,h){b=b?["p",Hm(b)]:[];cfh(this,b,"/docos/p/"+a,c,d,e,f,h)};function cfh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?Kza(b):void 0;c=Yq(a.H.We(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.Bq();h?Gl(c,h):Gl(c,3);d&&Il(c,function(n){d(n.Me())});e&&Hl(c,e,f);k&&$q(c,k);null!=a.L&&(c.Oa=a.L);c.Pe()}bfh.prototype.Ia=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());afh.prototype.Ia.call(this)};function dfh(a,b,c){this.seq=efh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var efh=1;function ffh(a){Oo.call(this);this.C=a;this.C.Af("recv",u(this.r8b,this),!0);this.C.Af("recvEvt",u(this.q8b,this),!0);this.D={}}v(ffh,afh);m=ffh.prototype;m.r8b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.q8b=function(a){this.dispatchEvent(new u$g(a.type,a.payload))};m.rIa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.sIa=function(a,b,c,d,e,f,h){a=new dfh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ia=function(){ffh.Ta.Ia.call(this);delete this.C};function gfh(a){A.call(this);this.F=a;this.D=this.C=null}t(gfh,A);
function hfh(a){if(a.C)return a.C;var b=w5(a.F),c=b.Yoa;if(void 0!==c)return c&&(a.C=new Zeh(c),a.qa(a.C)),a.C;if(b.nIa){var d=Efd();c=new yLa(new w7b,void 0,void 0,void 0,new iJa,void 0,void 0,lLa(hLa(d)));var e=b.Zoa;e&&c.j6(e);var f=b.pIa;f&&HLa(c,f);b.mKa&&oJa(c.D,"anon","true");(f=b.GSa)&&oJa(c.D,"invite",f);f=null;if(b.faa){f=new zMa;var h=b.Tg().getId();f.R=h;qJa(c.H,f);MLa(f,b.haa,d,e)}b=new bfh(c,!0,["id",b.haa],f,null!=b.V1?b.V1:6E4,b,d);b.qa(c);a.C=new Zeh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.qZa;if(!b)throw Error("Peer missing.");c={};d=new um(window.location.href);(e=Dm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new um(b)).toString());d=Efd();b=(new um(b)).mc("ctoken",d).toString();c.pu=b;a.D=gp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new jU(c);Cne(b,a.D);b.connect();b=new Yeh(b);c=Y7g(a.F);b=new $eh(b,d,c);c=new ffh(b);a.C=new Zeh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
gfh.prototype.Ia=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ia.call(this)};function ifh(a,b){this.C=a;this.F=b}ifh.prototype[fva]=!0;function l6(a,b,c){var d=Na();b();b=Na()-d;a.F.Ro(c,b)}m=ifh.prototype;m.cpa=function(a,b,c){a=u(this.C.cpa,this.C,a,b,c);l6(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);l6(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);l6(this,a,"dvmhp")};m.ZJ=function(){var a=u(this.C.ZJ,this.C);l6(this,a,"dvmla")};
m.qz=function(){var a=u(this.C.qz,this.C);l6(this,a,"dvmfl")};m.UO=function(a){a=u(this.C.UO,this.C,a);l6(this,a,"dvmadv")};m.w_=function(a){a=u(this.C.w_,this.C,a);l6(this,a,"dvmudv")};m.dT=function(a){a=u(this.C.dT,this.C,a);l6(this,a,"dvmrdv")};m.hk=function(){return this.C.hk()};m.MAa=function(a){this.C.MAa(a)};m.gQ=function(){return this.C.gQ()};m.Gq=function(){return this.C.Gq()};m.aW=function(){return this.C.aW()};m.bW=function(){return this.C.bW()};m.oa=function(){return this.C.oa()};
m.qG=function(){return this.C.qG()};m.tba=function(){return this.C.tba()};m.nja=function(a,b){return this.C.nja(a,b)};m.Cha=function(){this.C.Cha()};m.Aha=function(){this.C.Aha()};m.lV=function(a,b){return this.C.lV(a,b)};m.HJ=function(a,b){this.C.HJ(a,b)};m.bpa=function(){return this.C.bpa()};m.eK=function(a){this.C.eK(a)};m.laa=function(a){return this.C.laa(a)};m.X1=function(){return this.C.X1()};m.Y1=function(a){this.C.Y1(a)};m.dispose=function(){this.C.dispose()};m.isDisposed=function(){return this.C.isDisposed()};
m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Rc=function(a,b,c,d){return this.C.Rc(a,b,c,d)};m.Bc=function(a,b,c,d){return this.C.Bc(a,b,c,d)};m.VT=function(a){return this.C.VT(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.oC=function(a){return this.C.oC(a)};m.kp=function(){return this.C.kp()};m.$P=function(a,b,c){return this.C.$P(a,b,c)};m.IK=function(a,b){return this.C.IK(a,b)};m.sD=function(a,b,c,d){return this.C.sD(a,b,c,d)};
m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.AV=function(){return this.C.AV()||this.C};m.apa=function(a){this.AV().apa(a)};m.equals=function(a){return this===a};m.LAa=function(a){this.AV().LAa(a)};function jfh(a,b){ifh.call(this,a,b);this.D=a}t(jfh,ifh);m=jfh.prototype;m.jaa=function(a){a=u(this.D.jaa,this.D,a);l6(this,a,"davmddp")};m.W1=function(a){a=u(this.D.W1,this.D,a);l6(this,a,"davmudp")};m.YJ=function(a){a=u(this.D.YJ,this.D,a);l6(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.$oa=function(a,b){this.D.$oa(a,b)};function kfh(a,b,c){Oo.call(this);this.C=a;this.xa=b;this.V=c||null;this.La=new Po(this);this.qa(this.La);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new GA(this);this.qa(this.ma);this.La.listen(this.H,"r",this.p8b).listen(this.H,"u",this.n9b).listen(this.H,"e",this.lRb).listen(this.H,"p",this.mRb);this.La.listen(A5(a),["dd"],this.kRb).listen(A5(a),"bu",this.jRb)}t(kfh,Oo);
function lfh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return mfh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new oq),a.F="in-progress",mfh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function mfh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.wUa(b))}function nfh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Qd(null):d.callback(c)}m=kfh.prototype;
m.wUa=function(a){for(var b=A5(this.C),c=gch(b),d=[],e=0;e<c.length;e++){d.push(Uj(c[e].F));var f=c[e].getId();gd(b.H,f)}b=new l7g;d=Qj(b,1,d);this.L&&L(d,2,this.L);w5(this.C).Pqa()&&(b=w5(this.C).Pqa(),L(d,5,b));w$g(this.H,"sync",d,u(this.n7b,this),u(this.m7b,this),!1,a?a:void 0)};m.m7b=function(){this.O=!1;nfh(this,!0)};m.lRb=function(){this.dispatchEvent("net-error")};m.mRb=function(){this.dispatchEvent("post-limit-error")};
m.n7b=function(a){a=new H6g(a);var b=this.O;this.O=!1;var c=Na();if(b){var d=m6(this.xa,"model-loaded");if(d){var e=(new s5("model-loaded")).build();d(e)}}d=A5(this.C);try{if(ofh(this,a,b),this.L=K(a,2),jch(d))bq(u(this.wUa,this));else{var f=Na()-c;nfh(this,!1,b?f:void 0);this.V&&this.V.Ro("dscat",f)}}catch(h){throw bq(function(){throw h;}),h;}};
function ofh(a,b,c){var d=A5(a.C),e=ech(d),f=Nj(b,i5,1);b=0<f.length;var h=A5(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=Uj(l.value);var n=h5(l),q=ach(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=A5(r.C);n=h5(l);delete e[q.getId()];var x=q.getId();if($c(w.H,x))n=!1;else{x=q.getId();if(x=$c(w.Ja,x)){if(q.pq()){pfh(r,q);n=!1;break a}r=q.getId();gd(w.Ja,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=Zd(q.D);w=ja(g5(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(qfh(Uj(q[x.value].C)));q=g5(n);Qj(n,8,id(q,w));n=!0}}n&&k.push(new Q9g(l))}n$g(h,k,"n");h=ja(gch(d));for(k=h.next();!k.done;k=h.next())k=k.value,k.pq()&&void 0===k.C.C.getId()&&pfh(a,k);if(c){h=ja(Object.keys(e));for(k=h.next();!k.done;k=h.next())k=e[k.value],O9g(k)||void 0===k.C.C.getId()&&!k.pq()||(b=!0,k=Uj(k.F),h5(k),f=h5(k),Qj(f,8,[]),l=Na(),L(f,13,l),L(f,12,!1),
L(k,9,!1),T5(d,new Q9g(k),"n"));if(w5(a.C).fK()&&(a=A5(a.C),e=a.O.pj)){h=ech(a);for(var F in h){k=h[F];f=[];if(l=k.Xt())l=k.Xt().getTime()>e;if(l)f.push(F),f.push.apply(f,ka(Object.keys(Zd(k.D)))),hch(a,F,f);else{l=O5(k);for(n=0;n<l.length;n++){q=l[n].getId();if(w=I5(k,q))w=I5(k,q).Xt().getTime()>e;w&&f.push(q)}0!=f.length&&hch(a,F,f)}}ich(a)}}b&&d.flush(c)}function pfh(a,b){a=A5(a.C);var c=Uj(b.F),d=h5(c);L(c,9,!1);L(d,12,!1);b=b.getId();gd(a.H,b);T5(a,new Q9g(c),"n")}
function qfh(a){var b=Na();L(a,13,b);L(a,12,!1);return a}m.p8b=function(){var a=12E4*Math.random();null!==this.R&&cq(this.R);this.R=bq(function(){lfh(this,w5(this.C).wea?1:void 0)},a,this)};m.n9b=function(a){if(a.ym){var b=a.ym;a=A5(this.C);var c=0;b=Nj(b,i5,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=Uj(d.value);var e=h5(d);e=ach(a,e.getId(),K(e,11));e&&e.uR()||(T5(a,new Q9g(d),"n"),c++)}0<c&&A5(this.C).flush()}};m.kRb=function(a){"n"!=a.L&&$bh(A5(this.C))&&lfh(this)};
m.jRb=function(a){"n"!=a.source&&$bh(A5(this.C))&&lfh(this)};m.Ia=function(){Oo.prototype.Ia.call(this);delete this.C;delete this.La;delete this.ma};function rfh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.La=new Po(this);this.qa(this.La);this.C=null;this.O=!1;this.J=null}t(rfh,A);function sfh(a){if(!f6g(a.H,"netIo"))return!1;a.C=new kfh(a.H,a.F,a.D.O||void 0);a.qa(a.C);a.La.listen(a.C,"net-error",a.V);a.La.listen(a.C,"post-limit-error",a.R);return!0}rfh.prototype.V=function(){tfh(this.F,"fe")};rfh.prototype.R=function(){tfh(this.F,"p")};function ufh(a){a.O=!0;a.J=Na();rq(qq(lfh(a.C,a.D.Qz?1:void 0),a.L,a),a.ma,a)}
function vfh(a){if(l9g(a.D)){var b=a.C.D;b?qq(b,function(){return wfh(a)}):wfh(a)}}rfh.prototype.L=function(a){var b=this.D.O;b&&b.hBa(fch(A5(this.H)).C.clone().qb());if(b=m6(this.F,"sync-success")){var c=(new s5("sync-success")).build();b(c)}(b=m6(this.F,"initial-anchored-render-done"))&&null!==a&&b(new L7g("initial-anchored-render-done",a));(a=m6(this.F,"initial-sync-and-render-complete"))&&a(new L7g("initial-sync-and-render-complete",Na()-this.J));tfh(this.F,"s");tfh(this.F,"r")};
rfh.prototype.ma=function(){var a=m6(this.F,"sync-error");if(a){var b=(new s5("sync-error")).build();a(b)}tfh(this.F,"e")};function wfh(a){a.C.L=null;lfh(a.C,a.D.wea?1:void 0)};function xfh(){}xfh.prototype.C=function(a,b){return b?b.L0?["Action item created"]:["Comment created"]:[]};xfh.prototype.D=ea(0);function yfh(){}yfh.prototype.C=function(){return["Reply added"]};yfh.prototype.D=ea(0);function zfh(a){var b=a.O9a,c=a.ENb,d=a.n5b;a=T;var e='<div class="'+U("docos-notificationdialog-content")+'">',f='<div class="'+U("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(U(b)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(b)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(U(c)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(c)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(U(d)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(d)+'" class="'+U("docos-notificationdialog-label")+'">');b=T(f+"Nothing</label></div>");b=e+b;c='<a class="'+U("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=T(c+"Help</a>");return a(b+c+"</div>")};function Afh(a){qW.call(this);this.V=a;this.Ha=w5(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(Afh,qW);m=Afh.prototype;
m.Aa=function(){qW.prototype.Aa.call(this);Zx(zy(this),"docos");var a=Ga(zy(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Ry(this.Db(),zfh,{O9a:this.O,ENb:this.R,n5b:this.ma});Qy(this,"ok");a=this.Ha.Za;null!==a&&(Ow(this.Nq(),"z-index",a),Ow(zy(this),"z-index",a+1))};
m.Ga=function(){qW.prototype.Ga.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Gy(this.D,"ok");Fo(this.F,"click",u(this.KCa,this));Fo(this.H,"click",u(this.KCa,this));Fo(this.L,"click",u(this.KCa,this))};
m.update=function(){this.xa.disabled=!0;Bfh(J$g(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.qAa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}Cfh(J$g(this.V),a)};m.KCa=function(){var a=this;Bfh(J$g(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.vd=function(){No(this.F);No(this.H);No(this.L)};m.Ia=function(){qW.prototype.Ia.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function Dfh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}pa("docos.api.StorageUpdate",Dfh,void 0);function Efh(a,b){if(a){b||a.unshift(void 0);Ffh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),Gfh(c[2],b),Efh(c[3],b),b&&c.shift());b&&a.shift()}}function Gfh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Ffh(a,b){if(a){b||a.unshift(void 0);Gfh(a[3],b);Gfh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Ffh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function Hfh(a){A.call(this);this.D=a;this.C=w5(a).fc;this.H=[];this.F=[];w5(a).Yc||(this.La=new Po(this),this.qa(this.La),this.La.listen(A5(a),["f","dd"],this.Zdb).listen(A5(a),"bu",this.Ydb))}v(Hfh,A);m=Hfh.prototype;m.Zdb=function(a){if("o"!=a.L&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=jd(this.H);var b=jd(this.F);this.C.l4a(a,b,u(this.eMb,this,a),u(this.cMb,this,b));this.H=[];this.F=[]}}else Ifh(this,a.type,a.C,a.O)};
m.Ydb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,Ifh(this,a.type,c.Uj,c.C)};function Ifh(a,b,c,d){if(c){var e;"bu"==b?e=A5(a.D).ud(c):e=A5(a.D).F[c];(b=e)&&b.pq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!O9g(b)&&(e=Uj(b.F).Qf(),e=$d(e),Efh(e,!1),b=new Dfh(c,e,b.uR()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.eMb=function(a){for(var b=0;b<a.length;b++);};
m.cMb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);Jfh(this,d,c)};m.Lyb=function(a,b){if(0<b.length){for(var c=A5(this.D),d=0;d<b.length;d++){xa(b[d]);var e=$d(b[d]);Efh(e,!0);e=new i5(e);T5(c,new Q9g(e),"o")}c.flush(!0)}a()};m.Kyb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);Jfh(this,d,c);a()};
function Jfh(a,b,c){if(a=Y7g(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ia=function(){Hfh.Ta.Ia.call(this);delete this.D;delete this.La;delete this.C};function Kfh(a,b){var c=new dlf(new Skf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));flf(c,b);b=c.D;a=null!=K(a.Di,50)?K(a.Di,50):4;L(b,5,Lfh(a));return vof(c)}function Lfh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function Mfh(a,b){this.F=a;this.D=b;this.H=w5(this.D);this.C=null};function Nfh(a){this.F=a}Nfh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ud(b.C))?y5(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};Nfh.prototype.D=ea(0);function Ofh(a,b){this.F=a;this.H=A5(this.F);this.J=b}Ofh.prototype.C=function(a,b){var c=this.H.ud(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.Ew())return["Draft comment"];b=[];c=O5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Yj()){var h=this.J;var k=f.x3();null==k?h="":(h=h(k).C(),h=null==h?"":myd(h,byd.getInstance()))}else h=f.yx();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(u5(f.Gw())+(" on "+a.format(N8g(f)))));b.push(h+f)}return b};
Ofh.prototype.D=ea(0);function Pfh(a){this.mdc=a;return this}t(Pfh,l5);Pfh.prototype.shouldOverrideHide=g("mdc");Pfh.prototype.shouldOverrideHide=Pfh.prototype.shouldOverrideHide;function Qfh(a){this.C=a}v(Qfh,l5);pa("docos.api.ToggleShowStreamPaneArgs",Qfh,void 0);Qfh.prototype.getDisplay=g("C");Qfh.prototype.getDisplay=Qfh.prototype.getDisplay;function Rfh(a){mB.call(this,a);this.ij("back-to-document",[85]);this.ij("next-doco",[74]);this.ij("prev-doco",[75]);this.ij("prev-anch",[75,1]);this.ij("next-anch",[74,1]);this.ij("resolve",[69]);this.ij("reopen",[69,1]);this.ij("reply",[82]);this.ij("speak-comment",Ct(["A","C"]));this.addEventListener("shortcut",this.Da)}t(Rfh,mB);Rfh.prototype.Da=function(a){this.dispatchEvent(a.identifier)};function Sfh(a,b,c){b=c||b;var d=a.XJ,e=a.a5b;c=a.M$a;var f=a.L$a,h=a.ao,k=a.s2,l='<div class="'+U("docos")+" "+U("docos-streampane-container")+'" role="dialog" aria-label="';l+=Fx("Comment history box.");var n='"><div class="'+U("docos-streampane-content")+'">';e?(a='<div class="'+U("docos-streampane-header")+'"><div class="'+U("docos-new-comment-button")+'">',b=b={ao:h},e="",b.ao?(e+='<div class="'+U("docos-ns-caption")+'">'+T('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+U("docos-ns-caption-text")+'">',e+="Comment</div></div>"):(e+='<div class="'+U("docs-material")+'">'+R(P7g({Zh:"docos-icon-add-comment",FB:"docos-icon-add-comment-size",Ge:"docos-new-comment-icon",xR:!0})),e+="Comment</div>"),b=T(e),a=a+R(b)+"</div>",d?(d='<div class="'+U("docos-notification-settings")+'">',h=h={ao:h},h=h.ao,h=T('<div class="'+U("docos-ns-caption")+'">'+(h?T('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(P7g({Zh:"docos-icon-bell",FB:"docos-icon-bell-size",Ge:"docos-ns-caption-icon"})))+'<div class="'+U("docos-ns-caption-text")+'"><div class="'+U("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+R(h)+"</div>"):h="",k=a+h+(k?'<div class="'+U("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=b,d=a.RC,k=a.XJ,a=a.yC,h='<div class="'+U("docos-streampane-entryarea")+" "+U("hide-on-readonly")+'">'+R(Q7g({size:48,Ge:"docos-streampane-avatar"}))+'<div class="'+U("docos-streampane-entryarea-content")+
'"><div class="'+U("docos-streampane-username")+" "+U("goog-inline-block")+'">'+R(d)+"</div>"+R(T$g({Ge:"docos-streampane-input-pane",tec:!0,yC:a},h)),k&&(h+='<div class="'+U("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=T(h+"</div></div>"));l+=n+k;c&&(l+='<div class="'+U("docos-streampane-bannertext")+'">'+R(c),f&&(l+='<a target="_blank" rel="noreferrer" href="'+U(Gx(f))+'" class="'+U("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
U("docos-streampane-readonlytext")+" "+U("show-on-readonly")+" "+U("goog-inline-block")+'">';return T(l+"You do not have permission to add comments.</div></div></div>")}function Tfh(a){a=a.message;return T('<div class="'+U("docos-streampane-error")+'">'+R(a)+"</div>")};function Ufh(){return T('<div class="'+U("docos-spinner")+'" dir="ltr"><div class="'+U("docos-quantum-spinner")+" "+U("active")+'">'+Vfh({Cq:"spinner-blue"})+Vfh({Cq:"spinner-red"})+Vfh({Cq:"spinner-yellow"})+Vfh({Cq:"spinner-green"})+"</div></div>")}
function Vfh(a){a=a.Cq;return T('<div class="'+U("spinner-layer")+" "+U(a)+'"><div class="'+U("spinner-circle-clipper")+" "+U("spinner-left")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-gap-patch")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-circle-clipper")+" "+U("spinner-right")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div></div>')};function Wfh(a,b){v5.call(this,a,b);this.D=null}v(Wfh,v5);Wfh.prototype.Aa=function(){var a=this.oa();this.D=Ty(Ufh,{},void 0,a);this.jb(this.D)};Wfh.prototype.cf=function(){this.D.parentElement.removeChild(this.D)};Wfh.prototype.Ia=function(){delete this.D};function Xfh(a,b){Po.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=C5(this.O);this.Ig=null;this.R=new mB(this.C.oa().Wb());this.R.ij("blur",27);this.V=new GA(this);this.qa(this.V);this.V.Ob(this.J.Qa("docos-new-doco"),nt,this.aRb).Ob(this.J.Qa("docos-highlight-doco"),nt,this.$Qb);this.listen(this.C,"bd",this.ZQb).listen(this.C,"br",this.bRb)}t(Xfh,Po);
function Yfh(a){0==a.D&&0<a.C.zc()&&(a.D=Zfh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.zc();c++)Zfh(a,c)==a.D&&(b=c);$fh(a);n6(a.C,!1);b=a.C.Cc(b).getId();b=new E7g(b,a.C.getId());a.J.xf("docos-before-highlight-doco").pb(b);a.J.xf("docos-highlight-doco").pb(b)}}function $fh(a){a.Ig||(a.Ig=new qy(a.C.oa().Wb()),a.qa(a.Ig));a.listen(a.Ig,"focusin",a.JYa).listen(a.R,"shortcut",a.QOa)}m=Xfh.prototype;
m.JYa=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,agh(this,!0),n6(this.C,!0),this.Bc(this.Ig,"focusin",this.JYa).Bc(this.R,"shortcut",this.QOa),a=n5(),this.J.xf("docos-before-highlight-doco").pb(a),this.J.xf("docos-highlight-doco").pb(a))};m.QOa=function(){n6(this.C,!1);agh(this,!1)};
m.$Qb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Gc(a)){if(this.D=R5(A5(this.O),b.C),b.D==this.C.getId()){$fh(this);agh(this,!1);a instanceof tdh&&(a.Sh(!0),ydh(a,!0));n6(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof tdh)a:if(ldh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.O.focus();else{b=O5(a.ud(),!1);for(var c=b.length-1;0<=c;c--)if(gdh(a.H[b[c].getId()]))break a;gdh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,n6(this.C,!0),agh(this,!0)};
m.aRb=function(a){a=a.data;var b=U5(A5(this.O),a.Hp);if(b){for(var c=0;c<this.C.zc();c++)if(b.getId()==this.C.Cc(c).getId()){this.D=a.Hp;break}this.F=!0;n6(this.C,!1,!0);agh(this,!1)}};m.ZQb=function(){bgh(this)};m.bRb=function(){A5(this.O).ma||bgh(this)};function bgh(a){if(1==a.C.zc())a.D=0,n6(a.C,!1);else{for(var b=0,c=0;c<a.C.zc();c++)if(Zfh(a,c)==a.D){b=c;break}b==a.C.zc()-1?b--:b++;a.D=Zfh(a,b);a.F=!0;n6(a.C,!1,!0);agh(a,!1)}}
function agh(a,b){for(var c=k8a(a.C),d=0;d<c.length;d++){var e=a.C.Gc(c[d]);e instanceof tdh&&(e.Sh(b),ydh(e,b))}}function Zfh(a,b){return R5(A5(a.O),a.C.Cc(b).getId())};function cgh(a,b,c){this.D=a;this.F=b;this.C=c||null};function dgh(a,b,c,d){v5.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.MAa(this);this.O={};this.J=[];this.H=[];this.Ba=!1;this.ma=this.F=this.R=null;this.xa=new GA(this);this.qa(this.xa);a=A5(this.context);this.getHandler().listen(a,"bu",this.T5b).listen(a,"dd",this.t6b).listen(a,"f",this.U6b).listen(a,"sd",this.y8b).listen(a,"ud",this.k9b).listen(b,"rv",this.Bac).listen(this,"ra",this.j8b).listen(this,"sd",this.P8b).listen(this,"sr",this.Q8b).listen(this,"sn",this.z8b).listen(this,"sp",
this.A8b).listen(this,"bd",this.U5b).listen(this,"ar",this.G5b).listen(this,"ph",this.l7b);$7g(this)}v(dgh,v5);m=dgh.prototype;
m.Ga=function(){dgh.Ta.Ga.call(this);gA(this.getElement(),"docos");$x(this.getElement(),["docos","docos-stream-view"]);Qx(this.getElement(),"list");m9g(this.C)?Zx(this.getElement(),"docos-stream-view-height"):(Zx(this.getElement(),"docos-stream-view-legacy"),Zx(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&Zx(this.getElement(),"docs-gm");$x(this.Db(),this.D.gQ());this.getHandler().listen(this,"rd",this.feb);var a=C5(this.context);this.xa.Ob(a.Qa("docos-highlight-doco"),
nt,this.Fha);w5(this.context).rb&&Yx(this.getElement(),"docos-layout-vertical")&&(this.R=new Xfh(this.context,this),this.F=this.fb.createElement("DIV"),Zx(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.uy).listen(this.F,"focus",this.C8b),egh(this).appendChild(this.F),this.ma=new dC);this.REa()};m.tIa=ea(!0);m.D$=function(){this.D.ZJ();fgh(this);this.D.eK(!0);this.dispatchEvent("ail")};m.uy=function(){Yfh(this.R)};m.C8b=function(){var a=this.R;a.H=!0;Yfh(a)};
m.REa=function(){var a=A5(this.context);if(Md(a.C)){this.D.eK(!1);a=Zd(a.C);for(var b in a)ggh(this,b);this.D.HJ();this.D$()}};m.xA=function(a,b){for(var c=this.zc()-1;0<=c;--c){var d=this.Cc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.xA()}};
m.Fha=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.ma&&this.D.nja(a,c)){if(this.ma&&a&&this.D.Gq()!=a){var d=this.zc();d="Comment "+(tx(this,this.Gc(a))+1+(" of "+(d+" ")));eC(this.ma,d)}this.dispatchEvent("us");this.D.cpa(a,c,b);fgh(this);this.dispatchEvent("ud")}};m.T5b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Uj;c=c.C;b&&(A5(this.context).ud(b),(c=this.Gc(b)||c&&this.Gc(c))?(c.getId()!=b&&c.Jc(b),this.J.push(b)):this.O[b]=!0)}};m.t6b=function(a){this.H.push(a.C)};
function fgh(a){a.Ba||a.D.qz()}m.U6b=function(a){this.D.eK(!a.F);this.Ba=!0;for(var b=0;b<this.H.length;++b)hgh(this,this.H[b]);for(var c in this.O)ggh(this,c);Ud(this.O)||this.D.HJ();for(b=0;b<this.J.length;++b)igh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.ZJ();this.D.qz();this.Ba=!1;this.D.eK(!0)};m.feb=function(a){this.Gc(a.Uj)&&(this.D.w_(a.Uj),fgh(this))};m.y8b=ba();m.k9b=ba();
m.j8b=function(a){var b=A5(this.context).ud(a.Uj);if(a=w5(this.context).H.reanchor)b=N5(b),b=K7g("reanchor").addAnchorId(b).build(),a(b),this.context.ma=!0};m.P8b=function(a){var b={text:a.C,Xm:a.Xm,Hp:a.Hp,ueb:a.Xm,L0:a.L0};a.Xm&&w5(this.context).Nc&&(b.quote=(0,w5(this.context).Nc)(a.Xm));a.Xm&&w5(this.context).Pa&&(b.Xm=(0,w5(this.context).Pa)(a.Xm));C5(this.context).xf("docos-new-doco").pb(b)};
m.Q8b=function(a){var b=A5(this.context).ud(a.Uj);if(!b)throw Error(a.Uj+" not contained within appropriate stream.");var c=C5(this.context);b.isResolved()?c.xf("docos-resolve-doco").pb(new a8g(a.Uj,!1,a.C)):c.xf("docos-new-reply").pb(new cgh(a.Uj,a.C,a.L0))};m.z8b=function(){this.D.highlightNext()};m.A8b=function(){this.D.highlightPrevious()};m.U5b=function(){this.D.Cha()};m.G5b=function(){this.D.Aha()};
function ggh(a,b){var c=A5(a.context).ud(b);c&&a.Ha(c)&&!a.Gc(b)&&(a.dispatchEvent("us"),a.D.UO(c),a.dispatchEvent("ud"),a.R&&n6(a,!0))}function igh(a,b){a.dispatchEvent("us");var c=a.Gc(b);if(c){var d=A5(a.context).ud(b);d&&a.Ha(d)?(c.update(),a.D.w_(b)):hgh(a,b)}a.dispatchEvent("ud")}function hgh(a,b){b&&(a.dispatchEvent("us"),a.D.dT(b),a.dispatchEvent("ud"))}m.Bac=function(a){for(var b=a.lIa.length,c=0;c<b;++c)hgh(this,a.lIa[c])};m.a7=function(){for(var a=this.zc(),b=0;b<a;++b)this.Cc(b).a7()};
function egh(a){return(a=a.getElement())?a.parentElement:null}function n6(a,b,c){if(!b&&!c||0!=a.zc())a.oa().Pi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Pi(a.F,b))}m.Ia=function(){dgh.Ta.Ia.call(this);delete this.xa};m.l7b=function(){var a=this.D.bW();null==a||a.isDisposed()||(a.update(),a.focus())};function jgh(a){A.call(this);this.C=[];this.D=!1;this.F=new zq;this.H=a?!1:!0}t(jgh,A);jgh.prototype.start=function(){this.H=!0;kgh(this)};function kgh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Ik(u(a.J,a)))}jgh.prototype.J=function(){this.C.shift()();this.D=!1;kgh(this)};jgh.prototype.Ia=function(){this.F.dispose();A.prototype.Ia.call(this)};function lgh(a,b,c,d){dgh.call(this,a,b,c,d);this.Na=new jgh;this.L=[];this.Ja=new Wfh(a,d);this.Da=!1;this.V=null}v(lgh,dgh);m=lgh.prototype;m.tIa=g("Da");m.D$=function(){lgh.Ta.D$.call(this);this.Ja.cf();this.Da=!0;this.V&&this.Fha(this.V)};m.UEa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Gc(b)||(ggh(this,b),a++)}0==this.L.length?this.D$():(a=this.Na,b=u(this.UEa,this),a.C.push(b),kgh(a))};
m.REa=function(){var a=A5(this.context);if(Md(a.C)){this.Ja.render(egh(this));this.D.eK(!1);a=Zd(a.C);for(var b in a)this.L.push(b);b=this.Na;a=u(this.UEa,this);b.C.push(a);kgh(b)}};m.Fha=function(a){this.Da?lgh.Ta.Fha.call(this,a):this.V=a};function mgh(a,b,c,d,e){c6.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];w5(a).Ec&&(c=c.concat(["link"]));this.L=new r9g(a,b,d,"docos-actionmenu",c);this.Fa(this.L);this.Fa(this.F);ldh(this);this.Ha+=" docos-streamdocoview-input-pane";this.fc="Discard reply";this.Ba=this.V=this.Ja=this.Sa=this.Oa=this.Da=null}t(mgh,c6);m=mgh.prototype;
m.Aa=function(){c6.prototype.Aa.call(this);var a=this.oa(),b=this.getElement();this.Da=a.bb("docos-streamdocoview-inputcontainer",b);this.Oa=a.bb("docos-streamdocoview-reopen-control",b);this.Sa=a.bb("docos-streamdocoview-resolve-control",b);this.C.fK()&&a.bb("docos-root-new-tag",b);this.L.Va(a.bb("docos-actionmenu-outer",b));Vx(this.L.F.Ka(),"More options");this.Ja=a.bb("docos-author",b);this.V=HV(a,"IMG","docos-streamdocoview-avatar",b);this.Ba=HV(a,"IMG","docos-streamreplyview-avatar",this.Da);
a=this.oa();b=this.getElement();var c=a.bb("docos-docoview-comment",b);c&&(w5(this.getContext()).C.C(c,"Reply to this comment"),Vx(c,"Reply to this comment"));if(c=a.bb("docos-docoview-resolve",b))w5(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),Vx(c,"Mark as resolved and hide discussion");if(a=a.bb("docos-docoview-reopen",b))w5(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),Vx(a,"Mark as open and return discussion to the document view")};
m.Ga=function(){c6.prototype.Ga.call(this);ngh(this);var a=this.getElement();this.D.V=a;x5(x5(x5(x5(this,this.L,"d",this.W1a),this.L,"e",this.D6b),this.L,"r",this.u8b),this.L,"ra",this.l8b);a=this.ud().Gw();ogh(this,a);pgh(this,a);a=w5(this.getContext()).Tg();d8g(z5(this.getContext()),this.Ba,a.D,u5(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Ba&&this.C.C.C(this.Ba,a)};m.Jc=function(a){c6.prototype.Jc.call(this,a);this.L&&t9g(this.L,a)};
m.update=function(){c6.prototype.update.call(this);var a=this.ud().Gw();ogh(this,a);pgh(this,a);this.L.update();ngh(this);this.Da&&(a=!Ud(this.H)||X5(this.D)||this.wl(),P(this.Da,a))};function ogh(a,b){var c=z5(a.getContext()),d=b.D;a.V&&Ach(b,a.ud().getOrigin())&&(d=D$g(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));d8g(c,a.V,d,u5(b))}function pgh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ja&&a.C.C.C(a.Ja,c),a.V&&a.C.C.C(a.V,c))}
function ngh(a){var b=a.ud();a.Oa&&P(a.Oa,b.isResolved());a.Sa&&P(a.Sa,!b.isResolved())}m.uYa=function(a){var b=this.getElement();a=a.target;Yx(a,"docos-docoview-comment")&&b?this.D.ready():Yx(a,"docos-docoview-resolve")&&b?qgh(this):Yx(a,"docos-docoview-reopen")&&b&&rdh(this)};m.D6b=function(){ddh(this.F)};m.u8b=function(){this.ud().isResolved()?rdh(this):qgh(this)};m.l8b=function(a){this.dispatchEvent(new V$g("ra",this.ud().getId()));a.stopPropagation()};
function qgh(a){var b=C5(a.getContext());a.dispatchEvent("br");var c=new a8g(a.getId(),!0,X5(a.D)?a.D.getValue():null);b.xf("docos-resolve-doco").pb(c);a.dispatchEvent("ar")}m.a7=function(){var a=this.F;a.Ib&&!a.H.wl()||Zch(a)};m.vd=function(){c6.prototype.vd.call(this);var a=z5(this.getContext());B5(a,this.V);B5(a,this.Ba)};m.Ia=function(){c6.prototype.Ia.call(this);delete this.L;delete this.Ja;delete this.V;delete this.Ba;delete this.Da;delete this.Oa;delete this.Sa};function rgh(a,b,c,d){this.C=a;this.H=b;this.$a=c;this.D=d}rgh.prototype.F=function(a){a=A5(this.C).ud(a);var b=this.H.hk().getId();switch(a.getNewDocoType()){case "draft":return new Fdh(this.C,a.getId(),b,N5(a),this.$a,this.D);default:return new mgh(this.C,a.getId(),b,this.$a,this.D)}};function sgh(a,b){e6.call(this,a,b)}v(sgh,e6);m=sgh.prototype;m.A3=function(){return"none"!=w5(this.getContext()).cb};m.koa=function(a){return(new rgh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.lV=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=f6(this).cb;f6(this).Tg().getEmail();switch(c){case "creation":c=b.Xt().getTime()-a.Xt().getTime();break;case "priority":c=a.isResolved()||a.Yj()&&tgh(this,a);var d=b.isResolved()||b.Yj()&&tgh(this,b);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=y5(a),c=y5(b),d=S7g(d,f6(this))?1:0,c=(S7g(c,f6(this))?1:0)-d));c=c||ugh(this,a,b)||vgh(a,b);break;default:c=vgh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<
a.getId()?1:0);return c};function vgh(a,b){return b.qQ().getTime()-a.qQ().getTime()}function tgh(a,b){var c=b.ey()?N5(b):null;a=w5(a.getContext()).Ib;a=null!=c&&a(c);return null==c||!!P9g(b)||a}function ugh(a,b,c){a=f6(a).Tg().getEmail();var d=new Set,e=new Set;O5(b,!0).forEach(function(f){d.add.apply(d,ka(jbh(ibh,f.yx())))});O5(c,!0).forEach(function(f){e.add.apply(e,ka(jbh(ibh,f.yx())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.UO=function(a){var b=this.hk(),c=this.koa(a),d=0;this.A3()&&(d=this.Qba(c));b.Ff(c,d,!0);c.update();if(c=b=this.tba())b.C!=a.getId()?c=!1:(c=a.ey()?N5(a):void 0,d=w5(this.getContext()).Ib,d=null!=c&&d(c),c=null==c||a.isResolved()||!!P9g(a)||d);c&&(b=q5(I7g(p5(o5(a.getId()),this.qG()),b.D)),this.LRa(b,a))};m.dT=function(a){this.hk().Gc(a)&&(a=this.hk().removeChild(a),Jf(a))};m.w_=function(a){if(this.A3()){var b=this.hk();if(a=b.Gc(a)){var c=tx(b,a),d=this.Qba(a);c!=d&&b.Ff(a,d)}}};
m.Cha=function(){Odh(this,!0,!0)};m.Aha=function(){if(this.H&&this.Gq()){var a=this.Gq();Z5(A5(this.getContext()),a);this.qG()&&C5(this.getContext()).xf("docos-highlight-doco").pb(q5(G7g(p5(o5(a),this.qG()))))}};m.ZJ=function(){Qdh(this)};function wgh(a){a=a||{};var b=a.pbc,c=a.qbc,d=a.Dab,e=a.Cab;a=a.Scb;if(Cx(d)||Cx(c)){var f;Cx(a)&&Cx(c)?f='<a href="'+U(Gx(c))+'" title="'+U(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+U("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+U(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return T(b)};function xgh(a,b){Q.call(this,b);this.C=a}t(xgh,Q);xgh.prototype.Aa=function(){this.jb(Ty(wgh,{Cab:K(this.C,4),Dab:this.C.Cl(),Scb:K(this.C,5),pbc:K(this.C,2),qbc:K(this.C,1)},void 0,this.oa()))};function ygh(a,b){v5.call(this,a,b);this.Oc=new Qz(b);this.F=a;for(var c in T6g){a=T6g[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new DU(d,a,b);this.Oc.Fa(a,!0)}this.D=new Yz("",this.Oc,lH.getInstance(),b);Zz(this.D,new Uz(null,9));this.D.MI=!0;this.Fa(this.D)}t(ygh,v5);m=ygh.prototype;
m.Ga=function(){v5.prototype.Ga.call(this);var a=this.oa(),b=a.bb("docos-ns-caption",this.getElement());a=a.bb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().Ne(a,"Notifications");b=w5(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Oc.zc();a++){var c=this.Oc.Cc(a),d=c.getElement();a:{switch(c.Ra()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}x5(this,this.D,"action",this.URb);x5(this,this.C,"r",this.Qwa);x5(this,this.getElement(),"keyup",this.$jb);x5(this,this.Oc,"show",this.TRb);x5(this,this.Oc,"hide",this.SRb);this.Qwa()};m.TRb=function(){0<this.Oc.zc()&&this.Oc.$h(0)};m.SRb=function(a){a.stopPropagation()};m.$jb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.URb=function(a){var b=a.target.Ra(),c=J$g(this.F);b!=Bfh(c)&&Cfh(c,b);this.Qwa();a.stopPropagation()};m.Qwa=function(){var a=this;!this.C.R&&this.C.XJ()?Bfh(J$g(this.F)).then(function(b){for(var c=0;c<a.Oc.zc();++c){var d=a.Oc.Cc(c);d.dc(d.Ra()==b)}b=!a.C.R&&a.C.XJ();a.D.Ma(b)},void 0,this):this.D.Ma(!1)};function zgh(a,b,c,d){v5.call(this,a,b);this.F=new sgh(a,b);this.qa(this.F);this.D=c?new lgh(a,this.F,hfa(N9g),b):new dgh(a,this.F,hfa(N9g),b);this.Fa(this.D);this.J=a;this.Ba=null;this.Ha=!!d;Dj(this.C.Di,30)||(this.H=new rbh(a,b),this.qa(this.H),this.Fa(this.H),this.H.Ba="Add a comment");this.V=null;Dj(this.C.Di,30)&&this.C.XJ()&&!this.C.ma&&(this.V=new ygh(a,b),this.Fa(this.V));this.L=null;this.C.s2()&&(this.L=new uU(b),this.Fa(this.L));this.R=null;Dj(this.C.Di,30)&&(this.R=new PA("",b,"legacy"!=
this.C.F?4:void 0),this.Fa(this.R));this.Da=new GA(this);this.qa(this.Da);this.xa=new xgh(N(this.C.Di,uff,2)||new uff,b);this.Fa(this.xa);this.O="";this.ma=null;$7g(this)}v(zgh,v5);m=zgh.prototype;m.QZa=0;m.rz=null;m.iaa=null;m.zV=null;m.fD=null;m.pG=null;
m.Aa=function(){var a="legacy"!=this.C.F,b=this.oa(),c=Ty(Sfh,{RC:this.C.Tg().getName(),XJ:this.C.XJ(),a5b:!!Dj(this.C.Di,30),yC:this.C.Da,M$a:this.C.Hz,L$a:this.C.pz,ao:a,s2:this.C.s2()},void 0,b);Dj(this.C.Di,30)&&Zx(c,"docos-enable-docs-header");a&&Zx(c,"docs-gm");this.jb(c);a=b.bb("docos-streampane-content",c);this.D.render(a);this.pG=Dj(this.C.Di,30)?this.D.Db():this.C.L;this.xa.render(c);this.iaa=b.bb("docos-streampane-username",c);this.zV=HV(b,"IMG","docos-streampane-avatar",c)};
m.Ga=function(){zgh.Ta.Ga.call(this);var a=this.oa(),b=this.getElement();this.H&&this.H.Va(a.bb("docos-streampane-input-pane",b));if(this.V){var c=a.bb("docos-notification-settings",b);this.V.Va(c)}this.L&&(c=a.Ea("docos-priority-checkbox",b),this.L.render(c),this.L.dc(!0),this.L.setContent("For you"),x5(this,this.L,"action",this.dbb));c=w5(this.J).C;this.R&&(a=a.bb("docos-new-comment-button",b),this.R.Va(a),c.C(a,this.C.Ja?"Add comment not available":"Add a comment"),x5(this,this.R,"action",this.$db),
this.Q3a(),this.getHandler().listen(this.C,"r",this.Q3a));this.C.xa&&(b=this.C.xa,this.H&&(this.H.V=b));Bp(b,!0);this.fD=new Rfh(b);Fo(this.fD,"next-doco",this.I7b,!0,this);this.fD.addEventListener("prev-doco",this.a8b,!0,this);Fo(this.fD,"resolve",u(this.b9a,this),!0);Fo(this.fD,"reopen",u(this.eeb,this),!0);Fo(this.fD,"back-to-document",this.G$a,!0,this);Fo(this.fD,"speak-comment",this.Eec,!0,this);b=C5(this.J);a=this.C.Ja?this.e7b:this.deb;this.Da.Ob(b.Qa("docos-highlight-doco"),nt,a);this.H&&
x5(this,this.H,"p",this.D5b);x5(x5(x5(x5(x5(x5(x5(x5(this,this.getElement(),"click",this.aeb),this.D,"f",this.V6b),this.D,"b",this.X5b),this.D,"e",this.L6b),this.D,"us",this.O8b),this.D,"ud",this.N8b),this.D,"ail",this.M8b),this,["aftershow","afterhide"],this.beb);b=this.C.Tg();E$g(z5(this.J),this.zV,b.D,u5(b));this.iaa&&(a=b.getName())&&this.C.C.C(this.iaa,a);this.zV&&(a=b.getName())&&this.C.C.C(this.zV,a);this.Ha||(this.Ba=new nC(this.getElement(),this.oa()),this.qa(this.Ba),oC(this.Ba));Agh(this)};
m.beb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof wkf;var d=(new s5(b)).setNonAnchored(!0).setApiEventArgs(new Pfh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.a7=function(){this.D.a7()};m.aeb=function(a){Yx(a.target,"docos-streampane-notificationslink")&&!this.C.R&&this.dispatchEvent("dnd")};
m.D5b=function(){var a=this.H.getValue();Ad(a)||(C5(this.J).xf("docos-new-doco").pb({text:a,Xm:null,Hp:0,quote:null}),this.rz=null)};m.V6b=function(a){if(a=a.target)this.rz=a.getElement()};m.X5b=function(a){Bgh(this,a)};m.L6b=function(a){Bgh(this,a)};function Bgh(a,b){(b=b.target)&&b.getElement()==a.rz&&(a.rz=null)}m.O8b=function(){null!=this.rz&&(this.QZa=this.rz.offsetTop)};m.N8b=function(){null!=this.rz&&this.pG&&(this.pG.scrollTop+=this.rz.offsetTop-this.QZa)};m.M8b=function(){this.dispatchEvent("initial-load-complete")};
m.deb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&Cgh(this,a.C||null);if(a=a.C?this.D.Gc(a.C):null)this.rz=a.getElement()};m.e7b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?A5(this.J).ud(b):null)&&(b=(new s5("toggle-show-stream-pane")).addAnchorId(N5(b)).addDocoHandle(R5(A5(this.J),b.getId())).setNonAnchored(!(b.ey()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new Qfh(!0)).build(),c(b));Cgh(this,a.C||null)};
function Cgh(a,b){(b=b?a.D.Gc(b):null)?(a.rz=b.getElement(),a.pG&&(a.pG.scrollTop=b.getElement().offsetTop)):a.rz=null}m.I7b=function(){this.F.highlightNext()};m.a8b=function(){this.F.highlightPrevious()};m.b9a=function(){var a=this.F.bW(),b=this.F.Gq();b=b?A5(this.J).ud(b):null;a&&b&&(a=a.F,b.Yj()?Xch(a):Wch(a,!0))};m.eeb=function(){var a=this.F.bW();a&&Wch(a.F,!1)};m.G$a=function(){var a=C5(this.J),b=this.F.Gq();a.xf("docos-back-to-document").pb({Uj:b})};m.Eec=function(){var a=this.F.bW();a&&sdh(a)};
function Agh(a){if(""!=a.O&&!a.ma&&a.sb()){var b=Ty(Tfh,{message:a.O});a.ma=new Q;a.ma.Va(b);a.Ff(a.ma,0)}}m.Q3a=function(){this.R.Ma(this.C.jg)};m.$db=function(){this.dispatchEvent("create-draft")};m.dbb=function(){var a=C5(this.J),b=this.L.isChecked();this.pG&&(this.pG.scrollTop=0);a.xf("docos-update-sort").pb({Aec:b?"updated":"priority"})};m.vd=function(){zgh.Ta.vd.call(this);B5(z5(this.J),this.zV)};
m.Ia=function(){zgh.Ta.Ia.call(this);delete this.iaa;delete this.zV;delete this.rz;delete this.pG;delete this.xa;delete this.H;delete this.F;delete this.D;delete this.Da;this.fD&&(delete this.fD,this.fD=null)};function Dgh(a){A.call(this);this.H=a;this.D=this.C=null;this.F=Yp();f6g(this.H,"netIo")&&this.F.resolve()}t(Dgh,A);function Bfh(a){if(a.C)return Up(Egh(a.C));a.D||(a.D=a.F.C.then(function(){return new Qp(function(b,c){w$g(a.H.get("netIo"),"uc",void 0,function(d){return b(new E6g(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.np();a.D=null;return Egh(a.C)},void 0,a)}
function Cfh(a,b){var c="all"==b;b="none"==b;var d=(new qff).Ma(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new j7g;b=Oj(b,1,a.C);w$g(a.H.get("netIo"),"uc",b)}function Egh(a){return Gj(a,2,!0)?Dj(a,3)?"all":Gj(a,4,!0)||Gj(a,5,!0)?"important":"none":"none"};function Fgh(a,b){var c=a.ud(),d=b.ud();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.Xt();a=d.Xt();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function Ggh(a,b){this.C=a;this.od=b}Ggh.prototype.ud=g("C");Ggh.prototype.getPosition=g("od");function Hgh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function Igh(a,b){return a.C().Cc(b).getId()}function Jgh(a,b){for(var c=a.C().zc(),d=0;d<c;++d)a.H(Igh(a,d),Infinity);a.layout(b||[])}m=Hgh.prototype;m.layout=function(a){do{var b=a;Kgh(this,0,this.C().zc(),1,-Infinity,this.Ckb,this.Dkb,b);b=a;Kgh(this,this.C().zc()-1,-1,-1,Infinity,this.I$a,this.J$a,b);a.pop()}while(0<a.length)};function Lgh(a,b){0==a.D&&(a.D=1);a.F=id(b,a.F);md(a.F)}
function Mgh(a){0!=a.D&&(2==a.D?Jgh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function Kgh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=Igh(a,b);var n=b;n=a.C().Cc(n).getHeight();var q=a;var r=b;r=q.C().Cc(r).ud().getId();q=q.J(r);r=a.L(l);e=$c(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.Ckb=function(a,b){return b+a+10};m.I$a=function(a,b){return b-10};m.Dkb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.J$a=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function Ngh(a,b){var c=this;Wdh.call(this,a,b);this.F={};this.ma={};this.Da=new Hgh(u(this.hk,this),u(this.AUa,this),u(this.tqa,this),u(this.scc,this));this.Sa=w5(a).Xn;this.Ha=new JL;this.ib=!0;this.Rb=new Jq(this.Kgc,500,this);this.Na=this.Pa=null;this.Ja=K$g(a);this.Ib=new qo;this.qa(this.Ib);ro(this.Ib,this.Ja.D,function(){c.Oa=!0;c.Za&&Ogh(c,c.Za);Mgh(c.Da);c.rb&&c.qz();c.Oa=!1});this.rb=!1;this.Za=null;this.Wa=this.Oa=!1}v(Ngh,Wdh);var Pgh=null;m=Ngh.prototype;
m.gQ=function(){var a=Ngh.Ta.gQ.call(this);a.push("docos-layout-vertical");return a};m.A3=ea(!0);m.eK=da("ib");m.lV=function(a,b){a=a.ud();b=b.ud();if(!a||!b)throw Error("Doco view missing doco.");var c=R5(A5(this.getContext()),a.getId()),d=R5(A5(this.getContext()),b.getId());return Fgh(new Ggh(a,this.C[c]||new Km(Number.MAX_VALUE,Number.MAX_VALUE)),new Ggh(b,this.C[d]||new Km(Number.MAX_VALUE,Number.MAX_VALUE)))};m.w_=function(a){this.HJ(a,!1)};m.yya=function(a){Ngh.Ta.yya.call(this,a);this.qz()};
m.L_a=function(){for(var a=this.hk(),b=a.zc(),c=0;c<b;c++){var d=a.Cc(c);d.getId()!=this.Gq()&&d.getId()!=this.aW()&&d.q$()&&d.collapse()}};m.ZJ=function(){beh(this);Qdh(this);for(var a=this.hk(),b=a.zc(),c=0;c<b;++c){var d=a.Cc(c);d.q$()&&!d.wl()&&d.Nza()}a=[];(b=this.Gq())&&a.push(b);this.Ja.C||this.Oa?(b=this.Da,b.D=2,Lgh(b,a||[])):Jgh(this.Da,a);Qgh(this)};m.Y1=function(a){this.Pa=a.clone();this.Na&&this.Na.contains(a)?this.Rb.start():(a=this.Rb,a.stop(),a.Lra())};
m.Kgc=function(){if(this.O){this.Na=this.Pa.clone();var a=this.hk();this.Na.expand(500,0,500,0);var b=a.zc(),c="";0<b&&(c=a.Cc(b-1).getId());for(var d=0;d<b;d++){var e=a.Cc(d),f=this.ma[e.getId()];f=Rgh(e,this.Na,f.y,c);e.setVisible(f)}}};
m.qz=function(){Ngh.Ta.qz.call(this);if(this.Ja.C)this.rb=!0;else{Mgh(this.Da);var a=this.hk(),b;for(b in this.F){var c=a.Gc(b);if(c){var d=b==this.Gq()||b==this.aW()?-10:this.Sa,e=!c.Pwa();b!=this.Gq()&&b!=this.aW()&&this.kb&&(e=e&&this.kb.Sa);this.lha(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}Qgh(this);this.rb=!1}};function Rgh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.wl()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function Qgh(a){var b=f6(a).H.bounds;b&&(a=a.X1(),!Pgh&&!a||sd(Pgh,a)||(Pgh=a,a=(new s5("bounds")).setUserInitiated(!0).build(),b(a)))}m.tqa=function(a){if(a&&!(a in this.F))if(f6(this).Sa){var b=this.AUa(a);null!==b&&(this.F[a]=b)}else if(b=this.hk().Gc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.scc=function(a,b){this.F[a]=b};m.HJ=function(a){beh(this);if(f6(this).Sa)Sgh(this);else{var b=[];this.Gq()&&b.push(this.Gq());a&&b.push(a);Tgh(this,b)}};
function Sgh(a){f6(a).Sa&&(a.F={});var b=a.Gq();Tgh(a,b?[b]:[])}function Tgh(a,b){a.Ja.C||a.Oa?Lgh(a.Da,b):a.Da.layout(b)}m.YJ=function(a){var b=Od(a),c=Md(this.C),d=b.length!=c;this.Wa=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Wa=!0;break}}d&&(this.Ja.C?this.Za=a:Ogh(this,a))};
function Ogh(a,b){a.C=b;Ugh(a);beh(a);a.Wa&&(Qdh(a),a.Wa=!1);Sgh(a);b=a.Ha.$e();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.UO(d)}a.HJ();a.qz();a.Za=null}function Ugh(a){var b=Object.keys(a.C);b.sort(u(a.r$b,a));a.Ha.clear();for(var c=A5(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=U5(c,parseInt(e,10));f&&c.V(f)&&a.Ha.set(e,a.Ha.le())}}
m.r$b=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=U5(A5(this.getContext()),c);d=U5(A5(this.getContext()),d);return Fgh(new Ggh(c,b),new Ggh(d,a))};m.dT=function(a){Ngh.Ta.dT.call(this,a);Ugh(this)};m.Qba=function(a){a=R5(A5(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(Ugh(this),b=this.Ha.get(a));return b};
m.lha=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.hk();f=h.zc();h=h.Cc(f-1).getId();f=Rgh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.ib&&l&&this.hk().zc()<Vgh(this);k=this.ib&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));O7g(this.J,h);var n=new O6g(e,[a,b],f,lN);N7g(this.J,h,n,f,function(){return Jf(n)})}else Sw(e,
a,b),f||c.setVisible(!1);c.qc=-10==a;this.ma[h]=new Km(a,b);this.F[h]=b}};function Wgh(a,b){return(a=a.C[b])?a.y:null}m.AUa=function(a){a=R5(A5(this.getContext()),a);return Wgh(this,a)};m.Hqa=function(a,b){a=Wgh(this,a);return null===a?null:new Km(b?-10:this.Sa,a)};
m.X1=function(){var a=this.hk();if(!a||!a.sb())return null;var b=a.zc();if(!b)return null;var c=a.Cc(0);b=a.Cc(b-1);a=b.getElement();c=this.tqa(c.getId());b=this.tqa(b.getId());return null!=c&&null!=b?[c,210+this.Sa,b+a.offsetHeight,this.Sa]:null};function Vgh(a){a=f6(a);return(a=null!=K(a.Di,47)?K(a.Di,47):null)?a:100};function Xgh(a){this.C=a}v(Xgh,l5);pa("docos.api.WriteFeedbackArgs",Xgh,void 0);Xgh.prototype.getSource=g("C");Xgh.prototype.getSource=Xgh.prototype.getSource;if(!Ygh)var Ygh=ea("");if(!Zgh)var Zgh=ea("");function o6(a,b){var c=this;A.call(this);this.Tc=Na();this.J={};this.F=new I$g;var d=o6.__default_config;d&&ae(this.J,d);a&&ae(this.J,a);this.D=new k9g(this.J,b);this.F.Af("config",this.D);this.ma={};Dj(this.D.Di,17)&&(this.Xa=new v$g,this.F.Af("errorReporter",this.Xa),this.Mwa=this.Xa.Ua.C(this.Mwa));this.xa=null;this.V={};this.Ha=null;this.Sa=!1;this.Wa=!0;this.R=new rfh(this.F,this.D,this);$gh(this,"s",function(){c.C.Pa=!0;if(0<Md(c.C.C)){ahh(c);var e=c.D.yl;e&&e(43082,3E4)}});$gh(this,"fe",u(this.iRb,
this));$gh(this,"p",u(this.fRb,this));this.Rb=new Mfh(this,this.F);W5g();this.Mwa()}v(o6,A);pa("Docos",o6,void 0);pa("docos.api.connect",function(a){return new o6(a)},void 0);m=o6.prototype;m.q3a=!1;m.XS=null;m.Xa=null;m.O6=null;m.Ku=null;m.Ym=null;m.jt=null;m.pYa=!1;m.ZBa=null;m.Ut=null;m.XR=null;
m.Mwa=function(){if(this.Xa)for(var a in o6.prototype)Ea(this[a])&&(this[a]=this.Xa.Ua.C(this[a]));this.Za=new C$g(this.D);this.F.Af("imageManager",this.Za);a=new Dgh(this.F);this.F.Af("subscriptionManager",a);this.Ba=new Eeh(this.F);this.F.Af("impressionRecorder",this.Ba);this.cb=Hkd(So());this.qa(this.cb);this.Yc=new x$g(this.cb);this.F.Af("relativeDateFormatter",this.Yc);this.C=new Wbh(this.D);this.F.Af("stream",this.C);this.Na=new gfh(this.F);this.qa(this.Na);this.La=new Po(this);this.qa(this.La);
this.Da=null;this.L=new b$g(this.F);this.F.Af("controller",this.L);this.H=new Seh(this.F,this.L);if(Dj(this.D.Di,19)){this.Da=new Hfh(this.F);this.qa(this.Da);a=this.Da;var b=u(this.QCb,this),c=u(this.Kta,this);a.C?a.C.mIa(u(a.Lyb,a,b),u(a.Kyb,a,c)):c()}else this.Kta();this.XR=bhh(this);this.F.Af("contactStore",this.XR);this.Oa=this.D.Tg().getEmail()?new neh(this.XR,this.D.Tg(),this.Ba,this.D.jm):null;a=C5(this.F);this.O=this.fc=null;Vo("docs-aria-speakable")&&(this.fc=new Cof(void 0,!0),this.O=new Ekf(this.fc,
a),this.O.bind("docos-new-doco",new xfh),this.O.bind("docos-new-reply",new yfh),this.O.bind("docos-delete-doco",new Ceh(this.C)),this.O.bind("docos-resolve-doco",new Nfh(this.C)),this.O.bind("docos-speak-doco",new Ofh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new Geh));this.Pa=new GA(this);this.qa(this.Pa);this.Pa.Ob(a.Qa("docos-cancel-insert-discussion"),nt,this.a6b).Ob(a.Qa("docos-delete-doco"),nt,this.dRb).Ob(a.Qa("docos-reject-doco-with-feedback"),nt,this.p6b).Ob(a.Qa("docos-convert-doco"),
nt,this.m6b).Ob(a.Qa("docos-before-highlight-doco"),nt,this.rya).Ob(a.Qa("docos-highlight-doco"),nt,this.Lwa).Ob(a.Qa("docos-new-doco"),nt,this.eRb).Ob(a.Qa("docos-resolve-doco"),nt,this.hRb).Ob(a.Qa("docos-back-to-document"),nt,this.R5b).Ob(a.Qa("docos-new-reply"),nt,this.H7b).Ob(a.Qa("docos-write-feedback"),nt,this.A9b).Ob(a.Qa("docos-disable-smart-todo-feature"),nt,this.u6b).Ob(a.Qa("docos-vote-doco"),nt,this.w9b).Ob(a.Qa("docos-vote-reply"),nt,this.x9b).Ob(a.Qa("docos-update-sort"),nt,this.m9b).Ob(a.Qa("mouse-hover-doco-view"),
nt,this.D7b);this.La.listen(this.C,"dd",this.A7b).listen(this.C,"af",this.F5b).listen(this.C,"bu",this.z7b).listen(this.C,"p",this.Q7b).listen(this.D,"r",this.yla)};function bhh(a){var b=pnd("client").then(function(){var c=qa("gapi.config.update");a.D.Xoa&&c("googleapis.config/sessionIndex",a.D.Xoa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return qa("gapi.client")});return new Aeh(a.D,Kfh(a.D,b),a.Tc)}
function ahh(a){a.XR&&!a.XR.C&&c9g(a.D.D)&&o9g(a.D)&&Sah(a.XR)}function chh(a){a.jt||(dhh(a),a.jt=new zgh(a.F,So(a.D.L),a.D.Vm&&!z(y(),"docs-ehspc"),a.D.ye),a.La.listen(a.jt,"dnd",a.uub),a.La.listen(a.jt,"initial-load-complete",a.rJb),a.La.listen(a.jt,"create-draft",a.Vd));return a.jt}m.uub=function(){this.ib()};m.rJb=function(){var a=m6(this,"initial-pane-render-done");if(a&&this.ZBa){var b=Na()-this.ZBa;a(new L7g("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.J;this.C.J=a;var c=this.C,d=this.D,e={},f=c.J;c=Zd(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.ey()&&!O9g(k)){var l=nch(k,f,d);k=Zd(k.D);for(var n in k)l+=nch(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,ae(a,e),this.Ku.xA(a));this.V=e;e={};for(var q in this.V)e[R5(this.C,q)]=this.V[q];return e};o6.prototype.find=o6.prototype.find;o6.prototype.Gd=function(){this.C.J&&(this.C.J=null,this.Ku.xA(this.V,!0),this.V={})};o6.prototype.clearFind=o6.prototype.Gd;
o6.prototype.ot=function(){var a=this.D;var b=mch(this.C,a);b?(b=b.getKey(),a=(a=pch(b,a))?jp(a).textContent:null):a=null;return a};o6.prototype.getSelectedMatchA11yContext=o6.prototype.ot;o6.prototype.highlightNext=function(a,b,c){this.Ym&&this.Ym.highlightNext(!!a,b,c)};o6.prototype.highlightNext=o6.prototype.highlightNext;o6.prototype.highlightPrevious=function(a,b,c){this.Ym&&this.Ym.highlightPrevious(!!a,b,c)};o6.prototype.highlightPrevious=o6.prototype.highlightPrevious;
o6.prototype.select=function(a,b){var c=U5(this.C,a);a=c?c.getId():"";b=c?new DY(a,b):null;c=this.C.xa;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.xa=b;b=c?this.Ku.Gc(c.getKey()):null;c=this.Ku.Gc(a);b&&b!=c&&b.xA();if(c){c.q$()&&(b=lch(A5(this.F),this.D),c.expand(b?b.getKey():void 0));c.xA();b=kch(this.C,this.Ku);d=C5(this.F);var e=H7g(o5(a));e.C=b?b.start:0;e=q5(e);d.xf("docos-before-highlight-doco").pb(e);Z5(A5(this.F),a);
d.xf("docos-highlight-doco").pb(e);if(b&&Z$g(c)&&(a=c.Db())){c=cx(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};o6.prototype.select=o6.prototype.select;o6.prototype.Hhc=function(){var a=this.C.xa;if(a){this.C.xa=null;(a=this.Ku.Gc(a.getKey()))&&a.xA();a=C5(this.F);var b=H7g(o5(""));b.C=0;b=q5(b);a.xf("docos-before-highlight-doco").pb(b);Z5(A5(this.F),null);a.xf("docos-highlight-doco").pb(b)}};
o6.prototype.unselect=o6.prototype.Hhc;o6.prototype.Jhc=function(){var a=this.C,b=new Lbh(a,"c"),c;for(c in a.C)b.C.push(new Jbh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Mbh(b));a.flush(!0)};o6.prototype.updateAll=o6.prototype.Jhc;o6.prototype.h0=function(){return!!Dj(this.D.Di,19)&&!!this.D.fc&&!this.D.Yc};o6.prototype.isSavingToOfflineStorage=o6.prototype.h0;o6.prototype.iN=function(){return 0<Bbh.le()};o6.prototype.hasUnpostedDocos=o6.prototype.iN;
o6.prototype.bO=function(){for(var a=Od(this.C.L),b=0,c;c=a[b];b++){var d=this.C;if((c=dch(d,c))&&(c.Yj()?r$g(d,c):d.V(c)))return!0}return!1};o6.prototype.hasVisibleAnchoredDocos=o6.prototype.bO;o6.prototype.hPb=function(a){var b=this.C,c=b.ma;b.ma=a;if(c!=b.ma&&this.Ku&&(a=this.Ku,b=A5(a.context),Md(b.C))){for(c=a.zc()-1;0<=c;--c){var d=a.Cc(c).getId();igh(a,d)}b=Zd(b.C);for(d in b)ggh(a,d);a.D.ZJ();fgh(a);a.D.HJ()}};
o6.prototype.yla=function(){ehh(this);0<Md(this.C.C)&&ahh(this);if(this.jt)if("none"!=this.D.cb){var a=this.jt.D;a.D.ZJ();fgh(a)}else this.jt.a7()};o6.prototype.setResolvedAnchoredDocosVisible=o6.prototype.hPb;o6.prototype.k0=function(a,b,c){return fhh(this,a,b?b:void 0,c)};o6.prototype.newDoco=o6.prototype.k0;
o6.prototype.jU=function(a,b,c){if(null==a||Ad(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;a=ghh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo());qq(a,c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Tkb();a=j6(f,u(f.gOb,f,a,d,e,b));
qq(a,c);break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();a=j6(f,u(f.dOb,f,a,d,e,b));qq(a,c);break;default:throw Error("Unknown NewDocoArgs type.");}};o6.prototype.interceptingNewDoco=o6.prototype.jU;function fhh(a,b,c,d,e,f,h){hhh(a,b,c);b=d$g(a.L,b,d||"draft",e,f,h);ihh(a,b,c);return b}function ghh(a,b,c,d,e,f,h){hhh(a,b,c);return qq(Teh(a.H,b,d||"draft",e,f,h),function(k){ihh(a,k,c);return k})}
function hhh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.kb();c&&(a.xa=c)}function ihh(a,b,c){if(!(0>=b))if(Uy()&&z(y(),"docs-ehspc"))c=chh(a),a=U5(a.C,b),c.F&&null!=a&&c.F.UO(a);else if(c){var d={};d[b]=c;p6(a).W1(d)}}
o6.prototype.l0=function(a,b){if(null==a||Ad(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return fhh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),g$g(this.L,a,c,d,b.Tkb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,h$g(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};o6.prototype.newDoco2=o6.prototype.l0;o6.prototype.lU=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");qq(qq(Weh(this.H,void 0,a,void 0,void 0,b,void 0),function(e){0<e&&d.rb(e);return e}),c)};o6.prototype.interceptingNewSuggestion=o6.prototype.lU;
o6.prototype.sO=function(a,b,c){var d=this;qq(qq(Xeh(this.H,a,!0,b),function(e){jhh(d,a);return e}),c)};o6.prototype.interceptingAcceptSuggestion=o6.prototype.sO;o6.prototype.Ad=function(a){return s$g(this.L,a,!0)};o6.prototype.acceptSuggestions=o6.prototype.Ad;o6.prototype.mU=function(a,b,c){var d=this;qq(qq(Xeh(this.H,a,!1,b),function(e){jhh(d,a);return e}),c)};o6.prototype.interceptingRejectSuggestion=o6.prototype.mU;o6.prototype.tO=function(a,b){var c=this.H;a=j6(c,u(c.MEa,c,a,!0));qq(a,b)};
o6.prototype.interceptingAcceptSuggestions=o6.prototype.tO;o6.prototype.Bla=function(a,b){b=o$g(this.L,a,!1,b);jhh(this,a);return b};o6.prototype.rejectSuggestion=o6.prototype.Bla;function jhh(a,b){(b=U5(a.C,b))&&a.Ym&&a.Ym.dT(b.getId())}o6.prototype.Cla=function(a){return s$g(this.L,a,!1)};o6.prototype.rejectSuggestions=o6.prototype.Cla;o6.prototype.nU=function(a,b){var c=this.H;a=j6(c,u(c.MEa,c,a,!1));qq(a,b)};o6.prototype.interceptingRejectSuggestions=o6.prototype.nU;
o6.prototype.hU=function(a,b){var c=this.H;a=j6(c,u(c.ddb,c,a));qq(a,b)};o6.prototype.interceptingDeleteReply=o6.prototype.hU;o6.prototype.uO=function(a,b){var c=this.H;a=j6(c,u(c.cdb,c,a));qq(a,b)};o6.prototype.interceptingDeleteReplies=o6.prototype.uO;o6.prototype.$i=function(a){return(a=U5(this.C,a))?N5(a):null};o6.prototype.getAnchorData=o6.prototype.$i;o6.prototype.At=function(a){return(a=U5(this.C,a))?a.dI():null};o6.prototype.getSuggestionId=o6.prototype.At;o6.prototype.yl=function(){return this.D.Tg().getId()};
o6.prototype.getCurrentAuthor=o6.prototype.yl;o6.prototype.bk=function(a){return(a=U5(this.C,a))?a.Gw().getId():null};o6.prototype.getAuthor=o6.prototype.bk;o6.prototype.Hk=function(a){return(a=U5(this.C,a))?a.Gw().getName():null};o6.prototype.getAuthorName=o6.prototype.Hk;o6.prototype.Vm=function(a){"string"===typeof a&&(a=this.Ja(a));return khh(this).D.laa(a)};o6.prototype.getDocoPosition=o6.prototype.Vm;o6.prototype.getDocoMaxHeight=function(a){return p6(this).getDocoMaxHeight(a)};
o6.prototype.getDocoMaxHeight=o6.prototype.getDocoMaxHeight;o6.prototype.xoa=function(a,b){p6(this).$oa(a,b)};o6.prototype.setDocoMaxHeight=o6.prototype.xoa;o6.prototype.oi=function(a){a=lhh(this,a);p6(this).YJ(a)};o6.prototype.flushAnchors=o6.prototype.oi;o6.prototype.Ch=function(a){p6(this).YJ(a)};o6.prototype.flushDocoPositions=o6.prototype.Ch;o6.prototype.z4a=function(a){a=lhh(this,a);p6(this).W1(a)};o6.prototype.updateAnchors=o6.prototype.z4a;o6.prototype.H4a=function(a){p6(this).W1(a)};
o6.prototype.updateDocoPositions=o6.prototype.H4a;o6.prototype.ye=function(a){p6(this).jaa(Uc(a,this.Ja,this))};o6.prototype.deleteAnchors=o6.prototype.ye;o6.prototype.Ve=function(a){p6(this).jaa(a)};o6.prototype.deleteDocoPositions=o6.prototype.Ve;o6.prototype.i5a=function(a){this.Ym?this.Ym.Y1(a):this.Ha=a};o6.prototype.updateViewport=o6.prototype.i5a;o6.prototype.sf=da("Sa");o6.prototype.enableAnchoredDocoAnimations=o6.prototype.sf;
o6.prototype.Wn=function(){var a=this.D.J;return(a=a?this.C.ud(a):void 0)?N5(a):""};o6.prototype.getLinkedAnchor=o6.prototype.Wn;o6.prototype.Xn=function(){var a=this.D.J;return null===a?0:R5(this.C,a)};o6.prototype.getLinkedDoco=o6.prototype.Xn;o6.prototype.BU=function(){var a=this.D.J;return null===a?!1:!!this.C.F[a]};o6.prototype.isLinkedDocoDeleted=o6.prototype.BU;function lhh(a,b){var c={};Id(b,function(d,e){(e=this.Ja(e))&&(c[e]=d)},a);return c}o6.prototype.rna=function(a){this.C.Na=a};
o6.prototype.setActiveSuggestions=o6.prototype.rna;o6.prototype.yn=function(){var a=this.C.R;return a&&a.Yj()?a.getId():null};o6.prototype.getHighlightedSuggestionDocoId=o6.prototype.yn;o6.prototype.Ja=function(a){return(a=dch(this.C,a))?R5(this.C,a.getId()):0};o6.prototype.Ola=function(){if(!this.D.L)throw Error("Pane div not specificed in config.");this.ZBa=Na();chh(this).sb()&&(Jf(this.jt),this.jt=null);nUe(this.D.L,!1);chh(this).render(this.D.L)};o6.prototype.renderPaneSurface=o6.prototype.Ola;
o6.prototype.EU=function(){return chh(this).D.tIa()};o6.prototype.isPaneSurfaceRendered=o6.prototype.EU;function p6(a){a.Ym||(a.Ym=mhh(a),a.Ha&&(a.Ym.Y1(a.Ha),a.Ha=null));return a.Ym}function khh(a){if(!a.Ku){dhh(a);var b=p6(a);a.Ku=new dgh(a.F,b,u(a.C.V,a.C),b.oa())}return a.Ku}function dhh(a){if(!a.q3a){a.q3a=!0;var b=a.D.L,c=a.D.Ba;b&&(a.D.qc||gx(Rke(""),b),a.D.C.install(b));!c||b&&Uo(b)==Uo(c)||(a.D.qc||gx(Rke(""),c),a.D.C.install(c))}}
o6.prototype.Fla=function(){if(!this.D.Ba)throw Error("Anchor surface div not specified in config.");khh(this).sb()&&(Jf(this.Ku),this.Ku=null,mhh(this));nUe(this.D.Ba,!1);khh(this).render(this.D.Ba)};o6.prototype.renderAnchorSurface=o6.prototype.Fla;
function mhh(a){var b=a.D.bk,c=Ngh;"absolute"==b&&(c=deh);if(a.Ym&&(a.Ym instanceof c||a.Ym.AV()instanceof c))return a.Ym;var d=So(a.D.Ba);c=new c(a.F,d);d=a.D.O;!d||b&&"vertical"!=b||(c=new jfh(c,d));a.Ym&&(a.Ym.apa(c),Jf(a.Ym));a.Ym=c;a.Ym.LAa(a);a.qa(a.Ym);return a.Ym}
o6.prototype.Bka=function(){if(!this.D.Wa)throw Error("Instant docos div not specified in config.");this.Ut&&this.Ut.sb()&&(Jf(this.Ut),this.Ut=null);this.Ut||this.J["enable-gsuite-embedding"]||(this.Ut=new Qeh(this.F,So(this.D.Wa)),this.La.listen(this.Ut,"create-draft",this.qc),this.Ut.render(this.D.Wa))};o6.prototype.renderInstantDocosButton=o6.prototype.Bka;o6.prototype.y5b=function(a,b,c){this.Ut&&Reh(this.Ut,a,b,c)};o6.prototype.showInstantDocosButtonAt=o6.prototype.y5b;
o6.prototype.kb=function(a){this.Ut&&this.Ut.cf(a)};o6.prototype.hideInstantDocosButton=o6.prototype.kb;o6.prototype.nj=function(){return this.Ym?this.Ym.X1():null};o6.prototype.getAnchorSurfaceBounds=o6.prototype.nj;o6.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.U1(this.J))};o6.prototype.setOption=o6.prototype.setOption;o6.prototype.Hz=function(){if(this.jt){var a=this.jt;a.C.xa&&a.C.xa.focus()}};o6.prototype.grabFocus=o6.prototype.Hz;
o6.prototype.GMb=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.U1(this.J)};o6.prototype.setListener=o6.prototype.GMb;function nhh(a,b){return b&&a.C.V(b)?b.getId():null}o6.prototype.Cm=function(a){return(a=U5(this.C,a))?a.Xt()?a.Xt().getTime():null:null};o6.prototype.getDocoCreationTime=o6.prototype.Cm;
o6.prototype.rO=function(a,b){var c=C5(this.F);a=dch(this.C,a);a=nhh(this,a);var d=H7g(o5(a||""));b&&(b=this.D.Ja?this.jt.D.getId():khh(this).getId(),p5(d,b));c.xf("docos-before-highlight-doco").pb(q5(d));Z5(A5(this.F),a);c.xf("docos-highlight-doco").pb(q5(d))};o6.prototype.highlightAnchor=o6.prototype.rO;
o6.prototype.rb=function(a,b){var c=C5(this.F);a=U5(this.C,a);a=nhh(this,a);var d=H7g(o5(a||""));b&&(b=this.D.Ja?this.jt.D.getId():khh(this).getId(),d=p5(d,b));c.xf("docos-before-highlight-doco").pb(q5(d));Z5(A5(this.F),a);c.xf("docos-highlight-doco").pb(q5(d))};o6.prototype.highlightDoco=o6.prototype.rb;o6.prototype.J5a=function(a){var b=C5(this.F);a=U5(this.C,a);a=nhh(this,a);if(null!=a){var c=this.C.ud(a);c&&S5(this.Ba,L5(K5(J5(43045),c)));b.xf("docos-speak-doco").pb(a)}};
o6.prototype.verbalizeDoco=o6.prototype.J5a;o6.prototype.cE=function(a){return!!dch(this.C,a)};o6.prototype.hasDocoForAnchorId=o6.prototype.cE;o6.prototype.Qz=function(a){return!!U5(this.C,a)};o6.prototype.hasDoco=o6.prototype.Qz;o6.prototype.ws=function(a){return(a=dch(this.C,a))?a.Yj()?!r$g(this.C,a):a.isResolved():!1};o6.prototype.getResolvedForAnchorId=o6.prototype.ws;o6.prototype.sU=function(a){return(a=U5(this.C,a))?a.isResolved():!1};o6.prototype.isDocoResolved=o6.prototype.sU;
o6.prototype.jm=function(){var a=fch(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};o6.prototype.getDocoCounts=o6.prototype.jm;o6.prototype.nm=function(){return fch(this.C).C.clone().qb()};o6.prototype.getDocoCounts2=o6.prototype.nm;
o6.prototype.pj=function(){return p6(this).bpa().C.clone().qb()};o6.prototype.getAnchoredDocoCounts=o6.prototype.pj;o6.prototype.Qj=function(){return Od(this.C.L)};o6.prototype.getAnchors=o6.prototype.Qj;o6.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};o6.prototype.getDocoHandles=o6.prototype.getDocoHandles;o6.prototype.ib=function(){this.D.XJ()&&(this.O6||(this.O6=new Afh(this.F),this.qa(this.O6)),this.O6.setVisible(!0))};o6.prototype.displayNotificationControlDialog=o6.prototype.ib;
o6.prototype.Ec=function(a){return a.x};o6.prototype.Nc=function(a){return a.y};function ehh(a){if(a.pYa&&!f6g(a.F,"netIo")){var b=hfh(a.Na);b&&(a.F.Af("netIo",b),a.Xa&&(a.Xa.F=b),b=a.R,l9g(b.D)?b.D.Wd?tfh(b.F,"r"):sfh(b)&&ufh(b):b.L(null),f6g(a.F,"subscriptionManager")&&J$g(a.F).F.resolve())}}o6.prototype.Wd=function(a){this.R.H.get("netIo").C.rIa(a)};o6.prototype.connectBrowserChannel=o6.prototype.Wd;m=o6.prototype;
m.iRb=function(){var a=m6(this,"net-error");a&&a((new s5("net-error")).build());this.D.Tc&&(this.setOption("accessLevel","readonly"),a=chh(this),""==a.O&&(a.O="Commenting disabled due to a network error. Please reload the page.",Agh(a)))};
m.fRb=function(){var a=m6(this,"post-limit-error");a&&a((new s5("post-limit-error")).build());this.D.Tc&&(this.setOption("accessLevel","readonly"),a=chh(this),""==a.O&&(a.O="Document reached the comment limit. Make a copy of this document without resolved comments to continue commenting",Agh(a)))};m.QCb=function(){tfh(this,"r");this.Kta()};m.Kta=function(){this.pYa=!0;ehh(this)};m.gRb=function(a){$gh(this,"r",a)};o6.prototype.onReady=o6.prototype.gRb;o6.prototype.Ala=function(a){$gh(this,"s",a)};
o6.prototype.onInitialSyncSuccess=o6.prototype.Ala;o6.prototype.zla=function(a){$gh(this,"e",a)};o6.prototype.onInitialSyncError=o6.prototype.zla;o6.prototype.Vd=function(){var a=this.D.H["create-draft"];if(a){var b=(new s5("create-draft")).setApiEventArgs(new i6(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};
o6.prototype.qc=function(){var a=this.D.H["create-draft"];if(a){var b=(new s5("create-draft")).setApiEventArgs(new i6(!0,new Km(0,this.Ut.D.H),this.Ut.D.O)).build();a(b)}};function $gh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=je(d,c)}else a.ma[b]=c}function tfh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}o6.prototype.dgc=function(){this.Ib()};o6.prototype.tickle=o6.prototype.dgc;
o6.prototype.Ib=function(){a:{var a=this.R;if(l9g(a.D)){if(!a.O){if(!a.C&&!sfh(a))break a;ufh(a)}lfh(a.C,a.D.wea?1:void 0)}}};o6.prototype.sync=o6.prototype.Ib;o6.prototype.Ei=function(){vfh(this.R)};o6.prototype.fullSync=o6.prototype.Ei;o6.prototype.yd=function(){var a=this.R;l9g(a.D)&&(a.C.J=!0)};o6.prototype.blockFutureSync=o6.prototype.yd;o6.prototype.Vgc=function(){var a=this.R;l9g(a.D)&&(a.C.J=!1)};o6.prototype.unblockFutureSync=o6.prototype.Vgc;
o6.prototype.wU=function(){var a=this.R;return l9g(a.D)?a.C.J:!1};o6.prototype.isFutureSyncBlocked=o6.prototype.wU;o6.prototype.xs=function(){var a=this.D;return null!=a.V1?a.V1:6E4};o6.prototype.getRetryBackoffThreshold=o6.prototype.xs;o6.prototype.rU=function(){return this.D.faa};o6.prototype.isBrowserChannelEnabled=o6.prototype.rU;o6.prototype.uU=function(){return!!Dj(this.D.Di,30)};o6.prototype.isDocsStreamHeaderEnabled=o6.prototype.uU;o6.prototype.DU=function(){return m9g(this.D)};
o6.prototype.isNewDocosStreamPaneUiEnabled=o6.prototype.DU;o6.prototype.isBadgingEnabled=function(){return this.D.fK()};o6.prototype.isBadgingEnabled=o6.prototype.isBadgingEnabled;o6.prototype.aM=function(){return $bh(this.C)};o6.prototype.hasPendingContent=o6.prototype.aM;m=o6.prototype;
m.a6b=function(a){var b=this,c=a.data;a=J9g(I9g(43011),c.Uj);var d=null!=c.Xm;d&&K9g(a,c.Xm);f$g(c$g(this.F),L9g(a));qq(Veh(this.H,c.Uj),function(e){if(e){e=(e=b.C.R)&&e.getId()!==c.Uj;e||(b.rya(new ot(d?new E7g("",void 0,void 0,void 0,c.Xm):n5())),b.Lwa(new ot(d?new E7g("",void 0,void 0,void 0,c.Xm):n5())));var f=m6(b,"deleted");if(f&&c.Xm&&c.Hp){var h=(new s5("deleted")).addAnchorId(c.Xm).addDocoHandle(c.Hp).setUserInitiated(!0).build();f(h);b.XS=null}e&&(b.XS=b.C.R)}})};
m.dRb=function(a){a=a.data;ohh(this,a.Hp,a.Uj,a.KS)};m.p6b=function(a){a=a.data;ohh(this,a.Hp,a.Uj,a.KS,a.Sjb)};function ohh(a,b,c,d,e){var f=m6(a,"before-doco-deleted");if(f&&b){var h=N5(U5(a.C,b));d=e?new Ieh(d,e):new Beh(d);b=(new yeh("before-doco-deleted")).addAnchorId(h).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();f(b);if(b.C)return}phh(a,c,!0,e)}
m.m6b=function(a){var b=a.data;if((a=m6(this,"converted"))&&b){var c=N5(U5(this.C,b.Hp)),d=new h6(c,b.YXa,b.KS);b=(new yeh("converted")).addAnchorId(c).addDocoHandle(b.Hp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.cRb=function(a){(a=U5(this.C,a))&&phh(this,a.getId(),!1)};o6.prototype.deleteDoco=o6.prototype.cRb;function phh(a,b,c,d){var e=a.C.ud(b),f=R5(a.C,b);e=N5(e);var h=a.H;b=j6(h,u(h.adb,h,b,d));qq(b,u(a.S5a,a,e,f,c))}
o6.prototype.S5a=function(a,b,c,d){if(d){d=m6(this,"before-selected");var e=m6(this,"selected"),f=m6(this,"deleted");if(a&&b){if(d){var h=(new s5("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new s5("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new s5("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.XS=null}}};o6.prototype.Fhc=function(a){return j$g(this.L,a)};o6.prototype.undoDeleteDoco=o6.prototype.Fhc;
o6.prototype.Ojb=function(a){this.Wa=a;P(khh(this).getElement(),a)};o6.prototype.setDocosGutterVisibility=o6.prototype.Ojb;o6.prototype.tU=g("Wa");o6.prototype.isDocosGutterVisible=o6.prototype.tU;o6.prototype.jg=function(){var a=this.Rb;a.C=a.H.D.C;a.F.setOption("accessLevel","readonly")};o6.prototype.enterReanchorMode=o6.prototype.jg;o6.prototype.Nma=function(){var a=this.Rb;a.D.ma=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};o6.prototype.resetReanchorMode=o6.prototype.Nma;
o6.prototype.pU=function(a,b){var c=this.H;a=j6(c,u(c.jgc,c,a));qq(a,b)};o6.prototype.interceptingUndoDeleteDoco=o6.prototype.pU;o6.prototype.sPb=function(a,b){this.L.qIa(a,new d5(b))};o6.prototype.setSuggestionQuote=o6.prototype.sPb;o6.prototype.oU=function(a,b){var c=this.H;b=new d5(b);j6(c,u(c.Ncc,c,a,b))};o6.prototype.interceptingSetSuggestionQuote=o6.prototype.oU;
o6.prototype.pz=function(a){a=U5(this.C,a);if(!a)return null;if(!a.Yj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.x3()};o6.prototype.getSuggestionQuote=o6.prototype.pz;o6.prototype.Yg=function(a){return this.Oa?oeh(this.Oa,a):new meh(Up())};o6.prototype.findAssignee=o6.prototype.Yg;o6.prototype.lN=function(){return 0<this.C.Ha.size};o6.prototype.hasUnseenDocos=o6.prototype.lN;o6.prototype.aac=function(){K$g(this.F).C=!0};o6.prototype.startBatchEvent=o6.prototype.aac;
o6.prototype.Of=function(){var a=K$g(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};o6.prototype.endBatchEvent=o6.prototype.Of;m=o6.prototype;m.hRb=function(a){a=a.data;var b=this.H;b=j6(b,u(b.bbc,b,a.C,a.D,a.F));qq(b,u(this.u$b,this,a))};
m.u$b=function(a,b){if(b){b=m6(this,"before-selected");var c=m6(this,"selected");if(c){var d=this.C.ud(a.C),e=R5(this.C,a.C);d&&d.ey()&&e&&(a.D?(b&&(a=(new s5("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new s5("selected")).setUserInitiated(!0).build(),c(a),this.XS=null):(b&&(a=(new s5("before-selected")).addAnchorId(N5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new s5("selected")).addAnchorId(N5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.XS=d))}}};
m.w9b=function(a){a=a.data;var b=this.H;j6(b,u(b.bhc,b,a.C,a.D))};m.x9b=function(a){a=a.data;var b=this.H;j6(b,u(b.chc,b,a.C,a.D,a.F))};m.m9b=function(a){this.setOption("sortpaneby",a.data.Aec);(a=this.D.Na)&&a(43086)};m.R5b=function(a){var b=this.D.Of;b&&(a=this.C.ud(a.data.Uj))&&b(N5(a),!0)};
function qhh(a,b,c){var d=m6(a,c);if(d){var e=a.C.ud(b.C)||null,f=b.F;if(e!=a.XS||"number"===typeof f){var h=new s5(c),k=R5(a.C,b.C);e&&e.ey()&&k&&h.addAnchorId(N5(e)).addDocoHandle(k);k=new l5;var l=b.R;null!=l?k=new weh(l):"number"===typeof f?k=new q7g(f):void 0!==b.H&&(k=new Jeh(b.H));f=!!e&&!a.C.V(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.XS=e)}}m.rya=function(a){qhh(this,a.data,"before-selected")};
m.Lwa=function(a){var b=a.data;qhh(this,b,"selected");if(a=this.C.ud(b.C)){b="number"===typeof b.F?4:b.D==khh(this).getId()?1:b.D==chh(this).D.getId()?2:3;var c=this.Ba;a=K5(J5(43044),a);a.H=b;S5(c,L5(a))}};m.H7b=function(a){a=a.data;var b=a.C,c=this.H;j6(c,u(c.x9a,c,a.D,a.F,null,b?b:void 0))};m.A9b=function(a){var b=a.data;if(a=m6(this,"write-feedback"))b=(new s5("write-feedback")).setUserInitiated(!0).setApiEventArgs(new Xgh(b.source)).build(),a(b)};
m.u6b=function(){var a=m6(this,"disable-smart-todo-feature");if(a){var b=(new s5("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.eRb=function(a){var b=this,c=a.data;qq(Weh(this.H,c.ueb,c.Xm,c.text,c.quote,c.Fja,c.L0),function(d){if(0<d){var e=c.Xm,f=c.Hp,h=m6(b,"posted");h&&e&&f&&(e=(new s5("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.rya(new ot(n5()));b.Lwa(new ot(n5()))}return d})};
m.D7b=function(a){var b=m6(this,"hover");if(b){a=a.data;var c=K7g("hover").setNonAnchored(!a.tOb).setUserInitiated(!0);if(a.AOb){var d=this.C.ud(a.Uj);c.addAnchorId(d?N5(d):"");c.addDocoHandle(R5(this.C,a.Uj))}b(c.build())}};m.A7b=function(a){if("dd"==a.type){var b=m6(this,"deleted");if(b&&a.C&&a.D&&(a.Br||this.D.Ha)&&a.R&16){var c=(new s5("deleted")).addDocoHandle(a.D);a.Br&&c.addAnchorId(a.Br);a=c.build();b(a)}}};
m.z7b=function(a){if("bu"==a.type){var b=K7g("created");this.xa&&(b.setApiEventArgs(new Deh(this.xa,a.C[0].Xm)),this.xa=null);var c=K7g("resolved"),d=K7g("unresolved");b=Heh(b,a.C,8);c=Heh(c,a.C,2);d=Heh(d,a.C,4);rhh(this,"created",b);rhh(this,"resolved",c);rhh(this,"unresolved",d)}};m.Q7b=function(a){if("p"==a.type&&(a=m6(this,"pending"))){var b=(new s5("pending")).setUserInitiated(!0).build();a(b)}};
m.F5b=function(){var a=m6(this,"view-updated");if(a){var b=(new s5("view-updated")).setUserInitiated(!0).build();a(b)}};function rhh(a,b,c){a=m6(a,b);!c.isEmpty()&&a&&a(c.build())}function m6(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ia=function(){delete this.Ym;delete this.D;delete this.XR;delete this.L;delete this.Xa;delete this.La;delete this.Za;delete this.Na;delete this.O6;delete this.Da;delete this.C;delete this.Pa;Jf(this.Ut);delete this.Ut;Jf(this.Ku);delete this.Ku;Jf(this.jt);delete this.jt;o6.Ta.Ia.call(this);Jf(this.F);delete this.F};pa("Docos",o6,void 0);pa("Docos.Point",Km,void 0);pa("Docos.Point.getX",o6.prototype.Ec,void 0);pa("Docos.Point.getY",o6.prototype.Nc,void 0);
pa("Docos.AbstractAlteredDocoArgs",Adh,void 0);pa("Docos.NewDraftArgs",Gdh,void 0);pa("Docos.LayoutType.ABSOLUTE","absolute",void 0);pa("Docos.LayoutType.VERTICAL","vertical",void 0);pa("Docos.UiVersion.LEGACY","legacy",void 0);pa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);pa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);pa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);pa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
pa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);pa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);pa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);pa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);pa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);pa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);pa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
pa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);pa("Docos.OptionName.DRIVE_ID","drive-id",void 0);pa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);pa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);pa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);pa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);pa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
pa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);pa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);pa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);pa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);pa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);pa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);pa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
pa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);pa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);pa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);pa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);pa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
pa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);pa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);pa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);pa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);pa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);pa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);pa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
pa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);pa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);pa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);pa("Docos.OptionName.IO","i",void 0);pa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);pa("Docos.OptionName.KEY_DATA","kd",void 0);pa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
pa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);pa("Docos.OptionName.LAYOUT","layout",void 0);pa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);pa("Docos.OptionName.LINK_OPENER","link-opener",void 0);pa("Docos.OptionName.LISTENERS","listeners",void 0);pa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);pa("Docos.OptionName.LOCAL","l",void 0);pa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
pa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);pa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);pa("Docos.OptionName.OFFLINE","offline",void 0);pa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);pa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);pa("Docos.OptionName.PANE_DIV","panediv",void 0);pa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);pa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
pa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);pa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);pa("Docos.OptionName.QUOTE_FN","quotefn",void 0);pa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);pa("Docos.OptionName.READONLY","readonly",void 0);pa("Docos.OptionName.RESOLVE","resolve",void 0);pa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);pa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
pa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);pa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);pa("Docos.OptionName.SORT_PANE","sortpane",void 0);pa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);pa("Docos.OptionName.STORAGE","storage",void 0);pa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);pa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
pa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);pa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);pa("Docos.OptionName.SYNC_ONCE","so",void 0);pa("Docos.OptionName.UI_VERSION","ui-version",void 0);pa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);pa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
pa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);pa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);pa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);pa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);pa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);pa("Docos.EventType.CONVERTED","converted",void 0);
pa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);pa("Docos.EventType.CREATED","created",void 0);pa("Docos.EventType.DELETED","deleted",void 0);pa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);pa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);pa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);pa("Docos.EventType.HOVER","hover",void 0);pa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
pa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);pa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);pa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);pa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);pa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);pa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);pa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
pa("Docos.EventType.PENDING","pending",void 0);pa("Docos.EventType.POSTED","posted",void 0);pa("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);pa("Docos.EventType.REANCHOR","reanchor",void 0);pa("Docos.EventType.RESOLVED","resolved",void 0);pa("Docos.EventType.SELECTED","selected",void 0);pa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);pa("Docos.EventType.UNSEEN_DOCOS_UPDATED","unseen-docos-updated",void 0);
pa("Docos.EventType.UNRESOLVED","unresolved",void 0);pa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);pa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);pa("Docos.AccessLevel.READONLY","readonly",void 0);pa("Docos.AccessLevel.SUGGEST","suggest",void 0);pa("Docos.AccessLevel.FULL","full",void 0);pa("Docos.NewDocoType",ctd,void 0);pa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);pa("Docos.NewDocoType.DISCUSSION","discussion",void 0);
pa("Docos.NewDocoType.DRAFT","draft",void 0);pa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);pa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);pa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);pa("Docos.prototype.dispose",o6.prototype.dispose,void 0);pa("Docos.CountField.ACCEPTED","accepted",void 0);pa("Docos.CountField.DRAFT","draft",void 0);pa("Docos.CountField.OPEN","open",void 0);pa("Docos.CountField.REJECTED","rejected",void 0);pa("Docos.CountField.RESOLVED","resolved",void 0);
pa("Docos.CountField.TOTAL","total",void 0);pa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function shh(a){a=void 0===a?[]:a;this.D=iBd();this.C={};a=ja(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}m=shh.prototype;m.add=function(a){this.C[this.D.qb(a)]=a};m.has=function(a){return Pd(this.C,this.D.qb(a))};m.isEmpty=function(){return Ud(this.C)};m.clear=function(){Vd(this.C)};m.Kc=function(a){for(var b in a.C)Wd(this.C,b)};m.Su=function(a){var b=new shh,c=Jd(this.C,function(e,f){return!Pd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
m.Cw=function(a){var b=new shh,c=Jd(this.C,function(e,f){return Pd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};m.forEach=function(a){Id(this.C,a)};function thh(a,b,c,d,e,f){Nqc.call(this,a,b,c,d,e,2,0,f)}t(thh,Nqc);thh.prototype.J=function(a){return Pqc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function uhh(a,b,c,d,e,f,h){h=void 0===h?So():h;Oo.call(this);this.L=null;this.Pa="none";this.xa=500;this.ma=!1;this.F=a;this.Sa=b;this.H=c;this.Ha=d;this.O=e;this.C=f;this.V=b.Ja;this.D=b.C;this.R=iBd();this.$a=h;this.J=new shh;this.Oa=!0;this.Ba=new bm;this.Na=new bm;this.Ja=new bm;this.Ua=new Po(this);this.qa(this.Ua);this.Da=z(y(),"docs-egms");vhh(this);this.Ua.listen(this.D,"na",this.RZb).listen(this.C,"ce",this.Wqb).listen(this.C,"de",this.Yqb).listen(this.C,"be",this.Uqb).listen(this.C,"fe",
this.Aub).listen(this.C,"ge",this.OZb).listen(this.C,"ee",this.yub).listen(this.C,"oe",this.QZb).listen(this.C,"je",this.Zwb).listen(this.C,"me",this.PZb).listen(this.C,"ie",this.avb).listen(this.C,"ne",this.yGb).listen(this.C,"ae",this.xub).listen(this.C,"le",this.Bub).listen(this.C,"he",this.Dub).listen(this.C,"ke",this.pEb);whh(this)}t(uhh,Oo);m=uhh.prototype;m.Dub=function(){xhh(this,!0)};m.xub=function(a){var b=a.C;b&&yhh(this,[b],!0);zhh(this,a.C)};
m.Bub=function(a){var b=a.C;b&&Ahh(this,[b]);zhh(this,a.C)};function zhh(a,b){var c=h7g(a.D,b);c?(b=iL(a.V,c),a=a.Ha,c=c.$b(),b=Y5g(b).length,b6g(LTe(a,c),b),KQ(a)):Bhh(a)}m.pEb=function(){xhh(this,!0);this.C.C&&Chh(this)};m.Yqb=function(){xhh(this,!0)};m.Uqb=function(a){a.C?(a=a.C,this.ma=!0,c6g(this.F,this.R.qb(a)),this.ma=!1):xhh(this,!0)};m.QZb=function(){w7g(this)};
function w7g(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?Chh(a):b?(Dhh(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,c6g(a.F,a.R.qb(b)),a.ma=!1)):c||xhh(a,!0)}m.Zwb=function(){xhh(this,!1)};m.PZb=function(){xhh(this,!0)};function xhh(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions(d6g(c,{}));b&&c6g(a.F,"");P(a.O,!1);Jf(a.L);Ehh(a);Fhh(a);a.C.C||Ghh(a);a.Ha.d_(a.C.C);whh(a)}m.isEmpty=function(){return this.J.isEmpty()&&this.Na.isEmpty()&&this.Ba.isEmpty()&&this.Ja.isEmpty()};
function whh(a){var b=VJ(a.H);b&&(a.xa=hrc(b.C)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.xa))}function Fhh(a){Kf(a.Na.Jd());a.Na.clear()}function Ehh(a){Kf(a.Ba.Jd());a.Ba.clear()}function Ghh(a){Qc(a.Ja.Jd(),function(b){iy(b,"waffle-docos-target-cell-header")});a.Ja.clear()}m.Wqb=function(a){this.C.D||this.C.C||(a=a.D,a.length?Dhh(this,a,!0):Hhh(this,!1))};function Dhh(a,b,c){c=void 0===c?!1:c;c5(a.F)&&a.Oa||Ahh(a,Nd(a.J.Su(new shh(b)).C));yhh(a,b,c)}
function Chh(a){var b=MI(a.D);b&&(b=iL(a.V,b),Dhh(a,Y5g(b),!0),Ihh(a),Jhh(a))}m.yub=function(a){this.Oa=!1;Khh(this,a.C,a.cell);this.Oa=!0};function Khh(a,b,c){Dhh(a,[b],!0);Ehh(a);Fhh(a);Ghh(a);Lhh(a,c)}m.OZb=function(a){Mhh(this,a.C,a.cell)};
function Mhh(a,b,c,d){d=void 0===d?!1:d;var e=h7g(a.D,b);if(e){var f=e.$b();if(Nhh(a,b)){var h=Ohh(a,c);qq(s3b(CI(a.D,f).C,function(){return e.Sq(h)}),function(){var k=this;if(!Phh(this,c)||h.equals(e.F)||this.ma){cJ(SI(e,c))&&sPc(VJ(this.H)).setVisible(!1);Qhh(this,c);Khh(this,b,c);this.Ha.d_(this.C.C);if(d){var l=new Jq(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("Ci")}else DI(e,h),Mhh(this,b,c,d)},a)}else a.D.bC(f,function(){a.F.C.grabFocus();Mhh(a,b,c,!0)})}else a.dispatchEvent("Ci")}
function Qhh(a,b){var c=MI(a.D),d=VJ(a.H);if(!a.ma&&c&&d){var e=d.C;d=d.F;var f=RN(e,"waffle",!1,!1),h=a.Da?282:240;if(!e.kc()){var k=$o("docs-docos-activitybox");k&&fx(k)&&(h+=f.right-dx(k).left)}k=Rhh(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.xa;if(!(0>=b&&0>=a)){d=zn(d.C);for(d=en(d.y,d.x,d.y,d.x);Zxc(e,d).height<a;)d=iBa(d,1);for(;Zxc(e,d).width<b;)d=jBa(d,1);e=d.height;a=d.width;xJ(c,l_b(c,e_b(c,qJ(c),a,e)))}}}function Phh(a,b){a=MI(a.D);return w2b(a.Wj("r"),b.y)&&w2b(a.Wj("c"),b.x)}
function Ohh(a,b){return tI(MI(a.D),b.y,b.x)||fn(b)}
m.Aub=function(a){if(!E_b(this.D)&&!this.C.C&&(Ehh(this),Nhh(this,a.C)&&(Hhh(this,!0),this.C.D!=a.C))){var b=this.R.qb(a.C),c=this.F;c.C.isDocoResolved(zR(c.D,b))?(b=a.cell,a=VJ(this.H),(c=MI(this.D))&&a&&b&&(b=tI(c,b.y,b.x)||fn(b),b=FTe(a,b,"waffle-docos-target-cell-resolved-rect"),lP(a.V,"discussions",b,!0),b.setVisible(!0),this.Ba.add(b))):(c=a.cell,a=VJ(this.H),(b=MI(this.D))&&a&&c&&(c=tI(b,c.y,c.x)||fn(c),b=new thh(b,a.R,a.C,a.F,new Qqc(c),this.$a),lP(a.V,"discussions",b,!0),this.Ba.add(b),b.setVisible(!0)))}};
function Shh(a,b){b&&(Zx(b,"waffle-docos-target-cell-header"),a.Ja.add(b))}function Lhh(a,b){var c=VJ(a.H),d=MI(a.D);d&&c&&b&&(d=tI(d,b.y,b.x)||fn(b),d=FTe(c,d,"waffle-docos-target-cell-rect"),lP(c.V,"discussions",d,!0),a.Na.add(d),d.setVisible(!0),d.getElement()&&a.Ua.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.yk=b;c.dispatchEvent(e)}))}
function Ihh(a){Fhh(a);var b={};a.J.forEach(function(c){c=zS(Thh(c));var d=c.x+"-"+c.y;b[d]||(Lhh(a,c),b[d]=!0)})}function Jhh(a){Ghh(a);var b=MI(a.D),c=VJ(a.H);if(b&&c){var d=c.R;c=c.F;b=iL(a.V,b);var e=Cxc(c,"r"),f=ZN(c,"r"),h=Cxc(c,"c"),k=ZN(c,"c");Qc(Y5g(b),function(l){l=zS(l);l.x>=h&&l.x<=k&&Shh(a,d.fb.getElement(UN(d,"ch-",null,d.hb.zG(l.x))));l.y>=e&&l.y<=f&&Shh(a,d.fb.getElement(UN(d,"rh-",d.hb.r3(l.y),null)))})}}m.yGb=function(){Bhh(this)};
function Bhh(a){Qc(Od(a.V.C),function(b){var c=g7g(a.D,b);if(c){var d=iL(a.V,c);c=a.Ha;d=Y5g(d).length;b6g(LTe(c,b),d);KQ(c)}})}m.avb=function(a){if(a.C){var b=this.R.qb(a.C);e6g(this.F,b,Rhh(this,a.cell))}};
function yhh(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.qb(k);var n=a;if(VJ(n.H)&&Nhh(n,k)){var q=zS(k);Uhh(n,Ohh(n,q))?(q=n.C.D,q=!!q&&n.R.qb(q)==n.R.qb(k),n=n.C.C||q||$c(n.C.F.Jd(),k)):n=!1}else n=!1;n?(n=zS(k),n=Ohh(a,n),q=bQe(n),e[q]=e[q]||0,d[l]=Rhh(a,zn(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||Hhh(a,!0);Ud(d)||(b=a.F,b.C.updateDocoPositions(d6g(b,d)));c5(a.F)||Ahh(a,f);c&&Vhh(a)}
function Ahh(a,b){var c=a.J.Cw(new shh(b));if(!c.isEmpty()){a.J.Kc(c);b=a.F;c=Od(c.C);for(var d=[],e=0;e<c.length;e++)d.push(zR(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&Hhh(a,!1)}
function Rhh(a,b,c){c=void 0===c?0:c;var d=VJ(a.H),e=MI(a.D),f=d.C,h=f.kc(),k=Ohh(a,b),l=gN(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,r=Lm(a.C.H,b),w=cJ(SI(e,b));q||r||!w?(b=n+(a.Da?150:125),0<b-hrc(f)&&(e=sI(e,"r")-1,nO(f,b,"r","waffle")>=e&&(n-=50))):(q=sPc(d),r=q.L,vPc(d,zn(nJ(e,fn(b))),q,q.Oa),e=q.H.height?q.Na:0,b=q.J.height,d=Math.min(src.height,e+b),b&&(d=d+42+trc.top,d+=trc.bottom),e&&(d=d+12+trc.top,d+=trc.bottom),e=d,Eqc(q,r),n+=e);a=a.Da?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>grc(f);l=h?c>grc(f):0>c;a&&!l&&(k=c);return new Km(h?dN(f,k,"c"):k,n)}function Nhh(a,b){b=h7g(a.D,b);a=MI(a.D);return!!b&&b==a}function Uhh(a,b){if(!b)return!1;var c=VJ(a.H).F,d=!1,e=zn(b);eBa(b,function(f,h){var k;if(k=f==e.y)k=null!=Bxc(c,new Km(h,f));return k?d=!0:!1});return d}m.RZb=function(){vhh(this)};
function vhh(a){var b=VJ(a.H);b&&(a.$a.appendChild(b.Hk,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.C.kc()),P(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function Hhh(a,b){var c=OUe(a.O);c="string"===typeof c?1:c;fx(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Jf(a.L),P(a.O,b)):a.L&&My(a.L)&&a.Pa==d||(Jf(a.L),P(a.O,!0),a.L=new QB(a.O,c,"in"==d?1:0,250),a.Pa=d,"out"==d&&Io(a.L,"finish",function(){xhh(a,!0);var e=VJ(a.H);e&&gP(e)}),a.L.play())}
function Vhh(a){a.J.forEach(function(b){var c=a.R.qb(b),d=a.F.getDocoMaxHeight(c);b=Thh(b);b=zS(b);b=Rhh(a,b);var e=VJ(a.H),f=e.C,h=e.Ve;h=h.FQ(h.tW()-1);var k=MI(a.D).V.y;e=ZN(e.F,"r");f=kN(f,new Ym(k,e),"r");f+=h;h=hO(VJ(a.H).C,"c");b=Ll(f-(b.y-h),a.Da?150:125,a.xa);d!=b&&(b<a.xa||d)&&(d=a.F,d.C.setDocoMaxHeight(zR(d.D,c),b))})}function Thh(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
m.Ia=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.$a;delete this.Pa;delete this.Ua;delete this.D;delete this.Sa;Jf(this.L);delete this.L;Fhh(this);Ehh(this);Ghh(this);Oo.prototype.Ia.call(this)};function Whh(){IJ.apply(this,arguments)}t(Whh,IJ);m=Whh.prototype;m.$4b=function(a,b,c,d,e){return new X6g(a,b,c,d,void 0,e,SD)};m.slb=function(){return u7g};m.tlb=function(){return b7g};m.ulb=function(){return uhh};m.P_b=function(){return new Cof};MJ("docos",Whh);
