function Aqh(a,b){no(a.C,512)?b():(so(a.UV,a.ma,function(){b()}),a.create())}function Bqh(a){var b=Kc(y(),"drive-host");return rKa(b,a,!0)}function Cqh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}function Dqh(a){J(this,a,0,-1,null,null)}v(Dqh,I);m=Dqh.prototype;m.ea=function(){var a=new E;Cqh(this,a);return Y(a)};m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.getType=function(){return K(this,2)};m.setType=function(a){return L(this,2,a)};
m.clearType=function(){return L(this,2,void 0)};m.hasType=function(){return null!=K(this,2)};function Eqh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&qj(b,3,c);c=K(a,4);null!=c&&qj(b,4,c)}function x6(a){J(this,a,0,-1,null,null)}v(x6,I);x6.prototype.ea=function(){var a=new E;Eqh(this,a);return Y(a)};x6.prototype.D=function(){return K(this,1)};function Fqh(a,b){return L(a,1,b)}x6.prototype.O=function(){return K(this,2)};
function Gqh(){Oo.call(this);this.C=3;this.D=null;this.J=!1;this.H=Yp()}t(Gqh,Oo);Gqh.prototype.L=function(){return this.H.C.then(function(a){if(null!=a)throw a;})};function Hqh(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.H.resolve(null);a.dispatchEvent("R")}Gqh.prototype.F=function(){if(!this.D)return!1;var a=this.D.D();return 1==a||6==a};
function Iqh(a){a?oa.localStorage.setItem("docs-wownoi","true"):oa.localStorage.removeItem("docs-wownoi")}function Jqh(a){a?oa.localStorage.setItem("docs-rops","true"):oa.localStorage.removeItem("docs-rops")}function Kqh(a){a?oa.localStorage.setItem("docs-ropd","true"):oa.localStorage.removeItem("docs-ropd")}function Lqh(a,b,c,d,e,f){b=iPe("Extension needed",b,c,d,e,void 0,f,void 0);a.Fi(b);b.focus();return b}
function Mqh(a,b,c){A.call(this);this.D=a;this.H=c||"To enable offline sync, install the Docs Offline Chrome extension to your browser.";this.Xa=b;this.F=new aR;this.C=null}t(Mqh,A);function Nqh(a){return Promise.resolve(Ygd(a.F)).then(function(){return fr()?!0:Oqh(a)})}
function Oqh(a){a.C&&a.C.setVisible(!1);var b=(new Cy).Cf({key:"ok",caption:"Install"},!0).Cf(Jy,!1,!0);return new Promise(function(c,d){a.C=Lqh(a.D,a.H,function(){return Pqh(a).then(c,d)},function(){return c(!1)},a,b);Qy(a.C,b.C)})}function Pqh(a){return Promise.resolve($gd(a.F)).catch(function(b){b=sl(b);gq(a.Xa,b);ekd(b);return!1})}Mqh.prototype.Ia=function(){this.C&&($B(this.D,this.C),Jf(this.C))};function Qqh(a){J(this,a,0,-1,null,null)}v(Qqh,I);m=Qqh.prototype;
m.ea=function(){var a=new E;Rqh(this,a);return Y(a)};function Rqh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&b.D(3,c);c=K(a,4);null!=c&&qj(b,4,c);c=K(a,5);null!=c&&qj(b,5,c);c=K(a,6);null!=c&&b.D(6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&G(b,8,c);c=K(a,9);null!=c&&qj(b,9,c);c=K(a,10);null!=c&&G(b,10,c);c=K(a,11);null!=c&&qj(b,11,c);c=K(a,12);null!=c&&qj(b,12,c);c=K(a,13);null!=c&&G(b,13,c);c=K(a,14);null!=c&&G(b,14,c)}
m.getId=function(){return K(this,1)};m.Jc=function(a){return L(this,1,a)};m.getTitle=function(){return K(this,2)};m.setTitle=function(a){return L(this,2,a)};m.Lp=function(){return K(this,3)};function Sqh(a){J(this,a,0,-1,null,null)}v(Sqh,I);Sqh.prototype.ea=function(){var a=new E;Tqh(this,a);return Y(a)};function Tqh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,4);null!=c&&b.D(4,c);c=K(a,2);null!=c&&b.D(2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,5);null!=c&&G(b,5,c)};function Uqh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;A.call(this);var e=this;this.uu=b||this;this.D=a;this.C=new qo;this.qa(this.C);this.La=new Po(this);this.qa(this.La);this.F=c;this.H=d;a instanceof mr?(this.La.listen(a,"C",function(){return Vqh(e)}),this.La.listen(a,"D",function(){return Wqh(e)})):(ro(this.C,this.D.tQ(),function(){return Vqh(e)}),ro(this.C,this.D.JK(),function(){return Wqh(e)}))}t(Uqh,A);function Xqh(a,b){a.F.push(b)}
function Vqh(a){a.F.forEach(function(b){try{b.call(a.uu)}catch(c){}})}function Wqh(a){a.H.forEach(function(b){try{b.call(a.uu)}catch(c){}})};function Yqh(a,b){A.call(this);this.H=a;this.O=this.H.zn();this.xa=b;this.ma=new Uqh(this.H,this,[this.Ba],[this.V]);this.qa(this.ma);this.R=this.F=0;this.D=this.J=2E4;this.C=new Jq(this.Da,0,this);this.qa(this.C);this.L=!1}t(Yqh,A);function Zqh(a){if(15<=a.F)return a.C.stop(),!1;if(!a.O&&!a.H.zn()&&3<=a.R)return!0;$qh(a);return!0}function $qh(a){15<=a.F||a.L||a.C.Vb()||a.C.start(a.D)}
Yqh.prototype.Da=function(){this.xa();this.O||this.H.zn()||this.R++;this.F++;144E5!=this.D&&(this.D=Math.min(this.D+qza(50,100)/100*this.J,144E5),this.J*=2)};Yqh.prototype.Ba=function(){15<=this.F||(this.D=qza(0,2E4),this.J=2E4,$qh(this))};Yqh.prototype.V=function(){this.C.stop()};function arh(a){J(this,a,0,-1,null,null)}v(arh,I);arh.prototype.ea=function(){return Y(new E)};var brh=new yj(102041228,arh);yF[102041228]=new zj(brh,ba(),function(a,b){for(;jj(b)&&!ij(b);)kj(b);return a});xF[102041228]=brh;function crh(a){J(this,a,0,-1,null,null)}v(crh,I);crh.prototype.ea=function(){return Y(new E)};var drh=new yj(108529910,crh);yF[108529910]=new zj(drh,ba(),function(a,b){for(;jj(b)&&!ij(b);)kj(b);return a});xF[108529910]=drh;function erh(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)}t(erh,Error);function frh(a){J(this,a,0,-1,null,null)}v(frh,I);frh.prototype.ea=function(){var a=new E;grh(this,a);return Y(a)};function grh(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&H(b,2,c)}var hrh=new yj(122453513,frh);yF[122453513]=new zj(hrh,grh,function(a,b){for(;jj(b)&&!ij(b);)switch(b.D){case 1:var c=mj(b);L(a,1,c);break;case 2:c=lj(b);L(a,2,c);break;default:kj(b)}return a});xF[122453513]=hrh;function irh(a,b,c,d,e,f,h,k,l,n){l=void 0===l?!1:l;n=void 0===n?!1:n;A.call(this);var q=this;this.C=a;this.V=Yp();jrh(this);this.L=this.O=null;this.Pa=h;this.xa=new Uqh(h,this);this.qa(this.xa);this.D=b;this.Xa=k||null;this.ma=!1;this.F=null;l&&(this.F=new Yqh(this.Pa,function(){return krh(q)}),this.qa(this.F));this.J=Yp();this.R=Yp();this.La=new Po(this);this.qa(this.La);this.Ja="user_"+c;this.Ba=d;this.Ha=e;this.Da=f;this.Na=!1;this.H=n?new aq(25E3):null;n&&this.La.listen(this.H,"tick",function(){return lrh(q)})}
t(irh,A);m=irh.prototype;m.start=function(){var a=this;this.ma||(this.ma=!0,mrh(this).then(function(){a.J.resolve();if(a.F){var b=a.F;b.C.stop();b.L=!0}},function(b){b=sl(b);var c=new erh(b.message,a.F?a.R.C:void 0);tl(c,{originalStackTrace:b.stack});tl(c,{offlineManagerInitializationFailure:!0,isRetry:!1});a.J.reject(c);a.F?Zqh(a.F):a.D.H.resolve(c)}));return this.J.C};
function mrh(a){return a.C.init().then(function(){return nrh(a.C)}).then(function(b){b.connect();a.V.resolve(b);return orh(a)}).then(function(){Xqh(a.xa,function(){prh(a)});a.Na=!0})}function krh(a){a.C.reset();mrh(a).then(function(){var b=a.F;b.C.stop();b.L=!0;a.R.resolve(a.F.F)}).Vh(function(){if(!Zqh(a.F)){var b=tl("OfflineService start retries exhausted",{offlineManagerInitializationFailure:!0,isRetry:!0});a.R.reject(b)}})}
function qrh(a,b){if(2!=a.D.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.D.C);Hqh(a.D,4);return rrh(a.C,b).then(function(c){var d=c.D();return Up().then(function(){return 1==d||2==d?y6(a,1):y6(a,2)}).then(function(){return c})})}
function orh(a){return srh(a.C,6E4).then(function(b){switch(K(b,1)){case 1:return trh(a.C).Vh(function(c){a.Xa&&gq(a.Xa,sl(c))}).then(function(){return y6(a,1)}).then(function(){prh(a)});case 2:return y6(a,2);case 4:return urh(a,K(b,2));case 3:return b=K(b,3),null!=b?vrh(a,b):y6(a,2);case 5:return wrh(a)}})}m.aKb=function(a){var b=this;1==this.D.C&&!this.D.J&&0==K(a,2)&&srh(this.C).then(function(c){var d=b.D;c=Dj(c,5);d.J=c;d.dispatchEvent("R")}).Vh(ba())};function urh(a){return y6(a,2)}
function vrh(a,b){return a.Ba?rrh(a.C,b).then(function(c){switch(c.D()){case 1:return y6(a,1);case 2:return y6(a,1);default:return y6(a,2)}}):Up()}function wrh(a){return a.Ha?rrh(a.C,2).then(function(b){switch(b.D()){case 1:case 2:return y6(a,1);default:return y6(a,2)}}):Up()}
function jrh(a){var b;a.V.C.then(function(c){b=c;return Up(a.Ja)}).then(function(c){a.O=new eR(b,c,a);a.qa(a.O);a.L=new eR(b,null,a);a.qa(a.L);a.O.listen(drh,a.VTb).listen(brh,a.CCb).listen(hrh,a.aKb);a.L.listen(drh,a.UTb).listen(brh,a.ypb)})}m.VTb=function(){y6(this,1).Vh(ba())};m.CCb=function(){y6(this,2).Vh(ba())};m.UTb=function(){xrh(this)};m.ypb=function(){xrh(this)};
function y6(a,b){return yrh(a.C).then(function(c){Hqh(a.D,b,c)}).then(function(){return srh(a.C).then(function(c){var d=a.D;c=!!Dj(c,5);d.J=c;d.dispatchEvent("R")})}).then(function(){if(a.H)switch(b){case 1:a.H.start();lrh(a);break;case 2:a.H.stop()}})}function xrh(a){yrh(a.C).then(function(b){var c=a.D;c.D=b;c.dispatchEvent("R")})}function prh(a){a.Da&&1==a.D.C&&zrh(a.C).Vh(ba())}function lrh(a){Arh(a.C).Vh(function(){a.H&&a.H.stop()})};function Brh(a,b,c,d){Oo.call(this);this.H=a;this.ma=b;this.xa=c;this.Ba=new eR(this.xa,Mhd(),this);this.Xa=d;this.J=Yp();this.F=this.L=this.D=this.C=null;this.O=!1}t(Brh,Oo);Brh.prototype.start=function(){var a=this;Crh(this,"Initialization").then(function(){a.O=!0;a.J.resolve(null);a.Ba.listen(Did,a.R).listen(tid,a.V).listen(brh,a.Da)},function(b){a.J.resolve(sl(b))})};function Drh(a){return a.J.C.then(function(b){if(null!=b)throw b;})}
Brh.prototype.R=function(a){a=Nj(a,bR,1);for(var b=0;b<a.length;b++){var c=a[b].getExtension(Hid);if(c&&K(c,1)==this.H){var d=K(c,3);c=d.includes(1);d=d.includes(3);if(c||d){Erh(this,"Document data changed");break}}}};Brh.prototype.V=function(a){K(a,1)==this.H&&Erh(this,"Document available")};Brh.prototype.Da=function(){Erh(this,"Offline disabled")};function Erh(a,b){Crh(a,b).Vh(function(c){Ik(a.Xa,sl(c))})}
function Crh(a,b){return Frh(a.ma,[a.H]).then(function(c){var d=!1,e=!1,f=null,h=null;if(1==c.length)a:if(c=c[0],d=Dj(c,7),e=Dj(c,8),f=K(c,11),h=Dj(c,13),c=K(c,12),d){if(f){if((c=c&&c>=f)&&0==h){h=3;break a}if(!c){h=5;break a}}h=e?2:4}else h=0;var k=c=!1,l=!1,n=!1;a.O&&(c=a.C!=d,k=a.D!=e,l=a.L!=h,n=a.F!=f);a.C=d;a.D=e;a.L=h;a.F=f;c&&a.dispatchEvent("Gi");k&&a.dispatchEvent("Hi");(l||n)&&a.dispatchEvent("Ii")}).Vh(function(c){throw tl(c,{pinStatusUpdateReason:b});})};function Grh(a){var b=a.label,c=a.Ui;a=a.ANb;return T('<div class="'+U("docs-in-editor-sync-state-icon")+" "+U("docs-material")+'" title="'+U(a)+'" aria-label="'+U(a)+'"><div class="'+U("docs-in-editor-sync-state-animation-icon")+" "+U("docs-icon")+" "+U("goog-inline-block")+'"><div class="'+U("docs-icon-img")+" "+U("docs-icon-img-container")+" "+U(c)+'"></div></div></div><span>'+R(b)+"</span>")};function Hrh(a){a=Irh[a];if(!a)throw Error("Unknown editor sync state for the document");return a}function Jrh(a){a=Krh[a];if(!a)throw Error("Unknown pinning state for the document");return a}var Irh={2:"docs-icon-offline-pin-20",3:"docs-icon-sync-problem-20",4:"docs-icon-sync-20",5:"docs-icon-sync-20"},Krh={2:"Available offline",3:"Trouble syncing",4:"Waiting to sync",5:"Syncing",7:"Waiting to sync your changes",6:"Can't sync your changes"};function Lrh(a,b){A.call(this);this.D=a;this.Xa=b;this.La=new Po(this);this.qa(this.La);this.C=null}t(Lrh,A);Lrh.prototype.initialize=function(){var a=this;return Drh(this.D).then(function(){a.La.listen(a.D,"Ii",a.F);a.F()})};Lrh.prototype.F=function(){var a=this.D.L;null==a||0==a?(Rt(),$t).setProperty("node-label",null):(Rt(),$t).setProperty("node-label",Ty(Grh,{label:$t.getLabel(),Ui:Hrh(a),ANb:Jrh(a)}));Mrh(this,a)};
function Mrh(a,b){var c=a.D.F;c&&5==b?(b=Na()-c,18E4<b?(cq(a.C),Nrh(a,!1)):(Nrh(a,!0),cq(a.C),a.C=bq(function(){return void Nrh(a,!1)},18E4-b))):(cq(a.C),Nrh(a,!1))}function Nrh(a,b){var c;(c=So().bb("docs-in-editor-sync-state-animation-icon"))?(ky(c,"docs-in-editor-animated-sync",b),c=!0):c=!1;!c&b&&Ik(a.Xa,Error("Attempted to animate an absent sync state icon."))}Lrh.prototype.Ia=function(){cq(this.C);A.prototype.Ia.call(this)};function Orh(){return T('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function Prh(a,b){SB.call(this);this.R=a;this.H=b||null;this.setTitle("Turn on offline for all files?");a=new Cy;a.Cf({key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);a.Cf({key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);Fy(this,a);Ey(this,!1);this.wj=this.Jr=!0;a=new wM;vy(this,Gmc(a,Orh));this.C=this.F=null}t(Prh,SB);
Prh.prototype.Ga=function(){SB.prototype.Ga.call(this);Qy(this,this.D.C);this.F=Gp(this.oa(),"docs-offline-optindialog-disclaimer-link");this.C=Gp(this.oa(),"docs-offline-optindialog-disclaimer");this.getHandler().listen(this,"dialogselect",this.L).Rc(this.F,"click",this.O)};Prh.prototype.L=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key?this.R():"docs-offline-editor-enable-offline-dialog-cancel"==a.key&&this.H&&this.H();this.setVisible(!1)};
Prh.prototype.O=function(){Zx(this.F,"docs-offline-optindialog-disclaimer-link-disabled");P(this.C,!0);this.C.focus()};function Qrh(a,b,c,d,e){A.call(this);this.J=a;this.D=a.D;this.L=b;this.F=c;this.Xa=d;this.H=new Mqh(this.F,this.Xa,e);this.qa(this.H);this.La=new Po(this);this.qa(this.La);this.C=null}t(Qrh,A);function Rrh(a){if(a.C)throw Error("Attempted to show the offline opt in dialog while one is already visible.");return 1==a.D.C||a.D.F()?Nqh(a.H).then(function(b){return b?Srh(a):5}).catch(function(b){gq(a.Xa,sl(b));return 3}):Promise.resolve(3)}
function Srh(a){return 1==a.D.C?Promise.resolve(1):new Promise(function(b,c){a.C=new Prh(function(){Trh(a).then(b,c)},function(){return b(4)});a.F.Fi(a.C);a.La.listen(a.C,"hide",function(){a.C=null});a.C.setVisible(!0)})}function Trh(a){return 1==a.D.C?Promise.resolve(2):Promise.resolve(qrh(a.J,a.L)).then(function(){return 1==a.D.C?2:3})}Qrh.prototype.Ia=function(){this.C&&($B(this.F,this.C),Jf(this.C));A.prototype.Ia.call(this)};function Urh(a,b,c,d,e,f,h,k,l,n,q){A.call(this);this.xa=a;this.Oa=b;this.Na=c;this.C=d;this.D=e;this.Xa=k;new aR;this.La=new Po(this);this.qa(this.La);this.Za=a.C;this.Pa=f;this.Wa=h;this.F=l;this.Sa=n;this.Ba=q;this.V=new Lrh(this.C,this.Xa);this.qa(this.V);this.Da=new qo;this.qa(this.Da);this.H=Vrh(this,"Document now available offline");this.O=Vrh(this,"Document no longer available offline");this.L=Vrh(this,"Could not change offline availability.");this.J=Vrh(this,"Could not enable offline access.");
this.ma=Vrh(this,"Making document available offline\u2026");this.R=Vrh(this,"Document will sync when you reconnect");this.Ja=Vrh(this,"Could not sync document.");this.Ha=new Qrh(this.Wa,10,this.Pa,this.Xa,"To make this document available offline, install the Docs Offline Chrome extension to your browser.");this.qa(this.Ha)}t(Urh,A);function Vrh(a,b){return kC(a.F,b,void 0,!1,3E3,!1,void 0,!0)}m=Urh.prototype;
m.init=function(){var a=this;return Wp([this.D.L(),Drh(this.C),this.V.initialize()]).then(function(){Wrh(a);Xrh(a);(Rt(),$t).setVisible(smb())},function(b){gq(a.Xa,sl(b))})};function Wrh(a){(Rt(),$t).subscribe("action",a.yPa,a);a.La.listen(a.C,"Gi",a.oEb).listen(a.C,"Hi",a.NCb).listen(a.D,"R",a.PCb);ro(a.Da,a.Ba.C,function(){Xrh(a)})}m.yPa=function(){Yrh(this)};function Yrh(a){Up(Rrh(a.Ha)).then(function(b){if(1===b||2===b)return Zrh(a);3===b&&$rh(a,a.J)})}
function Zrh(a){var b=!(Rt(),$t).Cd(),c=a.Sa.zn();b&&!a.C.D&&$rh(a,c?a.ma:a.R);return(new Qp(function(d){Aqh(a.Za,d)})).then(function(){return ash(a,b,c)}).Vh(function(d){$rh(a,a.L);a.Xa.log(sl(d))})}function ash(a,b,c){var d=(new Dqh).Jc(a.xa.D).setType(a.Oa);return bsh(a.Na,[d],b,c).then(function(e){e&&(Dj(e,1)||$rh(a,a.Ja))})}m.oEb=function(){Xrh(this);csh(this);this.C.C||$rh(this,this.O)};m.NCb=function(){csh(this)};m.PCb=function(){Xrh(this)};
function csh(a){1==a.D.C&&a.C.D&&a.C.C&&$rh(a,a.H)}function $rh(a,b){b.isVisible()||(a.H.setVisible(!1),a.O.setVisible(!1),a.L.setVisible(!1),a.J.setVisible(!1),a.ma.setVisible(!1),a.R.setVisible(!1),b.sb()||b.render(),b.setVisible(!0))}function Xrh(a){var b=a.Ba.getState()==(zl(),bza);(Rt(),$t).Ma(!b&&!a.xa.J&&(1==a.D.C||a.D.F()));$t.jc(a.C.C)}
m.Ia=function(){(Rt(),$t).unsubscribe("action",this.yPa,this);A.prototype.Ia.call(this);mC(this.F,this.H);mC(this.F,this.O);mC(this.F,this.L);mC(this.F,this.J);Kf(this.H,this.O,this.L,this.J)};function dsh(a){this.D=a}dsh.prototype.C=g("D");function esh(a){J(this,a,0,-1,fsh,null)}v(esh,I);var fsh=[1];esh.prototype.ea=function(){var a=new E;gsh(this,a);return Y(a)};function gsh(a,b){a=K(a,1);0<a.length&&wj(b,1,a)}function hsh(a,b){return L(a,1,b||[])};function ish(a){J(this,a,0,-1,null,null)}v(ish,I);ish.prototype.ea=function(){var a=new E;jsh(this,a);return Y(a)};function jsh(a,b){a=K(a,1);null!=a&&H(b,1,a)}function ksh(a,b){return L(a,1,b)};function lsh(a){J(this,a,0,-1,msh,null)}v(lsh,I);var msh=[1];lsh.prototype.ea=function(){var a=new E;nsh(this,a);return Y(a)};function nsh(a,b){var c=Nj(a,Dqh,1);0<c.length&&xj(b,1,c,Cqh);c=K(a,2);null!=c&&G(b,2,c);c=K(a,3);null!=c&&G(b,3,c)}function osh(a,b){return Qj(a,1,b)}function psh(a,b){return L(a,2,b)}function qsh(a,b){return L(a,3,b)};function rsh(a){J(this,a,0,-1,ssh,null)}v(rsh,I);var ssh=[1];rsh.prototype.ea=function(){var a=new E;tsh(this,a);return Y(a)};function tsh(a,b){a=K(a,1);0<a.length&&wj(b,1,a)};function z6(a){J(this,a,0,-1,null,null)}v(z6,I);m=z6.prototype;m.ea=function(){var a=new E;var b=K(this,1);null!=b&&H(a,1,b);b=N(this,esh,2);null!=b&&a.C(2,b,gsh);b=N(this,lsh,3);null!=b&&a.C(3,b,nsh);b=N(this,ish,4);null!=b&&a.C(4,b,jsh);b=N(this,rsh,5);null!=b&&a.C(5,b,tsh);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};function ush(a){J(this,a,0,-1,vsh,null)}v(ush,I);var vsh=[1];ush.prototype.ea=function(){var a=new E;wsh(this,a);return Y(a)};function wsh(a,b){a=Nj(a,Qqh,1);0<a.length&&xj(b,1,a,Rqh)};function xsh(a){J(this,a,0,-1,null,null)}v(xsh,I);xsh.prototype.ea=function(){var a=new E;ysh(this,a);return Y(a)};function ysh(a,b){a=N(a,x6,1);null!=a&&b.C(1,a,Eqh)};function zsh(a){J(this,a,0,-1,null,null)}v(zsh,I);m=zsh.prototype;m.ea=function(){var a=new E;Ash(this,a);return Y(a)};function Ash(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&b.D(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getErrorMessage=function(){return K(this,2)};function Bsh(a){J(this,a,0,-1,null,null)}v(Bsh,I);Bsh.prototype.ea=function(){var a=new E;Csh(this,a);return Y(a)};function Csh(a,b){a=K(a,1);null!=a&&b.D(1,a)};function Dsh(a){J(this,a,0,-1,null,null)}v(Dsh,I);Dsh.prototype.ea=function(){var a=new E;Esh(this,a);return Y(a)};function Esh(a,b){a=K(a,1);null!=a&&G(b,1,a)};function Fsh(a){J(this,a,0,-1,null,null)}v(Fsh,I);Fsh.prototype.ea=function(){var a=new E;Gsh(this,a);return Y(a)};function Gsh(a,b){a=N(a,x6,1);null!=a&&b.C(1,a,Eqh)};function Hsh(a){J(this,a,0,-1,null,null)}v(Hsh,I);Hsh.prototype.ea=function(){var a=new E;Ish(this,a);return Y(a)};function Ish(a,b){a=N(a,Sqh,1);null!=a&&b.C(1,a,Tqh)};function Jsh(a){J(this,a,0,-1,null,null)}v(Jsh,I);Jsh.prototype.ea=function(){var a=new E;Ksh(this,a);return Y(a)};function Ksh(a,b){a=N(a,Yee,1);null!=a&&b.C(1,a,Xee)};function Lsh(a){J(this,a,0,-1,null,null)}v(Lsh,I);m=Lsh.prototype;m.ea=function(){var a=new E;var b=K(this,1);null!=b&&H(a,1,b);b=this.qD();null!=b&&a.C(2,b,Ash);b=N(this,ush,3);null!=b&&a.C(3,b,wsh);b=N(this,Hsh,4);null!=b&&a.C(4,b,Ish);b=N(this,xsh,5);null!=b&&a.C(5,b,ysh);b=N(this,Dsh,6);null!=b&&a.C(6,b,Esh);b=N(this,Fsh,7);null!=b&&a.C(7,b,Gsh);b=N(this,Jsh,8);null!=b&&a.C(8,b,Ksh);b=N(this,Bsh,9);null!=b&&a.C(9,b,Csh);return Y(a)};m.getType=function(){return K(this,1)};
m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.qD=function(){return N(this,zsh,2)};function Msh(a,b,c,d,e){A.call(this);this.D=Yp();this.$a=e||So();this.La=new Po(this);this.qa(this.La);this.H=a;this.R=d;a=new um(b);a.mc("ouid",this.H);sKa()&&a.mc("Debug","true");Am(a,"cd="+c);if(Ad(a.C))throw Error("Url contains invalid domain: "+b);this.L=xm(wm(vm(new um,a.H),a.C),a.J).toString();b=om(a.toString(),"sa",""+d);this.O=jB(b);this.C=null;this.F=!1}t(Msh,A);
Msh.prototype.init=function(){var a=this;this.La.listen(Jp(this.$a),"message",this.J);this.C=this.$a.Aa("IFRAME",{style:"display:none"});Pe(this.C,this.O);this.$a.Wb().body.appendChild(this.C);dq(3E4).then(function(){a.F||(Nsh(a),Osh(a),a.D.reject(Error("Iframe initialization timed out")))});return this.D.C.then()};Msh.prototype.reset=function(){Osh(this);this.D=Yp()};function Arh(a){var b=(new z6).setType(12);return A6(a,b).then(ba())}
function nrh(a){var b=(new z6).setType(1);return A6(a,b).then(function(c){c=new vid(new dsh(c.port),"user_"+a.H);a.qa(c);return c})}function Frh(a,b){var c=(new z6).setType(2);b=hsh(new esh,b);Oj(c,2,b);return A6(a,c).then(function(d){return Nj(N(d.response,ush,3),Qqh,1)})}function srh(a,b){var c=(new z6).setType(4);return A6(a,c,b).then(function(d){return N(N(d.response,Hsh,4),Sqh,1)})}
function yrh(a){var b=(new z6).setType(10);return A6(a,b).then(function(c){return N(N(c.response,Fsh,7),x6,1)})}function bsh(a,b,c,d){d=void 0===d?!1:d;var e=(new z6).setType(5);b=qsh(psh(osh(new lsh,b),c),d);Oj(e,3,b);return A6(a,e).then(function(f){return(f=N(f.response,Jsh,8))&&N(f,Yee,1)||null})}function rrh(a,b){var c=(new z6).setType(6);b=ksh(new ish,b);Oj(c,4,b);return A6(a,c).then(function(d){return N(N(d.response,xsh,5),x6,1)})}
function trh(a){var b=(new z6).setType(9);return A6(a,b).then(ba())}function zrh(a){var b=(new z6).setType(11);return A6(a,b).then(ba())}
function A6(a,b,c){c=void 0===c?3E4:c;return a.D.C.then(function(d){var e=Na(),f=new MessageChannel;d.postMessage(b.Qf(),[f.port2]);var h=Yp();f.port1.onmessage=function(l){l=new Psh(l);l.response&&l.response.qD()?(l=l.response.qD(),h.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+l.getType()+"): "+l.getErrorMessage()))):h.resolve(l)};var k=bq(function(){h.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Na()-e)+"ms."))},c);Zp(h.C,function(){f.port1.close();
cq(k)});return h.C}).Vh(function(d){throw tl(d,{iframeRequest_sourceApplication:a.R.toString(),iframeRequest_requestType:b.getType().toString()});})}Msh.prototype.J=function(a){(a=a.xe())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.F&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],If(this,a.close,a),this.D.resolve(a),this.F=!0),Nsh(this))};function Nsh(a){a.La.Bc(Jp(a.$a),"message",a.J)}function Osh(a){a.C&&(a.$a.Wf(a.C),a.C=null)}Msh.prototype.Ia=function(){Osh(this);A.prototype.Ia.call(this)};
function Psh(a){this.response=a.data?new Lsh(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function Qsh(a,b){this.C=a;this.RC=b};function Rsh(a,b,c,d,e){A.call(this);this.Xa=a;this.J=b;this.O=c?c:"DefaultLocalStoreSessionId";this.L=d||new Jjd;this.H=!!e;this.D=null;this.F=new qo;this.qa(this.F);this.C=Ssh(this)}t(Rsh,A);function Ssh(a){a.C&&Jf(a.C);var b=Jc(y(),"lssv");return new Ojd(a.Xa,a.O,0,a.wcb.bind(a),b,!0,new jid)}function Tsh(a){if(a.D)return a.D;a.D=Ush(a);return a.D.Vh(function(b){a.Iia();throw b;})}
function Vsh(a){return Tsh(a).then(function(b){return(new Qp(function(c,d){mOa(b.C.J,c,d)})).then(function(c){return Wsh(a,c)?new Qsh(b,c[0]):null})})}
function Xsh(a){return Tsh(a).then(function(b){return(new Qp(function(c,d){mOa(b.C.J,c,d)})).then(function(c){if(!Wsh(a,c))throw c={usersLength:c.length,allowNonOfflineEnabledUser:a.H,storedUserMatchesFlag:0==c.length?"no users":c[0].getId()==Kc(y(),"docs-offline-lsuid")},tl(Error("Failed to read LocalStore due to invalid user"),c);return new Qsh(b,c[0])})})}function Wsh(a,b){return 1==b.length&&(a.H||b[0].getId()==Kc(y(),"docs-offline-lsuid"))}m=Rsh.prototype;m.get=function(){return Xsh(this).then(function(a){return a.C})};
function Ush(a){return(new Qp(function(b,c){a.C.create(a.Iia.bind(a)).Be(b,c)})).then(a.mAb.bind(a))}m.mAb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.J){var c=new Iid(a,this.J);this.qa(c)}Hya(a);ro(this.F,a.C.C.D,function(){b.Iia()});ro(this.F,a.C.ma,function(){b.Iia()});return a};m.Iia=function(){Jf(this.C);this.C=Ssh(this);this.D=null};m.wcb=function(a){return ohd(this.L,a)};m.Ia=function(){Jf(this.C);A.prototype.Ia.call(this)};function Ysh(a,b,c){this.D=a;this.C=c||null};function Zsh(a,b){this.C=a;this.Xa=b}Zsh.prototype.get=function(){var a=this;return Vsh(this.C).then(function(b){return b?new Ysh(1,b.RC.getId(),eya(b.RC),$sh(a)):Tsh(a.C).then(function(c){return(new Qp(function(d,e){mOa(c.C.J,d,e)})).then(function(d){if(d.length)if(1==d.length)d=d[0],d=new Ysh(4,d.getId(),eya(d));else throw Error("More than one user in store: "+d.length);else d=rNa()?new Ysh(2):Xlb()?new Ysh(5):new Ysh(3);return d})})})};
function $sh(a){a=new KCb(a.Xa);var b=y(),c=[];z(b,"docs-offline-esmst")&&c.push(new sF("metadata-sync",0,!0,new rF(1,Iq(),"metadata",3E5,!0,!0,!0)));z(b,"docs-offline-esbst")&&c.push(new sF("service-worker-update",0,!0,new rF(2,pKa(),"service_worker_update",3E5,!0,!1,!1)),ICb());z(b,"docs-offline-edswut")&&c.push(new sF("drive-service-worker",0,!0,new rF(2,Bqh("/drive/serviceworker/update"),"drive_service_worker_update",3E5,!0,!0,!0)));z(b,"docs-offline-eshcst")&&c.push(new sF("homescreen-cello-sync",
Jc(y(),"docs-offline-scstpim"),!0,new rF(2,rKa(qKa(),"/document/backgroundsync"),"homescreen_cello_sync",3E5,!0,!0,!0)));z(b,"docs-offline-esdcst")&&c.push(new sF("drive-cello-sync",Jc(y(),"docs-offline-scstpim"),!0,new rF(2,Bqh("/drive/_/dataservice/backgroundsync"),"drive_cello_sync",3E5,!0,!0,!0)));z(b,"docs-offline-eslcst")&&c.push(new sF("local-changes-sync",0,!1,new rF(1,Iq(),"local_changes_sync",3E5,!0,!0,!1)));z(b,"docs-offline-esast")&&0<Jc(b,"docs-offline-sastpim")&&c.push(new sF("auto-sync",
Jc(y(),"docs-offline-sastpim"),!1,new rF(1,Iq(),"auto_sync",3E5,!0,!0,!0)));z(b,"docs-offline-eswst")&&c.push(new sF("webfonts-sync",0,!0,new rF(1,Iq(),"webfonts_sync",3E5,!0,!0,!0)));z(b,"docs-offline-esist")&&c.push(new sF("impression-sync",0,!1,new rF(1,Iq(),"impressionSync",3E5,!0,!0,!1)));z(b,"docs-offline-esddt")&&c.push(new sF("document-deletion",0,!1,new rF(1,Iq(),"doc_deletion",3E5,!1,!1,!1)));z(b,"docs-offline-esuuct")&&c.push(new sF("update-unsaved-changes",0,!1,new rF(2,pKa(),"update_unsaved_changes",
3E5,!1,!1,!1)));z(b,"docs-offline-esct")&&c.push(new sF("cleanup-task",0,!1,new rF(2,pKa(),"cleanup",3E5,!1,!1,!1)));z(b,"docs-offline-esrt")&&c.push(new sF("report-task",0,!1,new rF(2,pKa(),"report",3E5,!1,!1,!1)));if(z(b,"docs-offline-eskst")){var d=Mc(b,"docs-offline-rte");$c(d,"kix")&&c.push(new sF("kix-snapshot",0,!1,new rF(1,rKa(qKa(),"/document/snapshot.js"),"kix_snapshot",3E5,!1,!1,!1)))}z(b,"docs-offline-esost")&&c.push(new sF("sync-objects-sync",0,!0,new rF(1,Iq(),"sync_objects_sync",3E5,
!0,!0,!0)));b=[];for(d=0;d<c.length;d++){var e=c[d];e.C&&b.push(e)}for(c=0;c<b.length;c++)if(d=LCb(a,b[c].getId()),!d||!Gj(d,5,!1))return!1;return!0};function ath(a,b){this.L=a;this.J=b}function bth(a){return cth(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){return Fqh(new x6,1)},a.H.bind(a))}ath.prototype.H=function(a){if(a instanceof x6)return a;if(a instanceof Error)throw a;throw Error(a);};
function cth(a){var b=new x6;return a.L.get().then(function(c){var d=c.D;switch(d){case 3:case 2:return Up();case 4:return Fqh(b,3),L(b,2,c.C),Vp(b);case 1:return Fqh(b,2),Vp(b);case 5:return Fqh(b,4),Vp(b);default:throw Error("Unexpected enabled state: "+d);}})}ath.prototype.D=function(){var a=this;return(new Qp(function(b,c){Jhd(a.J,b,c)})).then(function(b){if(b)return Up();b=Fqh(new x6,5);return Vp(b)})};ath.prototype.C=function(){if(fr())return Up();var a=Fqh(new x6,6);return Vp(a)};
ath.prototype.F=function(){var a=Jc(y(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Qp(function(b,c){kJb().then(function(d){d=d.C;if(d>a)b();else{var e=Fqh(new x6,7);e=L(e,3,a);d=L(e,4,d);c(d)}},c)})};function dth(a){J(this,a,0,-1,null,null)}v(dth,I);dth.prototype.ea=function(){return Y(new E)};var eth=new yj(140441684,dth);yF[140441684]=new zj(eth,ba(),function(a,b){for(;jj(b)&&!ij(b);)kj(b);return a});xF[140441684]=eth;function fth(a){Oo.call(this);this.$a=a||So();this.La=new Po(this);this.qa(this.La);this.C=new tz(a);this.C.rr(!1);uz(this.C,!1);this.C.Lc("docs-offline-optinpromo");this.C.render();a=this.C.Ka();Bp(a,!0);Qx(a,"dialog");Sx(a,"labelledby","docs-offline-optinpromo-title");Sx(a,"describedby","docs-offline-optinpromo-description");this.qa(this.C);this.L=new PA(null);this.qa(this.L);this.J=new PA(null);this.qa(this.J);this.H=new PA(null);this.qa(this.H);this.O=this.F=this.D=null;gth(this,hth)}t(fth,Oo);
function gth(a,b){var c=Ty(b);a.C.setContent(c);switch(b){case hth:a.La.listen(a.C,"show",a.CEb);b=a.$a.getElement("docs-offline-optinpromo-optin");a.L.Va(b);a.La.Rc(a.L,"action",u(a.kDb,a));b=a.$a.getElement("docs-offline-optinpromo-decline");a.J.Va(b);a.La.Rc(a.J,"action",u(a.Ttb,a));a.D=a.$a.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.$a.getElement("docs-offline-optinpromo-link-show-less");a.O=a.$a.getElement("docs-offline-optinpromo-learn-more-container");a.La.listen(a.D,"click",
u(a.T0a,a,!0)).listen(a.F,"click",u(a.T0a,a,!1));break;case ith:b=a.$a.getElement("docs-offline-optinpromo-confirm-close");a.H.Va(b);a.La.Rc(a.H,"action",u(a.show,a,!1));a.C.Ka().focus();break;default:throw Error("Cannot handle state "+b);}a.$a.getElement("docs-offline-optinpromo-title");a.$a.getElement("docs-offline-optinpromo-description")}m=fth.prototype;m.T0a=function(a){P(this.D,!a);P(this.F,a);P(this.O,a);(a?this.F:this.D).focus();return!1};m.kDb=function(){this.dispatchEvent(new Ao("Ki"))};
m.Ttb=function(){this.dispatchEvent(new Ao("Li"))};m.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new Ao("Mi"))};m.CEb=function(){this.C.Ka().focus();this.dispatchEvent(new Ao("Ji"))};
function hth(a,b,c){b=c||b;a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">Work offline and don\'t miss a beat</span></div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline, or your internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn more</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password protected account. Enabling offline access on public or shared computers can put your data at risk, since others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br><div class="docs-offline-optinpromo-buttons">'+R(OA({id:"docs-offline-optinpromo-optin",
content:"Turn on offline access",style:2},b));a+=R(OA({id:"docs-offline-optinpromo-decline",content:"No thanks",style:0},b));return T(a+"</div></div>")}
function ith(a,b,c){a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">You\'re all set</span></div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline.</div><div class="docs-offline-optinpromo-buttons docs-offline-optinpromo-confirm-buttons">'+R(OA({id:"docs-offline-optinpromo-confirm-close",content:"Close"},c||b));return T(a+"</div></div>")};function jth(a){this.C=a}function kth(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Na()});a.C.setItem("optInLog",Hm(c))}function lth(){var a=oa.localStorage;if(!a)throw Error("Local storage not available");return new jth(a)};function mth(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function nth(a){return Tsh(a.H).then(function(b){return oth(b).then(function(){var c=Hhd();if(!c)throw Error("Missing user info for enabling offline in flags.");return pth(a,b,c)})}).then(function(b){return qth(a,b)})}function oth(a){return(new Qp(function(b,c){mOa(a.C.J,b,c)})).then(function(b){if(b&&b.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function pth(a,b,c){var d=new cya(K(c,1),!0);dya(d,K(c,2));fya(d,K(c,3));gya(d,!!Dj(c,4));hya(d,!!Dj(c,6));Bg(d,"optInReasons",a.C);return(new Qp(function(e,f){b.write([d],e,f)})).then(function(){return d})}
function qth(a,b){kth(lth(),eya(b)||"");oa.localStorage&&(oa.localStorage.removeItem("docs-uoo"),oa.localStorage.setItem("docs-oiouid",b.getId()));b=new wF;var c=new crh;b.VL(drh,c);wid(a.F,b);b=new aR;var d=new Ihd(b);return Ugd(b).then(function(){return new Qp(function(e,f){Jhd(d,e,f)})}).then(function(e){var f=Khd(),h=new ok;a.C[0]&&L(h,1,dOa(a.C[0]));L(h,10,e);L(h,11,f);e=a.D.Iw(81E3,0);f=vF(e);Oj(f,34,h);a.D.Yt(e)})};function rth(){var a=y(),b=z(a,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0,c=!(Da(oa)&&oa.window==oa)||!oa.document||!oa.document.documentElement,d=Kc(a,"docs-offline-ue");if(z(a,"docs-eea"))return new vW(306,function(){return d?Mme([{key:"e",value:d}]):null},null,EVe,b,c,!0);a=Kc(a,"gaia_session_id");return new vW(306,Mme,a||null,EVe,b,c,!0)};function sth(a){this.D=a}sth.prototype.C=function(a,b,c){Vsh(this.D).then(function(d){d?(new Nof(d.C,"offline",null)).C(a,b,c):b()})};function tth(){this.C=this.ah=null}function uth(a){switch(a){case "scary":return 3;case "canary":return 2;case "prod":return 1;default:return 0}};function vth(a,b,c,d,e,f){A.call(this);this.$a=f||So();this.D=a;this.Xa=b;this.Wa=c;this.cb=d;a=new $Cb;this.qa(a);this.F=new vid(a,Mhd());this.qa(this.F);this.Ha=new eR(this.F,Mhd(),this);this.qa(this.Ha);this.Ba=new eR(this.F,null,this);this.qa(this.Ba);this.L=new Rsh(this.Xa,this.F,"OfflinePromoControllerLockSessionId");this.qa(this.L);a=new Zsh(this.L,this.Xa);b=new aR;this.Sa=new ath(a,new Ihd(b));a=new tth;a.C=this.L;if(a.C)c=new sth(a.C);else if(a.ah)c=new Nof(a.ah,"offline",null);else throw Error("Must set either a LocalStore or LocalStoreSupplier");
a=new QCb;b=Efd();f=c;c=rth();d=new Pof(c);f=rmb()?f:new Vof;d=new Tof(d,null,f);c=new Oof(c);c=$Xe(ZXe(new YXe,d),c);c.R=!0;a=dYe(aYe(cYe(bYe(c,b),84),a));b=(new Sof(!1)).get();c=y();d=Kc(c,"jobset");L(b,9,uth(d));d=ZRe(a.Vz());d.H=b;$Re(d,Kc(c,"buildLabel"));c=x8e(!1);null!=c&&(b=a.Vz(),f=YRe(b,c.H),d=c.C,K(KV(f),4),f=KV(f),L(f,4,d),aj&&z(y(),"docs-ccdil")&&(d=new xRe,d=L(d,1,c.D),c=L(d,2,c.F||[]),b=aSe(b),K(b,9),Oj(b,9,c)));this.Na=a;this.Na.lE();this.Pa=Hkd(this.$a);this.C=null;this.La=new Po(this);
this.qa(this.La);this.O=new qo;this.qa(this.O);this.R=new Jq(this.Mxb,6E4,this);this.qa(this.R);this.xa=!1;this.V=this.H=null;this.Da=$A.getInstance();this.J=this.Oa=!1;this.ma=smb()&&Kx("56.0.2924.87");this.Ja=!1;this.Za=e}t(vth,A);m=vth.prototype;m.init=function(){var a=this;fr()&&(wth(this),xth(this),B6(this).then(function(){yth(a)},function(b){gq(a.Xa,sl(b))}))};
function yth(a){a.F.connect();ro(a.O,a.D.JK(),function(){a.R.start();B6(a)});ro(a.O,a.D.tQ(),function(){a.R.stop();wth(a);xth(a);B6(a)});ro(a.O,a.Pa.cH(),function(){zth(a)});a.Ha.listen(drh,a.TTb);a.Ba.listen(drh,a.STb).listen(eth,a.zpb)}
function B6(a){return bth(a.Sa).then(function(b){var c=1==b.D(),d=a.D.zn(),e;if(!(e=a.J)&&(e=!rNa())){try{var f=!!oa.localStorage.getItem("docs-urop")}catch(l){f=!0}e=!f}f=e;var h=y();e=!!Kc(h,"promo_id_for_preference");h=z(h,"promo_is_contextual");e=!e||h;if((c=c&&a.ma&&f)&&!(c=!d)){try{var k=!!oa.localStorage.getItem("docs-wownoi")}catch(l){k=!1}c=k&&e}k=c;a.Oa||(k?a.C||(a.C=new fth(a.$a),a.qa(a.C),a.La.listen(a.C,"Ki",a.lDb).listen(a.C,"Li",a.hDb).listen(a.C,"Mi",a.Mdb),a.C.show(!0),zth(a)):a.C&&
a.C.show(!1));if(a.cb)if(2==b.D()||d||k)Ath(a);else if(a.V&&!Tj(b,a.V)&&Ath(a),null==a.H){d=Bth(b);if(!a.Ja)switch(b.D()){case 1:break;case 3:Cth(a,"Offline ineligible, other user enabled");break;case 7:Cth(a,"Offline ineligible, insufficient disk space");break;case 5:Cth(a,"Offline ineligible, policy disallows");break;case 6:Cth(a,"Offline ineligible, no extension");break;case 4:Cth(a,"Offline ineligible, invalid db state");break;default:Cth(a,"Offline ineligible, unknown reason")}b=1==b.D()&&a.ma?
cB(d,"Turn on",a.YEb.bind(a),"info",!1):bB(d,"info",!1);a.H=a.Da.postMessage(b)}})}m.Mxb=function(){Wlb()||Iqh(!0)};
m.mDb=function(){if(this.D.zn()){var a=Kc(y(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit <a href=\"//"+(U(a)+'">'+(R(a)+('</a> to create and edit without interruption. <a href="'+(U(Gx("https://support.google.com/docs/answer/2375012?hl=en"))+'">Learn more</a>'))));b=T(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=F$a("Your documents are syncing",yx(b),void 0,this,
"Got it","docs-offline-welcomepromo",this.$a);Zx(b.Nq(),"docs-offline-welcomepromo-bg");this.qa(b);this.C&&this.C.show(!1)}else this.Oa=!0,gth(this.C,ith);B6(this)};m.TTb=function(){B6(this)};m.STb=function(){B6(this)};m.zpb=function(){this.J=!1;B6(this)};m.jDb=function(a){gq(this.Xa,a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=kC(this.Za,"Turning on offline access failed. Please try again later.",this.$a);a.D=!0;a.render();a.setVisible(!0);this.qa(a)};
m.lDb=function(){Dth(this,2054,this.D.zn());Iqh(!1);nth(new mth(this.L,this.F,this.Na)).then(u(this.mDb,this),u(this.jDb,this))};m.hDb=function(){this.D.zn()?Dth(this,2055,!0):Kqh(!0);Iqh(!1);oa.localStorage.setItem("docs-urop","true");this.J=!1;B6(this);var a=new wF,b=new dth;a.VL(eth,b);wid(this.F,a)};
function Bth(a){switch(a.D()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.O()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync is disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function Cth(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";Ik(a.Xa,Error("Offline editing disabled: "+b),c);a.Ja=!0}function Ath(a){null!=a.H&&(aB(a.Da,a.H),a.H=null,a.V=null)}m.YEb=function(){this.J=!0;B6(this)};m.Mdb=function(){Jf(this.C);this.C=null};function zth(a){!a.xa&&a.C&&"hidden"!=a.Pa.getState()&&(a.D.zn()?Dth(a,2847,!0):Jqh(!0),a.xa=!0)}
function wth(a){try{var b=!!oa.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.zn()&&(Jqh(!1),Dth(a,2847,!1))}function xth(a){try{var b=!!oa.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.zn()&&(Kqh(!1),Dth(a,2055,!1))}function Dth(a,b,c){var d=new qk;c=L(d,2,c);c=Dz(yz(Lab(new xz,c),43));a.Wa.C(b,c)};function Eth(a,b,c,d){A.call(this);this.C=a;this.Na=c;this.L=d;this.D=new qo;this.qa(this.D);this.Ba=new eR(b,Mhd(),this);this.qa(this.Ba);this.F=Hkd();this.qa(this.F);this.O=!1;z(y(),"docs-offline-eeooip");this.Ha=new aR;this.ma=null;this.xa=this.R=this.V=!1;this.J=new Jq(this.Da,Math.floor(27E4*Math.random())+3E4,this);this.qa(this.J);this.H=[]}t(Eth,A);
Eth.prototype.init=function(){var a=this;this.Ba.listen(drh,this.Ja);this.ma=fr();ro(this.D,this.F.cH(),function(){return Fth(a)});this.H.push(new Gth("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss",this.L));this.H.push(new Gth("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss",this.L))};
function Hth(a){a.xa||(ro(a.D,a.C.JK(),function(){return Ith(a)}),ro(a.D,a.C.tQ(),function(){return Ith(a)}),a.xa=!0)}Eth.prototype.Ja=function(){this.O||(this.O=!0,Hth(this),"visible"==this.F.getState()||this.J.Vb()||this.J.start(),Ith(this))};function Ith(a){var b=!1;a.H.forEach(function(c){var d;if(d=!b){d=!1;switch(c.O){case "reload-after-opt-in":d=a.O&&a.C.zn();break;case "reload-after-extension-installation":d=a.V&&a.C.zn()}d=d&&!c.F}d?(Jth(c),b=!0):null!=c.C&&(aB(c.H,c.C),c.C=null)})}
Eth.prototype.Da=function(){this.R||!this.C.zn()||no(this.Na.DY(),64)||qF(this.L)};function Fth(a){var b="visible"==a.F.getState();a.R||(a.R=b&&a.H.some(function(c){return null!=c.C}));b&&0==a.ma&&!a.V&&Kth(a).then(function(c){c&&(a.V=!0,Hth(a),Ith(a))})}function Kth(a){return Ygd(a.Ha).then(function(){return fr()})}
function Gth(a,b,c,d){A.call(this);var e=this;this.O=a;this.L=b;this.J=d;this.F=!1;this.C=null;this.H=$A.getInstance();this.D=new Nw(c);this.qa(this.D);this.D.setProperty("label","Dismiss");this.D.Ma(!0);this.D.Ob(nt,function(){e.F=!0})}t(Gth,A);function Jth(a){null==a.C&&(a.C=a.H.postMessage(cB(a.L,"Reload",function(){qF(a.J)},"info",!0,void 0,a.D)))};function Lth(a,b,c,d){A.call(this);var e=this;this.C=c;this.L=!1;this.F=kC(this.C,"Offline enabled",void 0,!1,3E3,!1,void 0,!0);this.D=kC(this.C,"Could not enable offline access.",void 0,!1,3E3,!1,void 0,!0);this.H=new Qrh(a,11,b,d);this.qa(this.H);a.D.L().then(function(){e.L=!0;(Rt(),JZa).Ma(!0);JZa.subscribe("action",e.J,e)},function(f){gq(d,sl(f))})}t(Lth,A);Lth.prototype.J=function(){var a=this;Rrh(this.H).then(function(b){2==b||1==b?Mth(a,a.F):3==b&&Mth(a,a.D)})};
function Mth(a,b){b.isVisible()||(a.F.setVisible(!1),a.D.setVisible(!1),b.sb()||b.render(),b.setVisible(!0))}Lth.prototype.Ia=function(){(Rt(),JZa).unsubscribe("action",this.J,this);A.prototype.Ia.call(this);mC(this.C,this.F);mC(this.C,this.D);Kf(this.F,this.D)};function Nth(a,b,c,d,e,f,h,k,l,n,q,r){A.call(this);var w=this,x=y();this.F=Kc(x,"docs-offline-lsuid");this.H=new $Cb;this.C=new vid(this.H,Mhd());this.qa(this.C);this.C.connect();this.Xa=b;f=new Eth(a,this.C,e.C,f);this.qa(f);f.init();z(x,"docs-offline-eeooip")&&(c=new vth(a,b,c,d,l,r),this.qa(c),c.init());this.D=new Gqh;this.qa(this.D);c=oKa("/iframeapi");c=new Msh(this.F,c,1,Oth());this.qa(c);x=z(x,"docs-sw-eswhfe");b=new irh(c,this.D,this.F,!1,!0,!1,a,b,!1,x);this.qa(b);b.start().Vh(function(F){w.Xa.log(sl(F))});
q.resolve(b);q=new Brh(e.D,c,this.C,this.Xa);this.qa(q);q.start();a=new Urh(e,h,c,q,this.D,k,b,this.Xa,l,a,n);this.qa(a);a.init();z(y(),"docs-eesi")&&(k=new Lth(b,k,l,this.Xa),this.qa(k))}t(Nth,A);function Oth(){switch(Kc(y(),"docs-dt")){case "kix":return 5;case "ritz":return 6;case "punch":return 7;case "drawing":return 8}throw Error("Unable to map document type to source application.");};function Pth(){IJ.apply(this,arguments)}t(Pth,IJ);Pth.prototype.C=function(a,b,c,d,e,f,h,k,l,n,q){return new Nth(a,b,c,!0,d,e,f,h,k,l,n,q)};MJ("offline",Pth);
